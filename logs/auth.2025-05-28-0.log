2025-05-28 11:36:31.426 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 11:36:31.466 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 11:36:31.624 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 11:36:31.625 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-05-28 11:36:31.625 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-05-28 11:36:31.626 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-05-28 11:36:31.642 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-28 11:36:31.643 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-28 11:36:31.644 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-05-28 11:36:32.958 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 11:36:32.968 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\29567\nacos\config
2025-05-28 11:36:32.970 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of e03a5ad2-a74b-4106-b260-5f84516b6674_config-0
2025-05-28 11:36:32.992 [main] INFO  com.alibaba.nacos.common.remote.client - [e03a5ad2-a74b-4106-b260-5f84516b6674_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$590/0x0000015acf392e60
2025-05-28 11:36:32.992 [main] INFO  com.alibaba.nacos.common.remote.client - [e03a5ad2-a74b-4106-b260-5f84516b6674_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$591/0x0000015acf393280
2025-05-28 11:36:32.992 [main] INFO  com.alibaba.nacos.common.remote.client - [e03a5ad2-a74b-4106-b260-5f84516b6674_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2025-05-28 11:36:32.992 [main] INFO  com.alibaba.nacos.common.remote.client - [e03a5ad2-a74b-4106-b260-5f84516b6674_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2025-05-28 11:36:32.999 [main] INFO  com.alibaba.nacos.common.remote.client - [e03a5ad2-a74b-4106-b260-5f84516b6674_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-28 11:36:33.026 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-28 11:36:33.872 [main] INFO  com.alibaba.nacos.common.remote.client - [e03a5ad2-a74b-4106-b260-5f84516b6674_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1748403393663_127.0.0.1_52135
2025-05-28 11:36:33.873 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [e03a5ad2-a74b-4106-b260-5f84516b6674_config-0] Notify connected event to listeners.
2025-05-28 11:36:33.873 [main] INFO  com.alibaba.nacos.common.remote.client - [e03a5ad2-a74b-4106-b260-5f84516b6674_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-28 11:36:33.873 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [e03a5ad2-a74b-4106-b260-5f84516b6674_config-0] Connected,notify listen context...
2025-05-28 11:36:33.873 [main] INFO  com.alibaba.nacos.common.remote.client - [e03a5ad2-a74b-4106-b260-5f84516b6674_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$611/0x0000015acf4dbd18
2025-05-28 11:36:33.903 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2025-05-28 11:36:33.934 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2025-05-28 11:36:33.963 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-auth.yaml] & group[DEFAULT_GROUP]
2025-05-28 11:36:33.971 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth,DEFAULT_GROUP'}]
2025-05-28 11:36:33.989 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 11:36:33.989 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - The following 1 profile is active: "dev"
2025-05-28 11:36:34.578 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-28 11:36:34.581 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-28 11:36:34.600 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-05-28 11:36:34.704 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=783fb265-d87b-38bc-9ad4-363b5e5dd7e9
2025-05-28 11:36:35.167 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-05-28 11:36:35.176 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-05-28 11:36:35.176 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-05-28 11:36:35.243 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-28 11:36:35.244 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1245 ms
2025-05-28 11:36:35.564 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-05-28 11:36:35.822 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-05-28 11:36:37.535 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-28 11:36:39.582 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-28 11:36:39.670 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-05-28 11:36:39.670 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-05-28 11:36:39.670 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-05-28 11:36:39.670 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-05-28 11:36:39.682 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-28 11:36:39.682 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-28 11:36:39.687 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 3dc85a6e-e386-4439-af95-7990bcef8cc2
2025-05-28 11:36:39.687 [main] INFO  com.alibaba.nacos.common.remote.client - [3dc85a6e-e386-4439-af95-7990bcef8cc2] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-05-28 11:36:39.687 [main] INFO  com.alibaba.nacos.common.remote.client - [3dc85a6e-e386-4439-af95-7990bcef8cc2] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-05-28 11:36:39.687 [main] INFO  com.alibaba.nacos.common.remote.client - [3dc85a6e-e386-4439-af95-7990bcef8cc2] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-05-28 11:36:39.687 [main] INFO  com.alibaba.nacos.common.remote.client - [3dc85a6e-e386-4439-af95-7990bcef8cc2] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-28 11:36:39.687 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-28 11:36:39.821 [main] INFO  com.alibaba.nacos.common.remote.client - [3dc85a6e-e386-4439-af95-7990bcef8cc2] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1748403399697_127.0.0.1_52158
2025-05-28 11:36:39.821 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [3dc85a6e-e386-4439-af95-7990bcef8cc2] Notify connected event to listeners.
2025-05-28 11:36:39.821 [main] INFO  com.alibaba.nacos.common.remote.client - [3dc85a6e-e386-4439-af95-7990bcef8cc2] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-28 11:36:39.821 [main] INFO  com.alibaba.nacos.common.remote.client - [3dc85a6e-e386-4439-af95-7990bcef8cc2] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$611/0x0000015acf4dbd18
2025-05-28 11:36:39.821 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-05-28 11:36:39.821 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-auth with instance Instance{instanceId='null', ip='192.168.10.1', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-05-28 11:36:39.836 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-auth 192.168.10.1:8080 register finished
2025-05-28 11:36:41.331 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-28 11:36:41.348 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - Started XiaohashuAuthApplication in 11.479 seconds (process running for 11.951)
2025-05-28 11:36:41.348 [main] INFO  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2025-05-28 11:36:41.918 [main] WARN  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 角色权限数据已经同步至 Redis 中，不再同步...
2025-05-28 11:36:41.920 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-05-28 11:36:41.920 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth.yaml+DEFAULT_GROUP+xiaohashu
2025-05-28 11:36:41.929 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP, cnt=1
2025-05-28 11:36:41.929 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP
2025-05-28 11:36:41.932 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth-dev.yaml+DEFAULT_GROUP+xiaohashu
2025-05-28 11:36:41.932 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP, cnt=1
2025-05-28 11:36:41.932 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP
2025-05-28 11:36:41.934 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth+DEFAULT_GROUP+xiaohashu
2025-05-28 11:36:41.934 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth, group=DEFAULT_GROUP, cnt=1
2025-05-28 11:36:41.934 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth, group=DEFAULT_GROUP
2025-05-28 12:05:55.215 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-05-28 12:05:55.215 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-05-28 12:05:55.216 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-05-28 12:05:55.216 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-05-28 12:05:55.267 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-05-28 12:05:55.267 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-auth with instance: Instance{instanceId='null', ip='192.168.10.1', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-05-28 12:05:55.267 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-05-28 12:05:55.267 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-05-28 12:05:55.267 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-05-28 12:05:55.267 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-05-28 12:05:55.267 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-05-28 12:05:55.267 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-05-28 12:05:55.267 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-05-28 12:05:55.267 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-05-28 12:05:55.267 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-05-28 12:05:55.267 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-28 12:05:55.267 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-28 12:05:55.267 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-05-28 12:05:55.267 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-05-28 12:05:55.267 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-28 12:05:55.267 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-28 12:05:55.267 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-05-28 12:05:55.267 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-05-28 12:05:55.267 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@7b7e2e[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-05-28 12:05:55.267 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1748403399697_127.0.0.1_52158
2025-05-28 12:05:55.286 [nacos-grpc-client-executor-127.0.0.1-376] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1748403399697_127.0.0.1_52158]Ignore complete event,isRunning:false,isAbandon=false
2025-05-28 12:05:55.286 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@13a33899[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 377]
2025-05-28 12:05:55.287 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@6639ea02[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 583]
2025-05-28 12:05:55.287 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-05-28 12:05:55.287 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-05-28 12:05:55.287 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-05-28 12:05:55.287 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-05-28 12:05:55.287 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-05-28 12:05:59.612 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 12:05:59.651 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 12:05:59.802 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 12:05:59.803 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-05-28 12:05:59.803 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-05-28 12:05:59.804 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-05-28 12:05:59.822 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-28 12:05:59.823 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-28 12:05:59.825 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-05-28 12:06:01.129 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 12:06:01.137 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\29567\nacos\config
2025-05-28 12:06:01.139 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 9511a474-26e0-43d0-8feb-ad02775bdaf0_config-0
2025-05-28 12:06:01.152 [main] INFO  com.alibaba.nacos.common.remote.client - [9511a474-26e0-43d0-8feb-ad02775bdaf0_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$590/0x000001b347393488
2025-05-28 12:06:01.152 [main] INFO  com.alibaba.nacos.common.remote.client - [9511a474-26e0-43d0-8feb-ad02775bdaf0_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$591/0x000001b3473938a8
2025-05-28 12:06:01.153 [main] INFO  com.alibaba.nacos.common.remote.client - [9511a474-26e0-43d0-8feb-ad02775bdaf0_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2025-05-28 12:06:01.153 [main] INFO  com.alibaba.nacos.common.remote.client - [9511a474-26e0-43d0-8feb-ad02775bdaf0_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2025-05-28 12:06:01.157 [main] INFO  com.alibaba.nacos.common.remote.client - [9511a474-26e0-43d0-8feb-ad02775bdaf0_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-28 12:06:01.182 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-28 12:06:01.774 [main] INFO  com.alibaba.nacos.common.remote.client - [9511a474-26e0-43d0-8feb-ad02775bdaf0_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1748405161607_127.0.0.1_52591
2025-05-28 12:06:01.774 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [9511a474-26e0-43d0-8feb-ad02775bdaf0_config-0] Notify connected event to listeners.
2025-05-28 12:06:01.774 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [9511a474-26e0-43d0-8feb-ad02775bdaf0_config-0] Connected,notify listen context...
2025-05-28 12:06:01.774 [main] INFO  com.alibaba.nacos.common.remote.client - [9511a474-26e0-43d0-8feb-ad02775bdaf0_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-28 12:06:01.775 [main] INFO  com.alibaba.nacos.common.remote.client - [9511a474-26e0-43d0-8feb-ad02775bdaf0_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$611/0x000001b3474dba58
2025-05-28 12:06:01.798 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2025-05-28 12:06:01.806 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2025-05-28 12:06:01.814 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-auth.yaml] & group[DEFAULT_GROUP]
2025-05-28 12:06:01.823 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth,DEFAULT_GROUP'}]
2025-05-28 12:06:01.839 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 12:06:01.840 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - The following 1 profile is active: "dev"
2025-05-28 12:06:02.236 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-28 12:06:02.238 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-28 12:06:02.254 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2025-05-28 12:06:02.342 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=783fb265-d87b-38bc-9ad4-363b5e5dd7e9
2025-05-28 12:06:02.702 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-05-28 12:06:02.713 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-05-28 12:06:02.714 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-05-28 12:06:02.812 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-28 12:06:02.813 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 964 ms
2025-05-28 12:06:03.121 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-05-28 12:06:03.326 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-05-28 12:06:04.902 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-28 12:06:06.342 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-28 12:06:06.410 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-05-28 12:06:06.413 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-05-28 12:06:06.413 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-05-28 12:06:06.413 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-05-28 12:06:06.418 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-28 12:06:06.419 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-28 12:06:06.422 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 5d2c915b-5dea-46c5-ba7b-06930861074f
2025-05-28 12:06:06.423 [main] INFO  com.alibaba.nacos.common.remote.client - [5d2c915b-5dea-46c5-ba7b-06930861074f] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-05-28 12:06:06.423 [main] INFO  com.alibaba.nacos.common.remote.client - [5d2c915b-5dea-46c5-ba7b-06930861074f] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-05-28 12:06:06.423 [main] INFO  com.alibaba.nacos.common.remote.client - [5d2c915b-5dea-46c5-ba7b-06930861074f] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-05-28 12:06:06.424 [main] INFO  com.alibaba.nacos.common.remote.client - [5d2c915b-5dea-46c5-ba7b-06930861074f] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-28 12:06:06.424 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-28 12:06:06.544 [main] INFO  com.alibaba.nacos.common.remote.client - [5d2c915b-5dea-46c5-ba7b-06930861074f] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1748405166428_127.0.0.1_52597
2025-05-28 12:06:06.544 [main] INFO  com.alibaba.nacos.common.remote.client - [5d2c915b-5dea-46c5-ba7b-06930861074f] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-28 12:06:06.544 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [5d2c915b-5dea-46c5-ba7b-06930861074f] Notify connected event to listeners.
2025-05-28 12:06:06.544 [main] INFO  com.alibaba.nacos.common.remote.client - [5d2c915b-5dea-46c5-ba7b-06930861074f] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$611/0x000001b3474dba58
2025-05-28 12:06:06.545 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-05-28 12:06:06.546 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-auth with instance Instance{instanceId='null', ip='192.168.10.1', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-05-28 12:06:06.555 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-auth 192.168.10.1:8080 register finished
2025-05-28 12:06:07.731 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-28 12:06:07.763 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - Started XiaohashuAuthApplication in 9.632 seconds (process running for 10.029)
2025-05-28 12:06:07.765 [main] INFO  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2025-05-28 12:06:08.063 [main] WARN  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 角色权限数据已经同步至 Redis 中，不再同步...
2025-05-28 12:06:08.064 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-05-28 12:06:08.065 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth.yaml+DEFAULT_GROUP+xiaohashu
2025-05-28 12:06:08.068 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP, cnt=1
2025-05-28 12:06:08.068 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP
2025-05-28 12:06:08.069 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth-dev.yaml+DEFAULT_GROUP+xiaohashu
2025-05-28 12:06:08.069 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP, cnt=1
2025-05-28 12:06:08.069 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP
2025-05-28 12:06:08.070 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth+DEFAULT_GROUP+xiaohashu
2025-05-28 12:06:08.070 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth, group=DEFAULT_GROUP, cnt=1
2025-05-28 12:06:08.070 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth, group=DEFAULT_GROUP
2025-05-28 12:07:40.518 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-05-28 12:07:40.518 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-05-28 12:07:40.519 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-05-28 12:07:40.519 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-05-28 12:07:40.561 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-05-28 12:07:40.561 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-auth with instance: Instance{instanceId='null', ip='192.168.10.1', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-05-28 12:07:40.564 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-05-28 12:07:40.565 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-05-28 12:07:40.565 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-05-28 12:07:40.565 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-05-28 12:07:40.565 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-05-28 12:07:40.565 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-05-28 12:07:40.565 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-05-28 12:07:40.565 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-05-28 12:07:40.565 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-05-28 12:07:40.565 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-28 12:07:40.565 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-28 12:07:40.565 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-05-28 12:07:40.565 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-05-28 12:07:40.565 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-28 12:07:40.565 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-28 12:07:40.566 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-05-28 12:07:40.566 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-05-28 12:07:40.566 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@5907ad17[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-05-28 12:07:40.566 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1748405166428_127.0.0.1_52597
2025-05-28 12:07:40.567 [nacos-grpc-client-executor-127.0.0.1-26] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1748405166428_127.0.0.1_52597]Ignore complete event,isRunning:false,isAbandon=false
2025-05-28 12:07:40.568 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@41ec664b[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 27]
2025-05-28 12:07:40.568 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@4389ee97[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 31]
2025-05-28 12:07:40.568 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-05-28 12:07:40.568 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-05-28 12:07:40.568 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-05-28 12:07:40.569 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-05-28 12:07:40.572 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-05-28 12:07:43.540 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 12:07:43.578 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 12:07:43.714 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 12:07:43.715 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-05-28 12:07:43.715 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-05-28 12:07:43.715 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-05-28 12:07:43.729 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-28 12:07:43.729 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-28 12:07:43.731 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-05-28 12:07:44.988 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 12:07:44.997 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\29567\nacos\config
2025-05-28 12:07:45.000 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of cf902d94-bdb1-4d77-88d7-8ecb09df7469_config-0
2025-05-28 12:07:45.010 [main] INFO  com.alibaba.nacos.common.remote.client - [cf902d94-bdb1-4d77-88d7-8ecb09df7469_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$590/0x00000112c5393488
2025-05-28 12:07:45.010 [main] INFO  com.alibaba.nacos.common.remote.client - [cf902d94-bdb1-4d77-88d7-8ecb09df7469_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$591/0x00000112c53938a8
2025-05-28 12:07:45.010 [main] INFO  com.alibaba.nacos.common.remote.client - [cf902d94-bdb1-4d77-88d7-8ecb09df7469_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2025-05-28 12:07:45.011 [main] INFO  com.alibaba.nacos.common.remote.client - [cf902d94-bdb1-4d77-88d7-8ecb09df7469_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2025-05-28 12:07:45.022 [main] INFO  com.alibaba.nacos.common.remote.client - [cf902d94-bdb1-4d77-88d7-8ecb09df7469_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-28 12:07:45.054 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-28 12:07:45.768 [main] INFO  com.alibaba.nacos.common.remote.client - [cf902d94-bdb1-4d77-88d7-8ecb09df7469_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1748405265612_127.0.0.1_52645
2025-05-28 12:07:45.768 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [cf902d94-bdb1-4d77-88d7-8ecb09df7469_config-0] Notify connected event to listeners.
2025-05-28 12:07:45.768 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [cf902d94-bdb1-4d77-88d7-8ecb09df7469_config-0] Connected,notify listen context...
2025-05-28 12:07:45.768 [main] INFO  com.alibaba.nacos.common.remote.client - [cf902d94-bdb1-4d77-88d7-8ecb09df7469_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-28 12:07:45.768 [main] INFO  com.alibaba.nacos.common.remote.client - [cf902d94-bdb1-4d77-88d7-8ecb09df7469_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$611/0x00000112c54dba58
2025-05-28 12:07:45.792 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2025-05-28 12:07:45.800 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2025-05-28 12:07:45.808 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-auth.yaml] & group[DEFAULT_GROUP]
2025-05-28 12:07:45.813 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth,DEFAULT_GROUP'}]
2025-05-28 12:07:45.829 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 12:07:45.830 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - The following 1 profile is active: "dev"
2025-05-28 12:07:46.258 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-28 12:07:46.261 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-28 12:07:46.295 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-05-28 12:07:46.442 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=783fb265-d87b-38bc-9ad4-363b5e5dd7e9
2025-05-28 12:07:46.765 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-05-28 12:07:46.771 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-05-28 12:07:46.772 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-05-28 12:07:46.828 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-28 12:07:46.830 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 988 ms
2025-05-28 12:07:47.074 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-05-28 12:07:47.296 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-05-28 12:07:48.883 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-28 12:07:50.361 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-28 12:07:50.424 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-05-28 12:07:50.427 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-05-28 12:07:50.427 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-05-28 12:07:50.428 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-05-28 12:07:50.432 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-28 12:07:50.432 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-28 12:07:50.435 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of b3937b5f-7f8e-4bd0-bfd6-fa94d48f6dd8
2025-05-28 12:07:50.436 [main] INFO  com.alibaba.nacos.common.remote.client - [b3937b5f-7f8e-4bd0-bfd6-fa94d48f6dd8] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-05-28 12:07:50.436 [main] INFO  com.alibaba.nacos.common.remote.client - [b3937b5f-7f8e-4bd0-bfd6-fa94d48f6dd8] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-05-28 12:07:50.436 [main] INFO  com.alibaba.nacos.common.remote.client - [b3937b5f-7f8e-4bd0-bfd6-fa94d48f6dd8] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-05-28 12:07:50.437 [main] INFO  com.alibaba.nacos.common.remote.client - [b3937b5f-7f8e-4bd0-bfd6-fa94d48f6dd8] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-28 12:07:50.437 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-28 12:07:50.548 [main] INFO  com.alibaba.nacos.common.remote.client - [b3937b5f-7f8e-4bd0-bfd6-fa94d48f6dd8] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1748405270439_127.0.0.1_52669
2025-05-28 12:07:50.548 [main] INFO  com.alibaba.nacos.common.remote.client - [b3937b5f-7f8e-4bd0-bfd6-fa94d48f6dd8] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-28 12:07:50.548 [main] INFO  com.alibaba.nacos.common.remote.client - [b3937b5f-7f8e-4bd0-bfd6-fa94d48f6dd8] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$611/0x00000112c54dba58
2025-05-28 12:07:50.548 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [b3937b5f-7f8e-4bd0-bfd6-fa94d48f6dd8] Notify connected event to listeners.
2025-05-28 12:07:50.548 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-05-28 12:07:50.549 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-auth with instance Instance{instanceId='null', ip='192.168.10.1', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-05-28 12:07:50.556 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-auth 192.168.10.1:8080 register finished
2025-05-28 12:07:51.761 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-28 12:07:51.782 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - Started XiaohashuAuthApplication in 9.742 seconds (process running for 10.118)
2025-05-28 12:07:51.784 [main] INFO  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2025-05-28 12:07:52.095 [main] WARN  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 角色权限数据已经同步至 Redis 中，不再同步...
2025-05-28 12:07:52.096 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-05-28 12:07:52.097 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth.yaml+DEFAULT_GROUP+xiaohashu
2025-05-28 12:07:52.101 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP, cnt=1
2025-05-28 12:07:52.101 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP
2025-05-28 12:07:52.102 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth-dev.yaml+DEFAULT_GROUP+xiaohashu
2025-05-28 12:07:52.102 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP, cnt=1
2025-05-28 12:07:52.102 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP
2025-05-28 12:07:52.102 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth+DEFAULT_GROUP+xiaohashu
2025-05-28 12:07:52.102 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth, group=DEFAULT_GROUP, cnt=1
2025-05-28 12:07:52.102 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth, group=DEFAULT_GROUP
2025-05-28 12:16:10.689 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-28 12:16:10.689 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-28 12:16:10.690 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-05-28 12:16:10.712 [http-nio-8080-exec-1] ERROR c.q.x.auth.exception.GlobalExceptionHandler - /user/logout request error, 
org.springframework.web.bind.MissingRequestHeaderException: Required request header 'userId' for method parameter type String is not present
	at org.springframework.web.method.annotation.RequestHeaderMethodArgumentResolver.handleMissingValue(RequestHeaderMethodArgumentResolver.java:87)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.handleMissingValue(AbstractNamedValueMethodArgumentResolver.java:226)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:114)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:181)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:148)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at com.alibaba.druid.support.jakarta.WebStatFilter.doFilter(WebStatFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at cn.dev33.satoken.filter.SaPathCheckFilterForJakartaServlet.doFilter(SaPathCheckFilterForJakartaServlet.java:55)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-05-28 14:09:01.153 [lettuce-nioEventLoop-4-1] INFO  io.lettuce.core.protocol.CommandHandler - null Unexpected exception during request: java.net.SocketException: Connection reset
java.net.SocketException: Connection reset
	at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:394)
	at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:426)
	at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:259)
	at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)
	at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-05-28 14:09:01.276 [lettuce-eventExecutorLoop-1-2] INFO  io.lettuce.core.protocol.ConnectionWatchdog - Reconnecting, last destination was /127.0.0.1:6379
2025-05-28 14:09:01.279 [lettuce-nioEventLoop-4-2] WARN  io.lettuce.core.protocol.ConnectionWatchdog - Cannot reconnect to [127.0.0.1/<unresolved>:6379]: Connection refused: no further information: /127.0.0.1:6379
2025-05-28 14:09:10.360 [lettuce-eventExecutorLoop-1-1] INFO  io.lettuce.core.protocol.ConnectionWatchdog - Reconnecting, last destination was 127.0.0.1/<unresolved>:6379
2025-05-28 14:09:10.365 [lettuce-nioEventLoop-4-14] WARN  io.lettuce.core.protocol.ConnectionWatchdog - Cannot reconnect to [127.0.0.1/<unresolved>:6379]: Connection refused: no further information: /127.0.0.1:6379
2025-05-28 14:09:18.570 [lettuce-eventExecutorLoop-1-4] INFO  io.lettuce.core.protocol.ConnectionWatchdog - Reconnecting, last destination was 127.0.0.1/<unresolved>:6379
2025-05-28 14:09:18.586 [lettuce-nioEventLoop-4-15] WARN  io.lettuce.core.protocol.ConnectionWatchdog - Cannot reconnect to [127.0.0.1/<unresolved>:6379]: Connection refused: no further information: /127.0.0.1:6379
2025-05-28 14:09:29.817 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-05-28 14:09:29.817 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-05-28 14:09:29.818 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-05-28 14:09:29.818 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-05-28 14:09:29.860 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-05-28 14:09:29.860 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-auth with instance: Instance{instanceId='null', ip='192.168.10.1', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-05-28 14:09:29.862 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-05-28 14:09:29.863 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-05-28 14:09:29.863 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-05-28 14:09:29.863 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-05-28 14:09:29.863 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-05-28 14:09:29.863 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-05-28 14:09:29.863 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-05-28 14:09:29.863 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-05-28 14:09:29.863 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-05-28 14:09:29.863 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-28 14:09:29.863 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-28 14:09:29.863 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-05-28 14:09:29.863 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-05-28 14:09:29.863 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-28 14:09:29.864 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-28 14:09:29.864 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-05-28 14:09:29.864 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-05-28 14:09:29.864 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@75b9ddb2[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-05-28 14:09:29.864 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1748405270439_127.0.0.1_52669
2025-05-28 14:09:29.865 [nacos-grpc-client-executor-127.0.0.1-1481] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1748405270439_127.0.0.1_52669]Ignore complete event,isRunning:false,isAbandon=false
2025-05-28 14:09:29.867 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@37188ebb[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 1482]
2025-05-28 14:09:29.867 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@685796c2[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 2426]
2025-05-28 14:09:29.867 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-05-28 14:09:29.867 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-05-28 14:09:29.868 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-05-28 14:09:29.869 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-05-28 14:09:29.870 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-05-28 14:18:23.200 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 14:18:23.251 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 14:18:23.408 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 14:18:23.408 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-05-28 14:18:23.408 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-05-28 14:18:23.408 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-05-28 14:18:23.424 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-28 14:18:23.424 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-28 14:18:23.424 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-05-28 14:18:24.733 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 14:18:24.749 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\29567\nacos\config
2025-05-28 14:18:24.749 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 087be5c7-1852-4736-b2a1-2f24c64d9efb_config-0
2025-05-28 14:18:24.749 [main] INFO  com.alibaba.nacos.common.remote.client - [087be5c7-1852-4736-b2a1-2f24c64d9efb_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$589/0x0000025804393488
2025-05-28 14:18:24.764 [main] INFO  com.alibaba.nacos.common.remote.client - [087be5c7-1852-4736-b2a1-2f24c64d9efb_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$590/0x00000258043938a8
2025-05-28 14:18:24.764 [main] INFO  com.alibaba.nacos.common.remote.client - [087be5c7-1852-4736-b2a1-2f24c64d9efb_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2025-05-28 14:18:24.764 [main] INFO  com.alibaba.nacos.common.remote.client - [087be5c7-1852-4736-b2a1-2f24c64d9efb_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2025-05-28 14:18:24.764 [main] INFO  com.alibaba.nacos.common.remote.client - [087be5c7-1852-4736-b2a1-2f24c64d9efb_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-28 14:18:24.796 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-28 14:18:25.554 [main] INFO  com.alibaba.nacos.common.remote.client - [087be5c7-1852-4736-b2a1-2f24c64d9efb_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1748413105331_127.0.0.1_52147
2025-05-28 14:18:25.554 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [087be5c7-1852-4736-b2a1-2f24c64d9efb_config-0] Notify connected event to listeners.
2025-05-28 14:18:25.554 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [087be5c7-1852-4736-b2a1-2f24c64d9efb_config-0] Connected,notify listen context...
2025-05-28 14:18:25.554 [main] INFO  com.alibaba.nacos.common.remote.client - [087be5c7-1852-4736-b2a1-2f24c64d9efb_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-28 14:18:25.554 [main] INFO  com.alibaba.nacos.common.remote.client - [087be5c7-1852-4736-b2a1-2f24c64d9efb_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$610/0x00000258044dba58
2025-05-28 14:18:25.585 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2025-05-28 14:18:25.727 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2025-05-28 14:18:25.758 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-auth.yaml] & group[DEFAULT_GROUP]
2025-05-28 14:18:25.774 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth,DEFAULT_GROUP'}]
2025-05-28 14:18:25.789 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 14:18:25.789 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - The following 1 profile is active: "dev"
2025-05-28 14:18:26.308 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-28 14:18:26.323 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-28 14:18:26.338 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2025-05-28 14:18:26.433 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=783fb265-d87b-38bc-9ad4-363b5e5dd7e9
2025-05-28 14:18:26.826 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-05-28 14:18:26.826 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-05-28 14:18:26.826 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-05-28 14:18:26.892 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-28 14:18:26.892 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1087 ms
2025-05-28 14:18:27.118 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-05-28 14:18:27.361 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-05-28 14:18:28.949 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-28 14:18:30.384 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-28 14:18:30.501 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-05-28 14:18:30.506 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-05-28 14:18:30.506 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-05-28 14:18:30.507 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-05-28 14:18:30.513 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-28 14:18:30.513 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-28 14:18:30.518 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of fb9f49b0-d4c3-434f-af19-72d667c9359e
2025-05-28 14:18:30.519 [main] INFO  com.alibaba.nacos.common.remote.client - [fb9f49b0-d4c3-434f-af19-72d667c9359e] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-05-28 14:18:30.519 [main] INFO  com.alibaba.nacos.common.remote.client - [fb9f49b0-d4c3-434f-af19-72d667c9359e] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-05-28 14:18:30.519 [main] INFO  com.alibaba.nacos.common.remote.client - [fb9f49b0-d4c3-434f-af19-72d667c9359e] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-05-28 14:18:30.520 [main] INFO  com.alibaba.nacos.common.remote.client - [fb9f49b0-d4c3-434f-af19-72d667c9359e] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-28 14:18:30.520 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-28 14:18:30.635 [main] INFO  com.alibaba.nacos.common.remote.client - [fb9f49b0-d4c3-434f-af19-72d667c9359e] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1748413110524_127.0.0.1_52154
2025-05-28 14:18:30.635 [main] INFO  com.alibaba.nacos.common.remote.client - [fb9f49b0-d4c3-434f-af19-72d667c9359e] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-28 14:18:30.635 [main] INFO  com.alibaba.nacos.common.remote.client - [fb9f49b0-d4c3-434f-af19-72d667c9359e] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$610/0x00000258044dba58
2025-05-28 14:18:30.635 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [fb9f49b0-d4c3-434f-af19-72d667c9359e] Notify connected event to listeners.
2025-05-28 14:18:30.635 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-05-28 14:18:30.636 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-auth with instance Instance{instanceId='null', ip='192.168.10.1', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-05-28 14:18:30.661 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-auth 192.168.10.1:8080 register finished
2025-05-28 14:18:31.871 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-28 14:18:31.904 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - Started XiaohashuAuthApplication in 10.26 seconds (process running for 10.893)
2025-05-28 14:18:31.905 [main] INFO  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2025-05-28 14:18:32.307 [main] DEBUG c.q.x.a.d.mapper.RoleDOMapper.selectEnabledList - ==>  Preparing: select id, role_key, role_name from t_role where status = 0 and is_deleted = 0
2025-05-28 14:18:32.425 [main] DEBUG c.q.x.a.d.mapper.RoleDOMapper.selectEnabledList - ==> Parameters: 
2025-05-28 14:18:32.441 [main] DEBUG c.q.x.a.d.mapper.RoleDOMapper.selectEnabledList - <==      Total: 1
2025-05-28 14:18:32.456 [main] DEBUG c.q.x.a.d.m.RolePermissionDOMapper.selectByRoleIds - ==>  Preparing: select id,role_id, permission_id from t_role_permission_rel where role_id in ( ? )
2025-05-28 14:18:32.456 [main] DEBUG c.q.x.a.d.m.RolePermissionDOMapper.selectByRoleIds - ==> Parameters: 1(Long)
2025-05-28 14:18:32.473 [main] DEBUG c.q.x.a.d.m.RolePermissionDOMapper.selectByRoleIds - <==      Total: 2
2025-05-28 14:18:32.473 [main] DEBUG c.q.x.a.d.m.P.selectAppEnabledList - ==>  Preparing: select id, name, permission_key from t_permission where status = 0 and type = 3 and is_deleted = 0
2025-05-28 14:18:32.473 [main] DEBUG c.q.x.a.d.m.P.selectAppEnabledList - ==> Parameters: 
2025-05-28 14:18:32.473 [main] DEBUG c.q.x.a.d.m.P.selectAppEnabledList - <==      Total: 2
2025-05-28 14:18:32.495 [main] INFO  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，成功同步角色权限数据到 Redis 中...
2025-05-28 14:18:32.497 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-05-28 14:18:32.498 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth.yaml+DEFAULT_GROUP+xiaohashu
2025-05-28 14:18:32.501 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP, cnt=1
2025-05-28 14:18:32.501 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP
2025-05-28 14:18:32.502 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth-dev.yaml+DEFAULT_GROUP+xiaohashu
2025-05-28 14:18:32.503 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP, cnt=1
2025-05-28 14:18:32.503 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP
2025-05-28 14:18:32.504 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth+DEFAULT_GROUP+xiaohashu
2025-05-28 14:18:32.504 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth, group=DEFAULT_GROUP, cnt=1
2025-05-28 14:18:32.504 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth, group=DEFAULT_GROUP
2025-05-28 14:19:20.382 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-28 14:19:20.382 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-28 14:19:20.384 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-05-28 14:19:20.445 [http-nio-8080-exec-1] INFO  c.q.x.a.service.impl.VerificationCodeServiceImpl - ==> 手机号: 18684805496, 已发送验证码：【709521】
2025-05-28 14:19:20.445 [AuthExecutor-1] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 开始短信发送, phone: 18684805496, signName: 阿里云短信测试, templateCode: SMS_154950909, templateParam: {"code":"709521"}
2025-05-28 14:19:21.565 [AuthExecutor-1] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 短信发送成功, response: {"headers":{"access-control-allow-origin":"*","date":"Wed, 28 May 2025 06:19:20 GMT","content-length":"110","keep-alive":"timeout=25","x-acs-request-id":"8A594A91-C156-58C2-8A5B-3A8528B82E49","connection":"keep-alive","content-type":"application/json;charset=utf-8","etag":"1I+brdLvlxzzzJPszOgZPzA0","access-control-expose-headers":"*","x-acs-trace-id":"29af2cdfdd7909b0306ce8a880a9c5d2"},"statusCode":200,"body":{"bizId":"185624848413160411^0","code":"OK","message":"OK","requestId":"8A594A91-C156-58C2-8A5B-3A8528B82E49"}}
2025-05-28 14:19:38.728 [http-nio-8080-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"18684805496","code":"709521","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-05-28 14:19:38.736 [http-nio-8080-exec-3] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-05-28 14:19:38.737 [http-nio-8080-exec-3] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18684805496(String)
2025-05-28 14:19:38.739 [http-nio-8080-exec-3] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-05-28 14:19:38.742 [http-nio-8080-exec-3] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18684805496, userDO: {"id":6,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-05-28 14:19:38.788 [http-nio-8080-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录/注册], 耗时: 61ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"phUsy6GHrYrR7GIX9mb2NKufTxNiv6eL3MGP50KzSS4ow6OyNzTVXvHXQv8cHlO0woqzqJpDy65baaW3SJ7THhfI5eYh6Ildzq2nPWFCskHXoqoSdGUZUud3P76tXAiS"} =================================== 
2025-05-28 14:20:20.808 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-05-28 14:20:20.808 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-05-28 14:20:20.808 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-05-28 14:20:20.808 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-05-28 14:20:20.888 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-05-28 14:20:20.888 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-auth with instance: Instance{instanceId='null', ip='192.168.10.1', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-05-28 14:20:20.888 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-05-28 14:20:20.888 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-05-28 14:20:20.888 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-05-28 14:20:20.888 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-05-28 14:20:20.888 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-05-28 14:20:20.888 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-05-28 14:20:20.888 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-05-28 14:20:20.888 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-05-28 14:20:20.888 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-05-28 14:20:20.888 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-28 14:20:20.888 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-28 14:20:20.888 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-05-28 14:20:20.888 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-05-28 14:20:20.888 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-28 14:20:20.888 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-28 14:20:20.888 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-05-28 14:20:20.888 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-05-28 14:20:20.888 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@5f212b64[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-05-28 14:20:20.888 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1748413110524_127.0.0.1_52154
2025-05-28 14:20:20.905 [nacos-grpc-client-executor-127.0.0.1-43] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1748413110524_127.0.0.1_52154]Ignore complete event,isRunning:false,isAbandon=false
2025-05-28 14:20:20.905 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@570f8084[Running, pool size = 7, active threads = 0, queued tasks = 0, completed tasks = 44]
2025-05-28 14:20:20.905 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@311cfadd[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 36]
2025-05-28 14:20:20.905 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-05-28 14:20:20.905 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-05-28 14:20:20.905 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-05-28 14:20:20.905 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-05-28 14:20:20.905 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-05-28 14:20:24.114 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 14:20:24.151 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 14:20:24.299 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 14:20:24.299 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-05-28 14:20:24.299 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-05-28 14:20:24.299 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-05-28 14:20:24.315 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-28 14:20:24.315 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-28 14:20:24.315 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-05-28 14:20:25.550 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 14:20:25.566 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\29567\nacos\config
2025-05-28 14:20:25.566 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 25b6ecdf-b7e6-4a9c-9185-1834fa85c05c_config-0
2025-05-28 14:20:25.566 [main] INFO  com.alibaba.nacos.common.remote.client - [25b6ecdf-b7e6-4a9c-9185-1834fa85c05c_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$590/0x0000025a81393488
2025-05-28 14:20:25.566 [main] INFO  com.alibaba.nacos.common.remote.client - [25b6ecdf-b7e6-4a9c-9185-1834fa85c05c_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$591/0x0000025a813938a8
2025-05-28 14:20:25.566 [main] INFO  com.alibaba.nacos.common.remote.client - [25b6ecdf-b7e6-4a9c-9185-1834fa85c05c_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2025-05-28 14:20:25.566 [main] INFO  com.alibaba.nacos.common.remote.client - [25b6ecdf-b7e6-4a9c-9185-1834fa85c05c_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2025-05-28 14:20:25.582 [main] INFO  com.alibaba.nacos.common.remote.client - [25b6ecdf-b7e6-4a9c-9185-1834fa85c05c_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-28 14:20:25.598 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-28 14:20:26.185 [main] INFO  com.alibaba.nacos.common.remote.client - [25b6ecdf-b7e6-4a9c-9185-1834fa85c05c_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1748413226033_127.0.0.1_52232
2025-05-28 14:20:26.185 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [25b6ecdf-b7e6-4a9c-9185-1834fa85c05c_config-0] Notify connected event to listeners.
2025-05-28 14:20:26.185 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [25b6ecdf-b7e6-4a9c-9185-1834fa85c05c_config-0] Connected,notify listen context...
2025-05-28 14:20:26.185 [main] INFO  com.alibaba.nacos.common.remote.client - [25b6ecdf-b7e6-4a9c-9185-1834fa85c05c_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-28 14:20:26.185 [main] INFO  com.alibaba.nacos.common.remote.client - [25b6ecdf-b7e6-4a9c-9185-1834fa85c05c_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$611/0x0000025a814daa30
2025-05-28 14:20:26.229 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2025-05-28 14:20:26.264 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2025-05-28 14:20:26.283 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-auth.yaml] & group[DEFAULT_GROUP]
2025-05-28 14:20:26.296 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth,DEFAULT_GROUP'}]
2025-05-28 14:20:26.312 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 14:20:26.312 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - The following 1 profile is active: "dev"
2025-05-28 14:20:26.783 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-28 14:20:26.783 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-28 14:20:26.798 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-05-28 14:20:26.896 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=783fb265-d87b-38bc-9ad4-363b5e5dd7e9
2025-05-28 14:20:27.225 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-05-28 14:20:27.236 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-05-28 14:20:27.236 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-05-28 14:20:27.288 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-28 14:20:27.288 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 961 ms
2025-05-28 14:20:27.529 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-05-28 14:20:27.736 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-05-28 14:20:29.344 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-28 14:20:30.839 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-28 14:20:30.936 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-05-28 14:20:30.936 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-05-28 14:20:30.936 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-05-28 14:20:30.936 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-05-28 14:20:30.952 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-28 14:20:30.952 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-28 14:20:30.968 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 016cabe2-aa7f-47a4-84cb-fcefb85e9a4b
2025-05-28 14:20:30.968 [main] INFO  com.alibaba.nacos.common.remote.client - [016cabe2-aa7f-47a4-84cb-fcefb85e9a4b] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-05-28 14:20:30.968 [main] INFO  com.alibaba.nacos.common.remote.client - [016cabe2-aa7f-47a4-84cb-fcefb85e9a4b] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-05-28 14:20:30.968 [main] INFO  com.alibaba.nacos.common.remote.client - [016cabe2-aa7f-47a4-84cb-fcefb85e9a4b] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-05-28 14:20:30.968 [main] INFO  com.alibaba.nacos.common.remote.client - [016cabe2-aa7f-47a4-84cb-fcefb85e9a4b] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-28 14:20:30.968 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-28 14:20:31.081 [main] INFO  com.alibaba.nacos.common.remote.client - [016cabe2-aa7f-47a4-84cb-fcefb85e9a4b] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1748413230968_127.0.0.1_52244
2025-05-28 14:20:31.081 [main] INFO  com.alibaba.nacos.common.remote.client - [016cabe2-aa7f-47a4-84cb-fcefb85e9a4b] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-28 14:20:31.081 [main] INFO  com.alibaba.nacos.common.remote.client - [016cabe2-aa7f-47a4-84cb-fcefb85e9a4b] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$611/0x0000025a814daa30
2025-05-28 14:20:31.081 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [016cabe2-aa7f-47a4-84cb-fcefb85e9a4b] Notify connected event to listeners.
2025-05-28 14:20:31.081 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-05-28 14:20:31.081 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-auth with instance Instance{instanceId='null', ip='192.168.10.1', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-05-28 14:20:31.098 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-auth 192.168.10.1:8080 register finished
2025-05-28 14:20:32.287 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-28 14:20:32.303 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - Started XiaohashuAuthApplication in 9.715 seconds (process running for 10.147)
2025-05-28 14:20:32.304 [main] INFO  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2025-05-28 14:20:32.630 [main] DEBUG c.q.x.a.d.mapper.RoleDOMapper.selectEnabledList - ==>  Preparing: select id, role_key, role_name from t_role where status = 0 and is_deleted = 0
2025-05-28 14:20:32.729 [main] DEBUG c.q.x.a.d.mapper.RoleDOMapper.selectEnabledList - ==> Parameters: 
2025-05-28 14:20:32.744 [main] DEBUG c.q.x.a.d.mapper.RoleDOMapper.selectEnabledList - <==      Total: 1
2025-05-28 14:20:32.744 [main] DEBUG c.q.x.a.d.m.RolePermissionDOMapper.selectByRoleIds - ==>  Preparing: select id,role_id, permission_id from t_role_permission_rel where role_id in ( ? )
2025-05-28 14:20:32.760 [main] DEBUG c.q.x.a.d.m.RolePermissionDOMapper.selectByRoleIds - ==> Parameters: 1(Long)
2025-05-28 14:20:32.760 [main] DEBUG c.q.x.a.d.m.RolePermissionDOMapper.selectByRoleIds - <==      Total: 2
2025-05-28 14:20:32.760 [main] DEBUG c.q.x.a.d.m.P.selectAppEnabledList - ==>  Preparing: select id, name, permission_key from t_permission where status = 0 and type = 3 and is_deleted = 0
2025-05-28 14:20:32.760 [main] DEBUG c.q.x.a.d.m.P.selectAppEnabledList - ==> Parameters: 
2025-05-28 14:20:32.760 [main] DEBUG c.q.x.a.d.m.P.selectAppEnabledList - <==      Total: 2
2025-05-28 14:20:32.776 [main] INFO  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，成功同步角色权限数据到 Redis 中...
2025-05-28 14:20:32.778 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-05-28 14:20:32.778 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth.yaml+DEFAULT_GROUP+xiaohashu
2025-05-28 14:20:32.782 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP, cnt=1
2025-05-28 14:20:32.782 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP
2025-05-28 14:20:32.783 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth-dev.yaml+DEFAULT_GROUP+xiaohashu
2025-05-28 14:20:32.783 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP, cnt=1
2025-05-28 14:20:32.783 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP
2025-05-28 14:20:32.784 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth+DEFAULT_GROUP+xiaohashu
2025-05-28 14:20:32.784 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth, group=DEFAULT_GROUP, cnt=1
2025-05-28 14:20:32.784 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth, group=DEFAULT_GROUP
2025-05-28 14:23:11.472 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-28 14:23:11.472 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-28 14:23:11.474 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-05-28 14:23:11.574 [http-nio-8080-exec-1] INFO  c.q.x.a.service.impl.VerificationCodeServiceImpl - ==> 手机号: 18684805496, 已发送验证码：【868134】
2025-05-28 14:23:11.575 [AuthExecutor-1] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 开始短信发送, phone: 18684805496, signName: 阿里云短信测试, templateCode: SMS_154950909, templateParam: {"code":"868134"}
2025-05-28 14:23:12.506 [AuthExecutor-1] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 短信发送成功, response: {"headers":{"access-control-allow-origin":"*","date":"Wed, 28 May 2025 06:23:11 GMT","content-length":"110","keep-alive":"timeout=25","x-acs-request-id":"659F4B26-7842-5FFF-8FA9-BD39551393C6","connection":"keep-alive","content-type":"application/json;charset=utf-8","etag":"1+NwA8TaCL/YIWQpB9RXPig0","access-control-expose-headers":"*","x-acs-trace-id":"4f130cf2ecee7128bc6c67cb8f4ffd57"},"statusCode":200,"body":{"bizId":"296623048413391549^0","code":"OK","message":"OK","requestId":"659F4B26-7842-5FFF-8FA9-BD39551393C6"}}
2025-05-28 14:23:36.229 [http-nio-8080-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"18684805496","code":"868134","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-05-28 14:23:36.240 [http-nio-8080-exec-3] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-05-28 14:23:36.242 [http-nio-8080-exec-3] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18684805496(String)
2025-05-28 14:23:36.244 [http-nio-8080-exec-3] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 0
2025-05-28 14:23:36.262 [http-nio-8080-exec-3] DEBUG c.q.x.auth.domain.mapper.UserDOMapper.insert - ==>  Preparing: insert into t_user (id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-28 14:23:36.364 [http-nio-8080-exec-3] DEBUG c.q.x.auth.domain.mapper.UserDOMapper.insert - ==> Parameters: null, 1(String), null, 小红薯1(String), null, null, null, 18684805496(String), null, 0(Integer), null, 2025-05-28T14:23:36.260277800(LocalDateTime), 2025-05-28T14:23:36.260277800(LocalDateTime), false(Boolean)
2025-05-28 14:23:36.370 [http-nio-8080-exec-3] DEBUG c.q.x.auth.domain.mapper.UserDOMapper.insert - <==    Updates: 1
2025-05-28 14:23:36.373 [http-nio-8080-exec-3] DEBUG c.q.x.auth.domain.mapper.UserRoleDOMapper.insert - ==>  Preparing: insert into t_user_role_rel (id, user_id, role_id, create_time, update_time, is_deleted ) values (?, ?, ?, ?, ?, ? )
2025-05-28 14:23:36.373 [http-nio-8080-exec-3] DEBUG c.q.x.auth.domain.mapper.UserRoleDOMapper.insert - ==> Parameters: null, 8(Long), 1(Long), 2025-05-28T14:23:36.372179800(LocalDateTime), 2025-05-28T14:23:36.372179800(LocalDateTime), false(Boolean)
2025-05-28 14:23:36.374 [http-nio-8080-exec-3] DEBUG c.q.x.auth.domain.mapper.UserRoleDOMapper.insert - <==    Updates: 1
2025-05-28 14:23:36.374 [http-nio-8080-exec-3] DEBUG c.q.x.a.d.mapper.RoleDOMapper.selectByPrimaryKey - ==>  Preparing: select id, role_name, role_key, `status`, sort, remark, create_time, update_time, is_deleted from t_role where id = ?
2025-05-28 14:23:36.374 [http-nio-8080-exec-3] DEBUG c.q.x.a.d.mapper.RoleDOMapper.selectByPrimaryKey - ==> Parameters: 1(Long)
2025-05-28 14:23:36.377 [http-nio-8080-exec-3] DEBUG c.q.x.a.d.mapper.RoleDOMapper.selectByPrimaryKey - <==      Total: 1
2025-05-28 14:23:36.397 [http-nio-8080-exec-3] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18684805496, userDO: null
2025-05-28 14:23:36.487 [http-nio-8080-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录/注册], 耗时: 259ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"RV3ObvUfKrIAqC2tp4hvaloRMHs7AMgxhaYtRTV9r8zquwx8AswTQkEIggJlkUsFCxc2CjYyn3lmjHOnNBkgCGTCC33jI5GhdnIzbwcjCNDynZQ7OLnJk56Zq7Ka1fDN"} =================================== 
2025-05-28 14:24:58.934 [http-nio-8080-exec-10] ERROR c.q.x.auth.exception.GlobalExceptionHandler - /user/logout request error, 
org.springframework.web.bind.MissingRequestHeaderException: Required request header 'userId' for method parameter type String is not present
	at org.springframework.web.method.annotation.RequestHeaderMethodArgumentResolver.handleMissingValue(RequestHeaderMethodArgumentResolver.java:87)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.handleMissingValue(AbstractNamedValueMethodArgumentResolver.java:226)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:114)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:181)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:148)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at com.alibaba.druid.support.jakarta.WebStatFilter.doFilter(WebStatFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at cn.dev33.satoken.filter.SaPathCheckFilterForJakartaServlet.doFilter(SaPathCheckFilterForJakartaServlet.java:55)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-05-28 14:28:11.076 [http-nio-8080-exec-6] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [账号登出], 入参: "8", 请求类: UserController, 请求方法: logout =================================== 
2025-05-28 14:28:11.076 [http-nio-8080-exec-6] INFO  c.q.xiaohashu.auth.controller.UserController - ==> 网关透传过来的用户 ID: 8
2025-05-28 14:28:11.076 [http-nio-8080-exec-6] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [账号登出], 耗时: 0ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-05-28 14:40:52.336 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-05-28 14:40:52.336 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-05-28 14:40:52.346 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-05-28 14:40:52.347 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-05-28 14:40:52.378 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-05-28 14:40:52.378 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-auth with instance: Instance{instanceId='null', ip='192.168.10.1', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-05-28 14:40:52.378 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-05-28 14:40:52.378 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-05-28 14:40:52.378 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-05-28 14:40:52.378 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-05-28 14:40:52.378 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-05-28 14:40:52.378 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-05-28 14:40:52.378 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-05-28 14:40:52.378 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-05-28 14:40:52.378 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-05-28 14:40:52.378 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-28 14:40:52.378 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-28 14:40:52.378 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-05-28 14:40:52.378 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-05-28 14:40:52.378 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-28 14:40:52.378 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-28 14:40:52.378 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-05-28 14:40:52.378 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-05-28 14:40:52.378 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@47791262[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-05-28 14:40:52.378 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1748413230968_127.0.0.1_52244
2025-05-28 14:40:52.378 [nacos-grpc-client-executor-127.0.0.1-274] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1748413230968_127.0.0.1_52244]Ignore complete event,isRunning:false,isAbandon=false
2025-05-28 14:40:52.378 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@362fe6f0[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 275]
2025-05-28 14:40:52.378 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@3743ed96[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 406]
2025-05-28 14:40:52.378 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-05-28 14:40:52.378 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-05-28 14:40:52.378 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-05-28 14:40:52.378 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-05-28 14:40:52.378 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-05-28 14:40:57.434 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 14:40:57.478 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 14:40:57.646 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 14:40:57.646 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-05-28 14:40:57.646 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-05-28 14:40:57.646 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-05-28 14:40:57.662 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-28 14:40:57.662 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-28 14:40:57.662 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-05-28 14:40:58.981 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 14:40:58.981 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\29567\nacos\config
2025-05-28 14:40:58.997 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 7bd5ae5b-94df-4391-a060-07020fe336f8_config-0
2025-05-28 14:40:59.003 [main] INFO  com.alibaba.nacos.common.remote.client - [7bd5ae5b-94df-4391-a060-07020fe336f8_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$590/0x0000023d3b392918
2025-05-28 14:40:59.003 [main] INFO  com.alibaba.nacos.common.remote.client - [7bd5ae5b-94df-4391-a060-07020fe336f8_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$591/0x0000023d3b392d38
2025-05-28 14:40:59.003 [main] INFO  com.alibaba.nacos.common.remote.client - [7bd5ae5b-94df-4391-a060-07020fe336f8_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2025-05-28 14:40:59.003 [main] INFO  com.alibaba.nacos.common.remote.client - [7bd5ae5b-94df-4391-a060-07020fe336f8_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2025-05-28 14:40:59.003 [main] INFO  com.alibaba.nacos.common.remote.client - [7bd5ae5b-94df-4391-a060-07020fe336f8_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-28 14:40:59.028 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-28 14:40:59.690 [main] INFO  com.alibaba.nacos.common.remote.client - [7bd5ae5b-94df-4391-a060-07020fe336f8_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1748414459517_127.0.0.1_52717
2025-05-28 14:40:59.692 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [7bd5ae5b-94df-4391-a060-07020fe336f8_config-0] Notify connected event to listeners.
2025-05-28 14:40:59.692 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [7bd5ae5b-94df-4391-a060-07020fe336f8_config-0] Connected,notify listen context...
2025-05-28 14:40:59.692 [main] INFO  com.alibaba.nacos.common.remote.client - [7bd5ae5b-94df-4391-a060-07020fe336f8_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-28 14:40:59.692 [main] INFO  com.alibaba.nacos.common.remote.client - [7bd5ae5b-94df-4391-a060-07020fe336f8_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$611/0x0000023d3b4db2e8
2025-05-28 14:40:59.754 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2025-05-28 14:40:59.764 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2025-05-28 14:40:59.773 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-auth.yaml] & group[DEFAULT_GROUP]
2025-05-28 14:40:59.778 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth,DEFAULT_GROUP'}]
2025-05-28 14:40:59.795 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 14:40:59.795 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - The following 1 profile is active: "dev"
2025-05-28 14:41:00.344 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-28 14:41:00.359 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-28 14:41:00.375 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-05-28 14:41:00.522 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=783fb265-d87b-38bc-9ad4-363b5e5dd7e9
2025-05-28 14:41:00.875 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-05-28 14:41:00.891 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-05-28 14:41:00.891 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-05-28 14:41:00.938 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-28 14:41:00.938 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1133 ms
2025-05-28 14:41:01.195 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-05-28 14:41:01.422 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-05-28 14:41:03.155 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-28 14:41:04.589 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-28 14:41:04.661 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-05-28 14:41:04.661 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-05-28 14:41:04.661 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-05-28 14:41:04.661 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-05-28 14:41:04.668 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-28 14:41:04.668 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-28 14:41:04.668 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 955a45e5-94af-4848-bdcd-b9fbb77b2714
2025-05-28 14:41:04.668 [main] INFO  com.alibaba.nacos.common.remote.client - [955a45e5-94af-4848-bdcd-b9fbb77b2714] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-05-28 14:41:04.668 [main] INFO  com.alibaba.nacos.common.remote.client - [955a45e5-94af-4848-bdcd-b9fbb77b2714] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-05-28 14:41:04.668 [main] INFO  com.alibaba.nacos.common.remote.client - [955a45e5-94af-4848-bdcd-b9fbb77b2714] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-05-28 14:41:04.668 [main] INFO  com.alibaba.nacos.common.remote.client - [955a45e5-94af-4848-bdcd-b9fbb77b2714] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-28 14:41:04.668 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-28 14:41:04.794 [main] INFO  com.alibaba.nacos.common.remote.client - [955a45e5-94af-4848-bdcd-b9fbb77b2714] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1748414464684_127.0.0.1_52725
2025-05-28 14:41:04.794 [main] INFO  com.alibaba.nacos.common.remote.client - [955a45e5-94af-4848-bdcd-b9fbb77b2714] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-28 14:41:04.794 [main] INFO  com.alibaba.nacos.common.remote.client - [955a45e5-94af-4848-bdcd-b9fbb77b2714] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$611/0x0000023d3b4db2e8
2025-05-28 14:41:04.794 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [955a45e5-94af-4848-bdcd-b9fbb77b2714] Notify connected event to listeners.
2025-05-28 14:41:04.794 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-05-28 14:41:04.795 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-auth with instance Instance{instanceId='null', ip='192.168.10.1', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-05-28 14:41:04.812 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-auth 192.168.10.1:8080 register finished
2025-05-28 14:41:05.987 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-28 14:41:06.015 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - Started XiaohashuAuthApplication in 10.119 seconds (process running for 10.495)
2025-05-28 14:41:06.016 [main] INFO  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2025-05-28 14:41:06.369 [main] WARN  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 角色权限数据已经同步至 Redis 中，不再同步...
2025-05-28 14:41:06.371 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-05-28 14:41:06.371 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth.yaml+DEFAULT_GROUP+xiaohashu
2025-05-28 14:41:06.374 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP, cnt=1
2025-05-28 14:41:06.374 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP
2025-05-28 14:41:06.376 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth-dev.yaml+DEFAULT_GROUP+xiaohashu
2025-05-28 14:41:06.376 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP, cnt=1
2025-05-28 14:41:06.376 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP
2025-05-28 14:41:06.377 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth+DEFAULT_GROUP+xiaohashu
2025-05-28 14:41:06.377 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth, group=DEFAULT_GROUP, cnt=1
2025-05-28 14:41:06.377 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth, group=DEFAULT_GROUP
2025-05-28 14:41:12.195 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-28 14:41:12.195 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-28 14:41:12.195 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-05-28 14:41:12.228 [http-nio-8080-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [账号登出], 入参: "8", 请求类: UserController, 请求方法: logout =================================== 
2025-05-28 14:41:12.264 [http-nio-8080-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [账号登出], 耗时: 35ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-05-28 14:47:17.841 [http-nio-8080-exec-3] INFO  c.q.x.a.service.impl.VerificationCodeServiceImpl - ==> 手机号: 18684805496, 已发送验证码：【365886】
2025-05-28 14:47:17.842 [AuthExecutor-1] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 开始短信发送, phone: 18684805496, signName: 阿里云短信测试, templateCode: SMS_154950909, templateParam: {"code":"365886"}
2025-05-28 14:47:19.222 [AuthExecutor-1] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 短信发送成功, response: {"headers":{"access-control-allow-origin":"*","date":"Wed, 28 May 2025 06:47:18 GMT","content-length":"110","keep-alive":"timeout=25","x-acs-request-id":"139FCB85-DD8C-5F93-8431-B08D48569B43","connection":"keep-alive","content-type":"application/json;charset=utf-8","etag":"1/m5IGK9Mx1Nun08aDRPTRw0","access-control-expose-headers":"*","x-acs-trace-id":"e190cf4f18cb16415b92e000f164dabb"},"statusCode":200,"body":{"bizId":"277122348414838196^0","code":"OK","message":"OK","requestId":"139FCB85-DD8C-5F93-8431-B08D48569B43"}}
2025-05-28 14:47:21.650 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-05-28 14:47:21.650 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-05-28 14:47:21.650 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-05-28 14:47:21.650 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-05-28 14:47:21.753 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-05-28 14:47:21.753 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-auth with instance: Instance{instanceId='null', ip='192.168.10.1', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-05-28 14:47:21.753 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-05-28 14:47:21.769 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-05-28 14:47:21.769 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-05-28 14:47:21.769 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-05-28 14:47:21.769 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-05-28 14:47:21.769 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-05-28 14:47:21.769 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-05-28 14:47:21.769 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-05-28 14:47:21.769 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-05-28 14:47:21.769 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-28 14:47:21.769 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-28 14:47:21.769 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-05-28 14:47:21.769 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-05-28 14:47:21.769 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-28 14:47:21.769 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-28 14:47:21.769 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-05-28 14:47:21.769 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-05-28 14:47:21.769 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@75b9f1e0[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-05-28 14:47:21.769 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1748414464684_127.0.0.1_52725
2025-05-28 14:47:21.769 [nacos-grpc-client-executor-127.0.0.1-89] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1748414464684_127.0.0.1_52725]Ignore complete event,isRunning:false,isAbandon=false
2025-05-28 14:47:21.769 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@2a287929[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 90]
2025-05-28 14:47:21.769 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@362bf92e[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 125]
2025-05-28 14:47:21.769 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-05-28 14:47:21.769 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-05-28 14:47:21.769 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-05-28 14:47:21.769 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-05-28 14:47:21.785 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-05-28 14:47:28.438 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 14:47:28.467 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 14:47:28.624 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 14:47:28.624 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-05-28 14:47:28.624 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-05-28 14:47:28.624 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-05-28 14:47:28.630 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-28 14:47:28.630 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-28 14:47:28.630 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-05-28 14:47:29.908 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 14:47:29.917 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\29567\nacos\config
2025-05-28 14:47:29.920 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of e6ce71aa-0440-4e3c-8621-ed80ca45516f_config-0
2025-05-28 14:47:29.928 [main] INFO  com.alibaba.nacos.common.remote.client - [e6ce71aa-0440-4e3c-8621-ed80ca45516f_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$590/0x000001e501392660
2025-05-28 14:47:29.928 [main] INFO  com.alibaba.nacos.common.remote.client - [e6ce71aa-0440-4e3c-8621-ed80ca45516f_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$591/0x000001e501392a80
2025-05-28 14:47:29.929 [main] INFO  com.alibaba.nacos.common.remote.client - [e6ce71aa-0440-4e3c-8621-ed80ca45516f_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2025-05-28 14:47:29.929 [main] INFO  com.alibaba.nacos.common.remote.client - [e6ce71aa-0440-4e3c-8621-ed80ca45516f_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2025-05-28 14:47:29.933 [main] INFO  com.alibaba.nacos.common.remote.client - [e6ce71aa-0440-4e3c-8621-ed80ca45516f_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-28 14:47:29.959 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-28 14:47:30.581 [main] INFO  com.alibaba.nacos.common.remote.client - [e6ce71aa-0440-4e3c-8621-ed80ca45516f_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1748414850428_127.0.0.1_52876
2025-05-28 14:47:30.584 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [e6ce71aa-0440-4e3c-8621-ed80ca45516f_config-0] Notify connected event to listeners.
2025-05-28 14:47:30.584 [main] INFO  com.alibaba.nacos.common.remote.client - [e6ce71aa-0440-4e3c-8621-ed80ca45516f_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-28 14:47:30.584 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [e6ce71aa-0440-4e3c-8621-ed80ca45516f_config-0] Connected,notify listen context...
2025-05-28 14:47:30.585 [main] INFO  com.alibaba.nacos.common.remote.client - [e6ce71aa-0440-4e3c-8621-ed80ca45516f_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$611/0x000001e5014daee0
2025-05-28 14:47:30.635 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2025-05-28 14:47:30.656 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2025-05-28 14:47:30.669 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-auth.yaml] & group[DEFAULT_GROUP]
2025-05-28 14:47:30.674 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth,DEFAULT_GROUP'}]
2025-05-28 14:47:30.693 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 14:47:30.693 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - The following 1 profile is active: "dev"
2025-05-28 14:47:31.120 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-28 14:47:31.123 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-28 14:47:31.142 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-05-28 14:47:31.233 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=afe8ae0b-08c1-3962-98f2-da090fcdb8b2
2025-05-28 14:47:31.572 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-05-28 14:47:31.578 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-05-28 14:47:31.579 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-05-28 14:47:31.635 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-28 14:47:31.636 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 932 ms
2025-05-28 14:47:31.870 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-05-28 14:47:32.070 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-05-28 14:47:33.633 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-28 14:47:35.054 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-28 14:47:35.150 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-05-28 14:47:35.152 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-05-28 14:47:35.153 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-05-28 14:47:35.153 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-05-28 14:47:35.157 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-28 14:47:35.157 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-28 14:47:35.161 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 11d5d33d-a87f-40b4-b7c7-e6d9eb5f8c00
2025-05-28 14:47:35.162 [main] INFO  com.alibaba.nacos.common.remote.client - [11d5d33d-a87f-40b4-b7c7-e6d9eb5f8c00] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-05-28 14:47:35.163 [main] INFO  com.alibaba.nacos.common.remote.client - [11d5d33d-a87f-40b4-b7c7-e6d9eb5f8c00] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-05-28 14:47:35.163 [main] INFO  com.alibaba.nacos.common.remote.client - [11d5d33d-a87f-40b4-b7c7-e6d9eb5f8c00] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-05-28 14:47:35.163 [main] INFO  com.alibaba.nacos.common.remote.client - [11d5d33d-a87f-40b4-b7c7-e6d9eb5f8c00] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-28 14:47:35.164 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-28 14:47:35.273 [main] INFO  com.alibaba.nacos.common.remote.client - [11d5d33d-a87f-40b4-b7c7-e6d9eb5f8c00] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1748414855168_127.0.0.1_52886
2025-05-28 14:47:35.274 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [11d5d33d-a87f-40b4-b7c7-e6d9eb5f8c00] Notify connected event to listeners.
2025-05-28 14:47:35.274 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-05-28 14:47:35.274 [main] INFO  com.alibaba.nacos.common.remote.client - [11d5d33d-a87f-40b4-b7c7-e6d9eb5f8c00] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-28 14:47:35.274 [main] INFO  com.alibaba.nacos.common.remote.client - [11d5d33d-a87f-40b4-b7c7-e6d9eb5f8c00] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$611/0x000001e5014daee0
2025-05-28 14:47:35.276 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-auth with instance Instance{instanceId='null', ip='192.168.10.1', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-05-28 14:47:35.298 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-auth 192.168.10.1:8080 register finished
2025-05-28 14:47:36.447 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-28 14:47:36.477 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - Started XiaohashuAuthApplication in 9.547 seconds (process running for 9.994)
2025-05-28 14:47:36.478 [main] INFO  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2025-05-28 14:47:36.758 [main] WARN  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 角色权限数据已经同步至 Redis 中，不再同步...
2025-05-28 14:47:36.759 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-05-28 14:47:36.760 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth.yaml+DEFAULT_GROUP+xiaohashu
2025-05-28 14:47:36.763 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP, cnt=1
2025-05-28 14:47:36.763 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP
2025-05-28 14:47:36.765 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth-dev.yaml+DEFAULT_GROUP+xiaohashu
2025-05-28 14:47:36.765 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP, cnt=1
2025-05-28 14:47:36.765 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP
2025-05-28 14:47:36.766 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth+DEFAULT_GROUP+xiaohashu
2025-05-28 14:47:36.766 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth, group=DEFAULT_GROUP, cnt=1
2025-05-28 14:47:36.766 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth, group=DEFAULT_GROUP
2025-05-28 14:47:43.845 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-28 14:47:43.845 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-28 14:47:43.846 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-05-28 14:47:43.852 [http-nio-8080-exec-1] INFO  c.q.x.auth.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 14:47:43.906 [http-nio-8080-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"18684805496","code":"365886","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-05-28 14:47:43.928 [http-nio-8080-exec-1] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-05-28 14:47:44.059 [http-nio-8080-exec-1] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18684805496(String)
2025-05-28 14:47:44.071 [http-nio-8080-exec-1] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-05-28 14:47:44.075 [http-nio-8080-exec-1] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18684805496, userDO: {"id":8,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-05-28 14:47:44.124 [http-nio-8080-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录/注册], 耗时: 218ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"8SMvUjrCXWDyqX54gETfk0BUsuT4NJmpzC6qxXPeA59fTE15g1q3Lu3uov06EMQe5C4BgoWAjduGrdgRiM3avFP9laDtCBX3JmrKQFGgFcSR7R9Z7arXX2IjHIBgVKw1"} =================================== 
2025-05-28 14:48:00.196 [http-nio-8080-exec-4] INFO  c.q.x.auth.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 8
2025-05-28 14:48:00.200 [http-nio-8080-exec-4] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [账号登出], 入参: "8", 请求类: UserController, 请求方法: logout =================================== 
2025-05-28 14:48:00.213 [http-nio-8080-exec-4] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [账号登出], 耗时: 13ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-05-28 14:50:01.847 [http-nio-8080-exec-2] INFO  c.q.x.auth.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 14:50:01.851 [http-nio-8080-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"18684805496","code":"365886","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-05-28 14:50:01.861 [http-nio-8080-exec-2] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-05-28 14:50:01.862 [http-nio-8080-exec-2] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18684805496(String)
2025-05-28 14:50:01.864 [http-nio-8080-exec-2] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-05-28 14:50:01.865 [http-nio-8080-exec-2] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18684805496, userDO: {"id":8,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-05-28 14:50:02.002 [http-nio-8080-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录/注册], 耗时: 152ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"ZOLJbtbM60qIEYaoCHP6YPXONUr3yXIcG9tGuVBdPPr9HQa35xpxiqScTdO6mCgvolOz8v9nOYpGpvrY14ew6KeQRGzJpCXsxNv3tlRKHSG8AxtRxAmdnFSHZJQL6IZ6"} =================================== 
2025-05-28 14:50:18.909 [http-nio-8080-exec-3] INFO  c.q.x.auth.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 8
2025-05-28 14:50:18.909 [http-nio-8080-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [账号登出], 入参: "8", 请求类: UserController, 请求方法: logout =================================== 
2025-05-28 14:50:18.923 [http-nio-8080-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [账号登出], 耗时: 13ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-05-28 14:58:37.530 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-05-28 14:58:37.530 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-05-28 14:58:37.545 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-05-28 14:58:37.545 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-05-28 14:58:37.584 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-05-28 14:58:37.584 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-auth with instance: Instance{instanceId='null', ip='192.168.10.1', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-05-28 14:58:37.599 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-05-28 14:58:37.599 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-05-28 14:58:37.599 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-05-28 14:58:37.599 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-05-28 14:58:37.599 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-05-28 14:58:37.599 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-05-28 14:58:37.599 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-05-28 14:58:37.599 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-05-28 14:58:37.599 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-05-28 14:58:37.599 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-28 14:58:37.599 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-28 14:58:37.599 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-05-28 14:58:37.599 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-05-28 14:58:37.599 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-28 14:58:37.599 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-28 14:58:37.599 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-05-28 14:58:37.599 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-05-28 14:58:37.599 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@7c59c738[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-05-28 14:58:37.599 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1748414855168_127.0.0.1_52886
2025-05-28 14:58:37.599 [nacos-grpc-client-executor-127.0.0.1-145] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1748414855168_127.0.0.1_52886]Ignore complete event,isRunning:false,isAbandon=false
2025-05-28 14:58:37.602 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@2938f19c[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 146]
2025-05-28 14:58:37.602 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@4f8503c[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 220]
2025-05-28 14:58:37.602 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-05-28 14:58:37.602 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-05-28 14:58:37.602 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-05-28 14:58:37.602 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-05-28 14:58:37.602 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-05-28 14:58:43.671 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 14:58:43.707 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 14:58:43.849 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 14:58:43.854 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-05-28 14:58:43.854 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-05-28 14:58:43.854 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-05-28 14:58:43.865 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-28 14:58:43.865 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-28 14:58:43.865 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-05-28 14:58:45.169 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 14:58:45.184 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\29567\nacos\config
2025-05-28 14:58:45.184 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 183d4629-fc2a-42ca-adb0-2c44c93e4634_config-0
2025-05-28 14:58:45.200 [main] INFO  com.alibaba.nacos.common.remote.client - [183d4629-fc2a-42ca-adb0-2c44c93e4634_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$590/0x0000021a0e392660
2025-05-28 14:58:45.200 [main] INFO  com.alibaba.nacos.common.remote.client - [183d4629-fc2a-42ca-adb0-2c44c93e4634_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$591/0x0000021a0e392a80
2025-05-28 14:58:45.200 [main] INFO  com.alibaba.nacos.common.remote.client - [183d4629-fc2a-42ca-adb0-2c44c93e4634_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2025-05-28 14:58:45.200 [main] INFO  com.alibaba.nacos.common.remote.client - [183d4629-fc2a-42ca-adb0-2c44c93e4634_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2025-05-28 14:58:45.215 [main] INFO  com.alibaba.nacos.common.remote.client - [183d4629-fc2a-42ca-adb0-2c44c93e4634_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-28 14:58:45.231 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-28 14:58:45.995 [main] INFO  com.alibaba.nacos.common.remote.client - [183d4629-fc2a-42ca-adb0-2c44c93e4634_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1748415525829_127.0.0.1_53422
2025-05-28 14:58:45.995 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [183d4629-fc2a-42ca-adb0-2c44c93e4634_config-0] Notify connected event to listeners.
2025-05-28 14:58:45.995 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [183d4629-fc2a-42ca-adb0-2c44c93e4634_config-0] Connected,notify listen context...
2025-05-28 14:58:45.995 [main] INFO  com.alibaba.nacos.common.remote.client - [183d4629-fc2a-42ca-adb0-2c44c93e4634_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-28 14:58:45.995 [main] INFO  com.alibaba.nacos.common.remote.client - [183d4629-fc2a-42ca-adb0-2c44c93e4634_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$611/0x0000021a0e4db2e8
2025-05-28 14:58:46.012 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2025-05-28 14:58:46.012 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2025-05-28 14:58:46.029 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-auth.yaml] & group[DEFAULT_GROUP]
2025-05-28 14:58:46.029 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth,DEFAULT_GROUP'}]
2025-05-28 14:58:46.056 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 14:58:46.058 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - The following 1 profile is active: "dev"
2025-05-28 14:58:46.679 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-28 14:58:46.681 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-28 14:58:46.701 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-05-28 14:58:46.795 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=afe8ae0b-08c1-3962-98f2-da090fcdb8b2
2025-05-28 14:58:47.204 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-05-28 14:58:47.204 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-05-28 14:58:47.204 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-05-28 14:58:47.269 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-28 14:58:47.269 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1202 ms
2025-05-28 14:58:47.627 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-05-28 14:58:47.946 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-05-28 14:58:49.557 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-28 14:58:51.492 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-28 14:58:51.603 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-05-28 14:58:51.618 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-05-28 14:58:51.618 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-05-28 14:58:51.618 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-05-28 14:58:51.618 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-28 14:58:51.618 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-28 14:58:51.634 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 693df113-8b2e-4fc9-a165-b0fd66579767
2025-05-28 14:58:51.634 [main] INFO  com.alibaba.nacos.common.remote.client - [693df113-8b2e-4fc9-a165-b0fd66579767] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-05-28 14:58:51.634 [main] INFO  com.alibaba.nacos.common.remote.client - [693df113-8b2e-4fc9-a165-b0fd66579767] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-05-28 14:58:51.634 [main] INFO  com.alibaba.nacos.common.remote.client - [693df113-8b2e-4fc9-a165-b0fd66579767] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-05-28 14:58:51.634 [main] INFO  com.alibaba.nacos.common.remote.client - [693df113-8b2e-4fc9-a165-b0fd66579767] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-28 14:58:51.634 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-28 14:58:51.775 [main] INFO  com.alibaba.nacos.common.remote.client - [693df113-8b2e-4fc9-a165-b0fd66579767] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1748415531650_127.0.0.1_53429
2025-05-28 14:58:51.775 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [693df113-8b2e-4fc9-a165-b0fd66579767] Notify connected event to listeners.
2025-05-28 14:58:51.775 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-05-28 14:58:51.775 [main] INFO  com.alibaba.nacos.common.remote.client - [693df113-8b2e-4fc9-a165-b0fd66579767] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-28 14:58:51.775 [main] INFO  com.alibaba.nacos.common.remote.client - [693df113-8b2e-4fc9-a165-b0fd66579767] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$611/0x0000021a0e4db2e8
2025-05-28 14:58:51.775 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-auth with instance Instance{instanceId='null', ip='192.168.10.1', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-05-28 14:58:51.791 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-auth 192.168.10.1:8080 register finished
2025-05-28 14:58:53.195 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-28 14:58:53.220 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - Started XiaohashuAuthApplication in 11.089 seconds (process running for 11.473)
2025-05-28 14:58:53.222 [main] INFO  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2025-05-28 14:58:53.900 [main] WARN  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 角色权限数据已经同步至 Redis 中，不再同步...
2025-05-28 14:58:53.902 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-05-28 14:58:53.902 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth.yaml+DEFAULT_GROUP+xiaohashu
2025-05-28 14:58:53.920 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP, cnt=1
2025-05-28 14:58:53.920 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP
2025-05-28 14:58:53.925 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth-dev.yaml+DEFAULT_GROUP+xiaohashu
2025-05-28 14:58:53.925 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP, cnt=1
2025-05-28 14:58:53.925 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP
2025-05-28 14:58:53.948 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth+DEFAULT_GROUP+xiaohashu
2025-05-28 14:58:53.948 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth, group=DEFAULT_GROUP, cnt=1
2025-05-28 14:58:53.948 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth, group=DEFAULT_GROUP
2025-05-28 15:02:30.120 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-05-28 15:02:30.120 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-05-28 15:02:30.120 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-05-28 15:02:30.121 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-05-28 15:02:30.147 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-05-28 15:02:30.147 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-auth with instance: Instance{instanceId='null', ip='192.168.10.1', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-05-28 15:02:30.150 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-05-28 15:02:30.150 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-05-28 15:02:30.151 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-05-28 15:02:30.151 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-05-28 15:02:30.151 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-05-28 15:02:30.151 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-05-28 15:02:30.151 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-05-28 15:02:30.151 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-05-28 15:02:30.151 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-05-28 15:02:30.151 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-28 15:02:30.151 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-28 15:02:30.151 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-05-28 15:02:30.151 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-05-28 15:02:30.151 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-28 15:02:30.151 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-28 15:02:30.151 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-05-28 15:02:30.151 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-05-28 15:02:30.151 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@22a308b9[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-05-28 15:02:30.151 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1748415531650_127.0.0.1_53429
2025-05-28 15:02:30.153 [nacos-grpc-client-executor-127.0.0.1-55] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1748415531650_127.0.0.1_53429]Ignore complete event,isRunning:false,isAbandon=false
2025-05-28 15:02:30.153 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@3d855520[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 56]
2025-05-28 15:02:30.153 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@591fe651[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 72]
2025-05-28 15:02:30.155 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-05-28 15:02:30.155 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-05-28 15:02:30.155 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-05-28 15:02:30.155 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-05-28 15:02:30.159 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-05-28 15:02:36.962 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 15:02:37.001 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 15:02:37.142 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 15:02:37.143 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-05-28 15:02:37.143 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-05-28 15:02:37.143 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-05-28 15:02:37.159 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-28 15:02:37.159 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-28 15:02:37.160 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-05-28 15:02:38.400 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 15:02:38.409 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\29567\nacos\config
2025-05-28 15:02:38.411 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of f577d417-2348-4543-bbd0-bc9c0d1528c5_config-0
2025-05-28 15:02:38.419 [main] INFO  com.alibaba.nacos.common.remote.client - [f577d417-2348-4543-bbd0-bc9c0d1528c5_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$590/0x0000017001393708
2025-05-28 15:02:38.420 [main] INFO  com.alibaba.nacos.common.remote.client - [f577d417-2348-4543-bbd0-bc9c0d1528c5_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$591/0x0000017001393b28
2025-05-28 15:02:38.420 [main] INFO  com.alibaba.nacos.common.remote.client - [f577d417-2348-4543-bbd0-bc9c0d1528c5_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2025-05-28 15:02:38.420 [main] INFO  com.alibaba.nacos.common.remote.client - [f577d417-2348-4543-bbd0-bc9c0d1528c5_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2025-05-28 15:02:38.429 [main] INFO  com.alibaba.nacos.common.remote.client - [f577d417-2348-4543-bbd0-bc9c0d1528c5_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-28 15:02:38.455 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-28 15:02:39.049 [main] INFO  com.alibaba.nacos.common.remote.client - [f577d417-2348-4543-bbd0-bc9c0d1528c5_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1748415758897_127.0.0.1_53639
2025-05-28 15:02:39.050 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [f577d417-2348-4543-bbd0-bc9c0d1528c5_config-0] Notify connected event to listeners.
2025-05-28 15:02:39.051 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [f577d417-2348-4543-bbd0-bc9c0d1528c5_config-0] Connected,notify listen context...
2025-05-28 15:02:39.051 [main] INFO  com.alibaba.nacos.common.remote.client - [f577d417-2348-4543-bbd0-bc9c0d1528c5_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-28 15:02:39.052 [main] INFO  com.alibaba.nacos.common.remote.client - [f577d417-2348-4543-bbd0-bc9c0d1528c5_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$611/0x00000170014dbf18
2025-05-28 15:02:39.085 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2025-05-28 15:02:39.098 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2025-05-28 15:02:39.109 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-auth.yaml] & group[DEFAULT_GROUP]
2025-05-28 15:02:39.118 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth,DEFAULT_GROUP'}]
2025-05-28 15:02:39.136 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 15:02:39.136 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - The following 1 profile is active: "dev"
2025-05-28 15:02:39.636 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-28 15:02:39.638 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-28 15:02:39.658 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-05-28 15:02:39.753 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=afe8ae0b-08c1-3962-98f2-da090fcdb8b2
2025-05-28 15:02:40.089 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-05-28 15:02:40.097 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-05-28 15:02:40.097 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-05-28 15:02:40.150 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-28 15:02:40.151 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1005 ms
2025-05-28 15:02:40.382 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-05-28 15:02:40.576 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-05-28 15:02:42.148 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-28 15:02:43.572 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-28 15:02:43.672 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-05-28 15:02:43.675 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-05-28 15:02:43.675 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-05-28 15:02:43.676 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-05-28 15:02:43.682 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-28 15:02:43.682 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-28 15:02:43.685 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 7870f6ab-b814-42a8-a315-0147bea83c38
2025-05-28 15:02:43.686 [main] INFO  com.alibaba.nacos.common.remote.client - [7870f6ab-b814-42a8-a315-0147bea83c38] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-05-28 15:02:43.686 [main] INFO  com.alibaba.nacos.common.remote.client - [7870f6ab-b814-42a8-a315-0147bea83c38] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-05-28 15:02:43.686 [main] INFO  com.alibaba.nacos.common.remote.client - [7870f6ab-b814-42a8-a315-0147bea83c38] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-05-28 15:02:43.687 [main] INFO  com.alibaba.nacos.common.remote.client - [7870f6ab-b814-42a8-a315-0147bea83c38] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-28 15:02:43.687 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-28 15:02:43.807 [main] INFO  com.alibaba.nacos.common.remote.client - [7870f6ab-b814-42a8-a315-0147bea83c38] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1748415763690_127.0.0.1_53654
2025-05-28 15:02:43.808 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [7870f6ab-b814-42a8-a315-0147bea83c38] Notify connected event to listeners.
2025-05-28 15:02:43.810 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-05-28 15:02:43.808 [main] INFO  com.alibaba.nacos.common.remote.client - [7870f6ab-b814-42a8-a315-0147bea83c38] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-28 15:02:43.810 [main] INFO  com.alibaba.nacos.common.remote.client - [7870f6ab-b814-42a8-a315-0147bea83c38] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$611/0x00000170014dbf18
2025-05-28 15:02:43.812 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-auth with instance Instance{instanceId='null', ip='192.168.10.1', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-05-28 15:02:43.832 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-auth 192.168.10.1:8080 register finished
2025-05-28 15:02:45.003 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-28 15:02:45.023 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - Started XiaohashuAuthApplication in 9.571 seconds (process running for 9.939)
2025-05-28 15:02:45.024 [main] INFO  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2025-05-28 15:02:45.295 [main] WARN  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 角色权限数据已经同步至 Redis 中，不再同步...
2025-05-28 15:02:45.297 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-05-28 15:02:45.297 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth.yaml+DEFAULT_GROUP+xiaohashu
2025-05-28 15:02:45.300 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP, cnt=1
2025-05-28 15:02:45.301 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP
2025-05-28 15:02:45.302 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth-dev.yaml+DEFAULT_GROUP+xiaohashu
2025-05-28 15:02:45.302 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP, cnt=1
2025-05-28 15:02:45.302 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP
2025-05-28 15:02:45.303 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth+DEFAULT_GROUP+xiaohashu
2025-05-28 15:02:45.303 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth, group=DEFAULT_GROUP, cnt=1
2025-05-28 15:02:45.303 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth, group=DEFAULT_GROUP
2025-05-28 15:02:53.243 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-28 15:02:53.243 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-28 15:02:53.244 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-05-28 15:02:53.250 [http-nio-8080-exec-1] INFO  c.q.x.auth.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 15:02:53.326 [http-nio-8080-exec-1] INFO  c.q.x.a.service.impl.VerificationCodeServiceImpl - ==> 手机号: 18684805496, 已发送验证码：【839501】
2025-05-28 15:02:53.326 [AuthExecutor-1] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 开始短信发送, phone: 18684805496, signName: 阿里云短信测试, templateCode: SMS_154950909, templateParam: {"code":"839501"}
2025-05-28 15:02:54.346 [AuthExecutor-1] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 短信发送成功, response: {"headers":{"access-control-allow-origin":"*","date":"Wed, 28 May 2025 07:02:53 GMT","content-length":"110","keep-alive":"timeout=25","x-acs-request-id":"AE74C6A2-14F3-50E6-93F3-36CBF52E238C","connection":"keep-alive","content-type":"application/json;charset=utf-8","etag":"1ixF/+FDCf6kzoB0b+ESleg0","access-control-expose-headers":"*","x-acs-trace-id":"0fa98d6abc682dd0a7f52fb8e55c0add"},"statusCode":200,"body":{"bizId":"302506648415773303^0","code":"OK","message":"OK","requestId":"AE74C6A2-14F3-50E6-93F3-36CBF52E238C"}}
2025-05-28 15:03:08.634 [http-nio-8080-exec-4] INFO  c.q.x.auth.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 15:03:08.644 [http-nio-8080-exec-4] WARN  c.q.x.auth.exception.GlobalExceptionHandler - /verification/code/send request fail, errorCode: AUTH-20000, errorMessage: 请求太频繁，请3分钟后再试
2025-05-28 15:03:17.944 [http-nio-8080-exec-3] INFO  c.q.x.auth.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 15:03:17.963 [http-nio-8080-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"18684805496","code":"365886","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-05-28 15:03:17.972 [http-nio-8080-exec-3] WARN  c.q.x.auth.exception.GlobalExceptionHandler - /user/login request fail, errorCode: AUTH-20001, errorMessage: 验证码错误
2025-05-28 15:04:00.490 [http-nio-8080-exec-7] INFO  c.q.x.auth.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 15:04:00.492 [http-nio-8080-exec-7] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"18684805496","code":"839501","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-05-28 15:04:00.532 [http-nio-8080-exec-7] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-05-28 15:04:00.653 [http-nio-8080-exec-7] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18684805496(String)
2025-05-28 15:04:00.666 [http-nio-8080-exec-7] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-05-28 15:04:00.670 [http-nio-8080-exec-7] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18684805496, userDO: {"id":8,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-05-28 15:04:00.721 [http-nio-8080-exec-7] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录/注册], 耗时: 228ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"QWGhNzkNhoART1096xfX3zbQYYcfOuJsZN7EQQREBHvcMCpLWqKKcQz8C9EzT7zGTc9rwhVjc2mCeJW4RVeCVbBB93RsRS7DBeLSpjIylKvCb4rwshsTIO2KW67Vlp8z"} =================================== 
2025-05-28 15:04:23.022 [http-nio-8080-exec-2] INFO  c.q.x.auth.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 8
2025-05-28 15:04:23.022 [http-nio-8080-exec-2] INFO  c.q.x.auth.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8
2025-05-28 15:04:23.024 [http-nio-8080-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [账号登出], 入参: , 请求类: UserController, 请求方法: logout =================================== 
2025-05-28 15:04:23.034 [http-nio-8080-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [账号登出], 耗时: 10ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-05-28 15:04:23.035 [http-nio-8080-exec-2] INFO  c.q.x.auth.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8
2025-05-28 15:40:04.629 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-05-28 15:40:04.630 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-05-28 15:40:04.630 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-05-28 15:40:04.631 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-05-28 15:40:04.667 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-05-28 15:40:04.667 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-auth with instance: Instance{instanceId='null', ip='192.168.10.1', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-05-28 15:40:04.669 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-05-28 15:40:04.669 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-05-28 15:40:04.669 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-05-28 15:40:04.670 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-05-28 15:40:04.670 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-05-28 15:40:04.670 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-05-28 15:40:04.670 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-05-28 15:40:04.670 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-05-28 15:40:04.670 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-05-28 15:40:04.670 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-28 15:40:04.670 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-28 15:40:04.670 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-05-28 15:40:04.670 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-05-28 15:40:04.670 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-28 15:40:04.670 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-28 15:40:04.670 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-05-28 15:40:04.670 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-05-28 15:40:04.670 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@68218b11[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-05-28 15:40:04.670 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1748415763690_127.0.0.1_53654
2025-05-28 15:40:04.671 [nacos-grpc-client-executor-127.0.0.1-464] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1748415763690_127.0.0.1_53654]Ignore complete event,isRunning:false,isAbandon=false
2025-05-28 15:40:04.672 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@2cfbf3c3[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 465]
2025-05-28 15:40:04.672 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@79373be0[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 745]
2025-05-28 15:40:04.672 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-05-28 15:40:04.672 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-05-28 15:40:04.672 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-05-28 15:40:04.673 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-05-28 15:40:04.674 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-05-28 15:42:25.812 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 15:42:25.850 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 15:42:26.001 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 15:42:26.002 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-05-28 15:42:26.002 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-05-28 15:42:26.003 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-05-28 15:42:26.019 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-28 15:42:26.019 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-28 15:42:26.021 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-05-28 15:42:26.298 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 15:42:26.307 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\29567\nacos\config
2025-05-28 15:42:26.310 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 288f79cb-6fc5-4759-8b38-7a9a83e8d851_config-0
2025-05-28 15:42:26.321 [main] INFO  com.alibaba.nacos.common.remote.client - [288f79cb-6fc5-4759-8b38-7a9a83e8d851_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$589/0x000002a3013923b8
2025-05-28 15:42:26.322 [main] INFO  com.alibaba.nacos.common.remote.client - [288f79cb-6fc5-4759-8b38-7a9a83e8d851_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$590/0x000002a3013927d8
2025-05-28 15:42:26.322 [main] INFO  com.alibaba.nacos.common.remote.client - [288f79cb-6fc5-4759-8b38-7a9a83e8d851_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2025-05-28 15:42:26.322 [main] INFO  com.alibaba.nacos.common.remote.client - [288f79cb-6fc5-4759-8b38-7a9a83e8d851_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2025-05-28 15:42:26.333 [main] INFO  com.alibaba.nacos.common.remote.client - [288f79cb-6fc5-4759-8b38-7a9a83e8d851_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-28 15:42:26.366 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-28 15:42:27.014 [main] INFO  com.alibaba.nacos.common.remote.client - [288f79cb-6fc5-4759-8b38-7a9a83e8d851_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1748418146859_127.0.0.1_54539
2025-05-28 15:42:27.015 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [288f79cb-6fc5-4759-8b38-7a9a83e8d851_config-0] Notify connected event to listeners.
2025-05-28 15:42:27.015 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [288f79cb-6fc5-4759-8b38-7a9a83e8d851_config-0] Connected,notify listen context...
2025-05-28 15:42:27.015 [main] INFO  com.alibaba.nacos.common.remote.client - [288f79cb-6fc5-4759-8b38-7a9a83e8d851_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-28 15:42:27.016 [main] INFO  com.alibaba.nacos.common.remote.client - [288f79cb-6fc5-4759-8b38-7a9a83e8d851_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$610/0x000002a3014dac38
2025-05-28 15:42:27.063 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2025-05-28 15:42:27.072 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2025-05-28 15:42:27.080 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-auth.yaml] & group[DEFAULT_GROUP]
2025-05-28 15:42:27.084 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth,DEFAULT_GROUP'}]
2025-05-28 15:42:27.100 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 15:42:27.101 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - The following 1 profile is active: "dev"
2025-05-28 15:42:27.563 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-28 15:42:27.565 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-28 15:42:27.584 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-05-28 15:42:27.695 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=dc3c6f74-4784-3aca-bba0-13661bc8f689
2025-05-28 15:42:28.095 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-05-28 15:42:28.104 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-05-28 15:42:28.105 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-05-28 15:42:28.165 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-28 15:42:28.166 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1055 ms
2025-05-28 15:42:28.201 [main] INFO  o.s.boot.web.servlet.RegistrationBean - Filter headerUserId2ContextFilter was not registered (possibly already registered?)
2025-05-28 15:42:28.439 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-05-28 15:42:28.706 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-05-28 15:42:29.209 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-05-28 15:42:29.209 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-05-28 15:42:29.209 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-05-28 15:42:29.210 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-05-28 15:42:29.846 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-05-28 15:42:29.848 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-05-28 15:42:29.849 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-05-28 15:42:29.849 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-05-28 15:42:29.853 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-28 15:42:29.853 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-28 15:42:29.856 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 225ad477-5bae-40d9-b6a5-4b7745dc52b6
2025-05-28 15:42:29.857 [main] INFO  com.alibaba.nacos.common.remote.client - [225ad477-5bae-40d9-b6a5-4b7745dc52b6] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-05-28 15:42:29.857 [main] INFO  com.alibaba.nacos.common.remote.client - [225ad477-5bae-40d9-b6a5-4b7745dc52b6] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-05-28 15:42:29.857 [main] INFO  com.alibaba.nacos.common.remote.client - [225ad477-5bae-40d9-b6a5-4b7745dc52b6] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-05-28 15:42:29.858 [main] INFO  com.alibaba.nacos.common.remote.client - [225ad477-5bae-40d9-b6a5-4b7745dc52b6] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-28 15:42:29.858 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-28 15:42:29.979 [main] INFO  com.alibaba.nacos.common.remote.client - [225ad477-5bae-40d9-b6a5-4b7745dc52b6] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1748418149861_127.0.0.1_54545
2025-05-28 15:42:29.980 [main] INFO  com.alibaba.nacos.common.remote.client - [225ad477-5bae-40d9-b6a5-4b7745dc52b6] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-28 15:42:29.980 [main] INFO  com.alibaba.nacos.common.remote.client - [225ad477-5bae-40d9-b6a5-4b7745dc52b6] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$610/0x000002a3014dac38
2025-05-28 15:42:29.980 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [225ad477-5bae-40d9-b6a5-4b7745dc52b6] Notify connected event to listeners.
2025-05-28 15:42:29.980 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-05-28 15:42:29.983 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-auth with instance Instance{instanceId='null', ip='192.168.10.1', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-05-28 15:42:30.004 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-auth 192.168.10.1:8080 register finished
2025-05-28 15:42:30.184 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - Started XiaohashuAuthApplication in 4.874 seconds (process running for 5.399)
2025-05-28 15:42:30.185 [main] INFO  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2025-05-28 15:42:30.207 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-05-28 15:42:30.207 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-auth with instance: Instance{instanceId='null', ip='192.168.10.1', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-05-28 15:42:30.210 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-05-28 15:42:30.211 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-05-28 15:42:30.211 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-05-28 15:42:30.454 [main] WARN  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 角色权限数据已经同步至 Redis 中，不再同步...
2025-05-28 15:42:30.539 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-05-28 15:42:30.539 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-05-28 15:42:30.539 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-05-28 15:42:30.540 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-05-28 15:42:30.540 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-05-28 15:42:30.540 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-05-28 15:42:30.540 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-28 15:42:30.540 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-28 15:42:30.540 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-05-28 15:42:30.541 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-05-28 15:42:30.541 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-28 15:42:30.541 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-28 15:42:30.541 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-05-28 15:42:30.541 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-05-28 15:42:30.541 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@690f29ec[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-05-28 15:42:30.541 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1748418149861_127.0.0.1_54545
2025-05-28 15:42:30.546 [nacos-grpc-client-executor-127.0.0.1-8] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1748418149861_127.0.0.1_54545]Ignore complete event,isRunning:false,isAbandon=false
2025-05-28 15:42:30.548 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@17feabb5[Running, pool size = 9, active threads = 0, queued tasks = 0, completed tasks = 9]
2025-05-28 15:42:30.548 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@445c9e22[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 0]
2025-05-28 15:42:30.549 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-05-28 15:42:30.549 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-05-28 15:42:30.549 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-05-28 15:42:30.551 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-05-28 15:42:30.562 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-05-28 15:45:48.513 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 15:45:48.548 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 15:45:48.692 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 15:45:48.692 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-05-28 15:45:48.692 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-05-28 15:45:48.692 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-05-28 15:45:48.708 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-28 15:45:48.708 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-28 15:45:48.708 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-05-28 15:45:48.952 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 15:45:48.952 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\29567\nacos\config
2025-05-28 15:45:48.952 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 73971e9a-4d5a-41b6-8264-de454a6df4fd_config-0
2025-05-28 15:45:48.973 [main] INFO  com.alibaba.nacos.common.remote.client - [73971e9a-4d5a-41b6-8264-de454a6df4fd_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$589/0x0000022448391a28
2025-05-28 15:45:48.973 [main] INFO  com.alibaba.nacos.common.remote.client - [73971e9a-4d5a-41b6-8264-de454a6df4fd_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$590/0x0000022448391e48
2025-05-28 15:45:48.973 [main] INFO  com.alibaba.nacos.common.remote.client - [73971e9a-4d5a-41b6-8264-de454a6df4fd_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2025-05-28 15:45:48.973 [main] INFO  com.alibaba.nacos.common.remote.client - [73971e9a-4d5a-41b6-8264-de454a6df4fd_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2025-05-28 15:45:48.973 [main] INFO  com.alibaba.nacos.common.remote.client - [73971e9a-4d5a-41b6-8264-de454a6df4fd_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-28 15:45:49.001 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-28 15:45:49.633 [main] INFO  com.alibaba.nacos.common.remote.client - [73971e9a-4d5a-41b6-8264-de454a6df4fd_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1748418349477_127.0.0.1_54841
2025-05-28 15:45:49.633 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [73971e9a-4d5a-41b6-8264-de454a6df4fd_config-0] Notify connected event to listeners.
2025-05-28 15:45:49.633 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [73971e9a-4d5a-41b6-8264-de454a6df4fd_config-0] Connected,notify listen context...
2025-05-28 15:45:49.633 [main] INFO  com.alibaba.nacos.common.remote.client - [73971e9a-4d5a-41b6-8264-de454a6df4fd_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-28 15:45:49.633 [main] INFO  com.alibaba.nacos.common.remote.client - [73971e9a-4d5a-41b6-8264-de454a6df4fd_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$610/0x00000224484d9ed8
2025-05-28 15:45:49.696 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2025-05-28 15:45:49.711 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2025-05-28 15:45:49.727 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-auth.yaml] & group[DEFAULT_GROUP]
2025-05-28 15:45:49.727 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth,DEFAULT_GROUP'}]
2025-05-28 15:45:49.760 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 15:45:49.760 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - The following 1 profile is active: "dev"
2025-05-28 15:45:50.203 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-28 15:45:50.203 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-28 15:45:50.235 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-05-28 15:45:50.392 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=b7ec78fb-bff2-3862-ba58-8ac5cf509ee4
2025-05-28 15:45:50.722 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-05-28 15:45:50.738 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-05-28 15:45:50.738 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-05-28 15:45:50.835 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-28 15:45:50.848 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1073 ms
2025-05-28 15:45:51.146 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-05-28 15:45:51.387 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-05-28 15:45:52.584 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-05-28 15:45:52.584 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-05-28 15:45:52.584 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-05-28 15:45:52.584 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-05-28 15:45:52.584 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-28 15:45:52.584 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-28 15:45:52.600 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 5b05d957-58fe-4f21-9310-1f732b2e5cab
2025-05-28 15:45:52.600 [main] INFO  com.alibaba.nacos.common.remote.client - [5b05d957-58fe-4f21-9310-1f732b2e5cab] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-05-28 15:45:52.600 [main] INFO  com.alibaba.nacos.common.remote.client - [5b05d957-58fe-4f21-9310-1f732b2e5cab] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-05-28 15:45:52.600 [main] INFO  com.alibaba.nacos.common.remote.client - [5b05d957-58fe-4f21-9310-1f732b2e5cab] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-05-28 15:45:52.600 [main] INFO  com.alibaba.nacos.common.remote.client - [5b05d957-58fe-4f21-9310-1f732b2e5cab] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-28 15:45:52.600 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-28 15:45:52.710 [main] INFO  com.alibaba.nacos.common.remote.client - [5b05d957-58fe-4f21-9310-1f732b2e5cab] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1748418352600_127.0.0.1_54847
2025-05-28 15:45:52.710 [main] INFO  com.alibaba.nacos.common.remote.client - [5b05d957-58fe-4f21-9310-1f732b2e5cab] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-28 15:45:52.710 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [5b05d957-58fe-4f21-9310-1f732b2e5cab] Notify connected event to listeners.
2025-05-28 15:45:52.710 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-05-28 15:45:52.710 [main] INFO  com.alibaba.nacos.common.remote.client - [5b05d957-58fe-4f21-9310-1f732b2e5cab] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$610/0x00000224484d9ed8
2025-05-28 15:45:52.710 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-auth with instance Instance{instanceId='null', ip='192.168.10.1', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-05-28 15:45:52.725 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-auth 192.168.10.1:8080 register finished
2025-05-28 15:45:52.900 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - Started XiaohashuAuthApplication in 4.907 seconds (process running for 5.292)
2025-05-28 15:45:52.916 [main] INFO  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2025-05-28 15:45:53.162 [main] WARN  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 角色权限数据已经同步至 Redis 中，不再同步...
2025-05-28 15:45:53.163 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-05-28 15:45:53.163 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth.yaml+DEFAULT_GROUP+xiaohashu
2025-05-28 15:45:53.168 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP, cnt=1
2025-05-28 15:45:53.168 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP
2025-05-28 15:45:53.168 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth-dev.yaml+DEFAULT_GROUP+xiaohashu
2025-05-28 15:45:53.168 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP, cnt=1
2025-05-28 15:45:53.168 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP
2025-05-28 15:45:53.168 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth+DEFAULT_GROUP+xiaohashu
2025-05-28 15:45:53.168 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth, group=DEFAULT_GROUP, cnt=1
2025-05-28 15:45:53.168 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth, group=DEFAULT_GROUP
2025-05-28 15:46:23.411 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-28 15:46:23.412 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-28 15:46:23.414 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-05-28 15:46:23.424 [http-nio-8080-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 15:46:23.561 [http-nio-8080-exec-1] INFO  c.q.x.a.service.impl.VerificationCodeServiceImpl - ==> 手机号: 18684805496, 已发送验证码：【631327】
2025-05-28 15:46:23.561 [AuthExecutor-1] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 开始短信发送, phone: 18684805496, signName: 阿里云短信测试, templateCode: SMS_154950909, templateParam: {"code":"631327"}
2025-05-28 15:46:25.011 [AuthExecutor-1] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 短信发送成功, response: {"headers":{"access-control-allow-origin":"*","date":"Wed, 28 May 2025 07:46:24 GMT","content-length":"110","keep-alive":"timeout=25","x-acs-request-id":"03157C7F-FA50-5866-9955-E7CC43ED9F27","connection":"keep-alive","content-type":"application/json;charset=utf-8","etag":"1cg2R1k5UAsJRjARV2AMibw0","access-control-expose-headers":"*","x-acs-trace-id":"4e69c10be5f4d00f3dff8550ba434258"},"statusCode":200,"body":{"bizId":"153412748418384063^0","code":"OK","message":"OK","requestId":"03157C7F-FA50-5866-9955-E7CC43ED9F27"}}
2025-05-28 15:46:53.636 [http-nio-8080-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 15:46:53.645 [http-nio-8080-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"18684805496","code":"631327","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-05-28 15:46:53.671 [http-nio-8080-exec-3] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-05-28 15:46:53.841 [http-nio-8080-exec-3] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18684805496(String)
2025-05-28 15:46:53.857 [http-nio-8080-exec-3] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-05-28 15:46:53.862 [http-nio-8080-exec-3] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18684805496, userDO: {"id":8,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-05-28 15:46:53.908 [http-nio-8080-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录/注册], 耗时: 264ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"aI05ktZC9nvuL9JEd0Ch6Gsx9cRl2zsCqxkICpcYVpkZrmm0993Z5MNoejisE1OdsiZA3n1bfRlJ3gL1YvNCwkJqJZVYe6PbzX0Qb7KkNasPXOj68T1iqXzeBbnkobbh"} =================================== 
2025-05-28 15:47:20.731 [http-nio-8080-exec-2] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 15:47:20.731 [http-nio-8080-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [账号登出], 入参: , 请求类: UserController, 请求方法: logout =================================== 
2025-05-28 15:47:20.735 [http-nio-8080-exec-2] ERROR c.q.x.auth.exception.GlobalExceptionHandler - /user/logout request error, 
cn.dev33.satoken.exception.SaTokenException: Account-Session 获取失败：loginId 不能为空
	at cn.dev33.satoken.stp.StpLogic.getSessionByLoginId(StpLogic.java:1236)
	at cn.dev33.satoken.stp.StpLogic.getSessionByLoginId(StpLogic.java:1255)
	at cn.dev33.satoken.stp.StpLogic.logout(StpLogic.java:650)
	at cn.dev33.satoken.stp.StpLogic.logout(StpLogic.java:639)
	at cn.dev33.satoken.stp.StpUtil.logout(StpUtil.java:243)
	at com.quanxiaoha.xiaohashu.auth.service.impl.AuthServiceImpl.logOut(UserServiceImpl.java:127)
	at com.quanxiaoha.xiaohashu.auth.controller.AuthController.logout(UserController.java:33)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.quanxiaoha.framework.biz.operationlog.aspect.ApiOperationLogAspect.doAround(ApiOperationLogAspect.java:53)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:623)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.quanxiaoha.xiaohashu.auth.controller.AuthController$$SpringCGLIB$$0.logout(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:547)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at com.quanxiaoha.framework.biz.context.filter.HeaderUserId2ContextFilter.doFilterInternal(HeaderUserId2ContextFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at com.alibaba.druid.support.jakarta.WebStatFilter.doFilter(WebStatFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at cn.dev33.satoken.filter.SaPathCheckFilterForJakartaServlet.doFilter(SaPathCheckFilterForJakartaServlet.java:55)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-05-28 15:48:52.682 [http-nio-8080-exec-10] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 15:48:52.683 [http-nio-8080-exec-10] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [账号登出], 入参: , 请求类: UserController, 请求方法: logout =================================== 
2025-05-28 15:48:52.683 [http-nio-8080-exec-10] ERROR c.q.x.auth.exception.GlobalExceptionHandler - /user/logout request error, 
cn.dev33.satoken.exception.SaTokenException: Account-Session 获取失败：loginId 不能为空
	at cn.dev33.satoken.stp.StpLogic.getSessionByLoginId(StpLogic.java:1236)
	at cn.dev33.satoken.stp.StpLogic.getSessionByLoginId(StpLogic.java:1255)
	at cn.dev33.satoken.stp.StpLogic.logout(StpLogic.java:650)
	at cn.dev33.satoken.stp.StpLogic.logout(StpLogic.java:639)
	at cn.dev33.satoken.stp.StpUtil.logout(StpUtil.java:243)
	at com.quanxiaoha.xiaohashu.auth.service.impl.AuthServiceImpl.logOut(UserServiceImpl.java:127)
	at com.quanxiaoha.xiaohashu.auth.controller.AuthController.logout(UserController.java:33)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.quanxiaoha.framework.biz.operationlog.aspect.ApiOperationLogAspect.doAround(ApiOperationLogAspect.java:53)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:623)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.quanxiaoha.xiaohashu.auth.controller.AuthController$$SpringCGLIB$$0.logout(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:547)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at com.quanxiaoha.framework.biz.context.filter.HeaderUserId2ContextFilter.doFilterInternal(HeaderUserId2ContextFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at com.alibaba.druid.support.jakarta.WebStatFilter.doFilter(WebStatFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at cn.dev33.satoken.filter.SaPathCheckFilterForJakartaServlet.doFilter(SaPathCheckFilterForJakartaServlet.java:55)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-05-28 15:53:17.458 [http-nio-8080-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 8
2025-05-28 15:53:17.458 [http-nio-8080-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8
2025-05-28 15:53:17.459 [http-nio-8080-exec-8] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [账号登出], 入参: , 请求类: UserController, 请求方法: logout =================================== 
2025-05-28 15:53:17.478 [http-nio-8080-exec-8] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [账号登出], 耗时: 19ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-05-28 15:53:17.480 [http-nio-8080-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8
2025-05-28 15:53:44.469 [http-nio-8080-exec-9] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 15:53:44.478 [http-nio-8080-exec-9] INFO  c.q.x.a.service.impl.VerificationCodeServiceImpl - ==> 手机号: 18684805496, 已发送验证码：【826097】
2025-05-28 15:53:44.479 [AuthExecutor-2] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 开始短信发送, phone: 18684805496, signName: 阿里云短信测试, templateCode: SMS_154950909, templateParam: {"code":"826097"}
2025-05-28 15:53:45.081 [AuthExecutor-2] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 短信发送成功, response: {"headers":{"access-control-allow-origin":"*","date":"Wed, 28 May 2025 07:53:44 GMT","content-length":"110","keep-alive":"timeout=25","x-acs-request-id":"303FEFD7-7E4E-5230-A67A-575384812041","connection":"keep-alive","content-type":"application/json;charset=utf-8","etag":"1L9i+Mfg7R6jrKvYZsGBCwQ0","access-control-expose-headers":"*","x-acs-trace-id":"77270d2a542e92f0fe87ee41e747d46b"},"statusCode":200,"body":{"bizId":"178116248418824186^0","code":"OK","message":"OK","requestId":"303FEFD7-7E4E-5230-A67A-575384812041"}}
2025-05-28 15:53:59.126 [http-nio-8080-exec-7] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 15:53:59.130 [http-nio-8080-exec-7] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"18684805496","code":"826097","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-05-28 15:53:59.132 [http-nio-8080-exec-7] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-05-28 15:53:59.133 [http-nio-8080-exec-7] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18684805496(String)
2025-05-28 15:53:59.134 [http-nio-8080-exec-7] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-05-28 15:53:59.134 [http-nio-8080-exec-7] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18684805496, userDO: {"id":8,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-05-28 15:53:59.155 [http-nio-8080-exec-7] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录/注册], 耗时: 25ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"99ZeeCwrQDQEmncwUNKbImQSI3WTA30Z9hF58iyD9MCT0eZ8f6LuVhNBzRPGd09ESccMLMEH2sG4rHzV4yRrN1kG5ojJgLxVYmWnGyKSrE5fnFiVRPAPpjWZRbTYmBX1"} =================================== 
2025-05-28 15:54:12.099 [http-nio-8080-exec-6] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 8
2025-05-28 15:54:12.099 [http-nio-8080-exec-6] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8
2025-05-28 15:54:12.100 [http-nio-8080-exec-6] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [账号登出], 入参: , 请求类: UserController, 请求方法: logout =================================== 
2025-05-28 15:54:12.117 [http-nio-8080-exec-6] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [账号登出], 耗时: 16ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-05-28 15:54:12.117 [http-nio-8080-exec-6] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8
2025-05-28 16:16:25.099 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-05-28 16:16:25.099 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-05-28 16:16:25.100 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-05-28 16:16:25.100 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-05-28 16:16:25.127 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-05-28 16:16:25.127 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-auth with instance: Instance{instanceId='null', ip='192.168.10.1', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-05-28 16:16:25.129 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-05-28 16:16:25.130 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-05-28 16:16:25.130 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-05-28 16:16:25.130 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-05-28 16:16:25.130 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-05-28 16:16:25.130 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-05-28 16:16:25.130 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-05-28 16:16:25.130 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-05-28 16:16:25.130 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-05-28 16:16:25.130 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-28 16:16:25.130 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-28 16:16:25.130 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-05-28 16:16:25.130 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-05-28 16:16:25.130 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-28 16:16:25.130 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-28 16:16:25.130 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-05-28 16:16:25.130 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-05-28 16:16:25.130 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@2bd4dff6[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-05-28 16:16:25.130 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1748418352600_127.0.0.1_54847
2025-05-28 16:16:25.132 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@417cd8f1[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 384]
2025-05-28 16:16:25.132 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@7ccae71b[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 609]
2025-05-28 16:16:25.132 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-05-28 16:16:25.132 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-05-28 16:16:25.132 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-05-28 16:16:25.133 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-05-28 16:16:25.134 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-05-28 16:16:29.328 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 16:16:29.367 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 16:16:29.513 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 16:16:29.514 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-05-28 16:16:29.514 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-05-28 16:16:29.514 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-05-28 16:16:29.532 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-28 16:16:29.532 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-28 16:16:29.534 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-05-28 16:16:29.788 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 16:16:29.797 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\29567\nacos\config
2025-05-28 16:16:29.799 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of d303fe37-e281-49fd-aa8e-8efff7576425_config-0
2025-05-28 16:16:29.808 [main] INFO  com.alibaba.nacos.common.remote.client - [d303fe37-e281-49fd-aa8e-8efff7576425_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$589/0x000001f181392150
2025-05-28 16:16:29.809 [main] INFO  com.alibaba.nacos.common.remote.client - [d303fe37-e281-49fd-aa8e-8efff7576425_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$590/0x000001f181392570
2025-05-28 16:16:29.809 [main] INFO  com.alibaba.nacos.common.remote.client - [d303fe37-e281-49fd-aa8e-8efff7576425_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2025-05-28 16:16:29.810 [main] INFO  com.alibaba.nacos.common.remote.client - [d303fe37-e281-49fd-aa8e-8efff7576425_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2025-05-28 16:16:29.818 [main] INFO  com.alibaba.nacos.common.remote.client - [d303fe37-e281-49fd-aa8e-8efff7576425_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-28 16:16:29.845 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-28 16:16:30.528 [main] INFO  com.alibaba.nacos.common.remote.client - [d303fe37-e281-49fd-aa8e-8efff7576425_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1748420190343_127.0.0.1_55336
2025-05-28 16:16:30.529 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [d303fe37-e281-49fd-aa8e-8efff7576425_config-0] Notify connected event to listeners.
2025-05-28 16:16:30.530 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [d303fe37-e281-49fd-aa8e-8efff7576425_config-0] Connected,notify listen context...
2025-05-28 16:16:30.530 [main] INFO  com.alibaba.nacos.common.remote.client - [d303fe37-e281-49fd-aa8e-8efff7576425_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-28 16:16:30.532 [main] INFO  com.alibaba.nacos.common.remote.client - [d303fe37-e281-49fd-aa8e-8efff7576425_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$610/0x000001f1814db190
2025-05-28 16:16:30.578 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2025-05-28 16:16:30.596 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2025-05-28 16:16:30.608 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-auth.yaml] & group[DEFAULT_GROUP]
2025-05-28 16:16:30.617 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth,DEFAULT_GROUP'}]
2025-05-28 16:16:30.635 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 16:16:30.636 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - The following 1 profile is active: "dev"
2025-05-28 16:16:31.079 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-28 16:16:31.081 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-28 16:16:31.097 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-05-28 16:16:31.186 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=49ee6574-566c-344b-9f1b-815738182ca5
2025-05-28 16:16:31.527 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-05-28 16:16:31.534 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-05-28 16:16:31.535 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-05-28 16:16:31.601 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-28 16:16:31.603 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 955 ms
2025-05-28 16:16:31.855 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-05-28 16:16:32.096 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-05-28 16:16:33.192 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-05-28 16:16:33.195 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-05-28 16:16:33.195 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-05-28 16:16:33.195 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-05-28 16:16:33.200 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-28 16:16:33.200 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-28 16:16:33.203 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of db0410d6-3294-4801-b2e7-d17a4cab109a
2025-05-28 16:16:33.204 [main] INFO  com.alibaba.nacos.common.remote.client - [db0410d6-3294-4801-b2e7-d17a4cab109a] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-05-28 16:16:33.204 [main] INFO  com.alibaba.nacos.common.remote.client - [db0410d6-3294-4801-b2e7-d17a4cab109a] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-05-28 16:16:33.204 [main] INFO  com.alibaba.nacos.common.remote.client - [db0410d6-3294-4801-b2e7-d17a4cab109a] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-05-28 16:16:33.205 [main] INFO  com.alibaba.nacos.common.remote.client - [db0410d6-3294-4801-b2e7-d17a4cab109a] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-28 16:16:33.205 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-28 16:16:33.321 [main] INFO  com.alibaba.nacos.common.remote.client - [db0410d6-3294-4801-b2e7-d17a4cab109a] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1748420193208_127.0.0.1_55344
2025-05-28 16:16:33.322 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [db0410d6-3294-4801-b2e7-d17a4cab109a] Notify connected event to listeners.
2025-05-28 16:16:33.325 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-05-28 16:16:33.326 [main] INFO  com.alibaba.nacos.common.remote.client - [db0410d6-3294-4801-b2e7-d17a4cab109a] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-28 16:16:33.326 [main] INFO  com.alibaba.nacos.common.remote.client - [db0410d6-3294-4801-b2e7-d17a4cab109a] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$610/0x000001f1814db190
2025-05-28 16:16:33.335 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-auth with instance Instance{instanceId='null', ip='192.168.10.1', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-05-28 16:16:33.348 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-auth 192.168.10.1:8080 register finished
2025-05-28 16:16:33.505 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - Started XiaohashuAuthApplication in 4.669 seconds (process running for 5.024)
2025-05-28 16:16:33.506 [main] INFO  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2025-05-28 16:16:33.881 [main] WARN  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 角色权限数据已经同步至 Redis 中，不再同步...
2025-05-28 16:16:33.883 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-05-28 16:16:33.883 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth.yaml+DEFAULT_GROUP+xiaohashu
2025-05-28 16:16:33.887 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP, cnt=1
2025-05-28 16:16:33.887 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP
2025-05-28 16:16:33.888 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth-dev.yaml+DEFAULT_GROUP+xiaohashu
2025-05-28 16:16:33.888 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP, cnt=1
2025-05-28 16:16:33.888 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP
2025-05-28 16:16:33.889 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth+DEFAULT_GROUP+xiaohashu
2025-05-28 16:16:33.889 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth, group=DEFAULT_GROUP, cnt=1
2025-05-28 16:16:33.889 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth, group=DEFAULT_GROUP
2025-05-28 16:18:43.473 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-28 16:18:43.473 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-28 16:18:43.475 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-05-28 16:18:43.489 [http-nio-8080-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 16:18:43.625 [http-nio-8080-exec-1] INFO  c.q.x.a.service.impl.VerificationCodeServiceImpl - ==> 手机号: 18684805496, 已发送验证码：【984053】
2025-05-28 16:18:43.626 [AuthExecutor-1] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 开始短信发送, phone: 18684805496, signName: 阿里云短信测试, templateCode: SMS_154950909, templateParam: {"code":"984053"}
2025-05-28 16:18:44.896 [AuthExecutor-1] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 短信发送成功, response: {"headers":{"access-control-allow-origin":"*","date":"Wed, 28 May 2025 08:18:44 GMT","content-length":"110","keep-alive":"timeout=25","x-acs-request-id":"6F0E357D-E456-577B-81C4-828A4EDCA8C7","connection":"keep-alive","content-type":"application/json;charset=utf-8","etag":"1UMrppXEEqLbPjJNSJdMOkw0","access-control-expose-headers":"*","x-acs-trace-id":"f83a02f3db74ef366609336d08152799"},"statusCode":200,"body":{"bizId":"800910648420323971^0","code":"OK","message":"OK","requestId":"6F0E357D-E456-577B-81C4-828A4EDCA8C7"}}
2025-05-28 16:19:10.757 [http-nio-8080-exec-5] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 16:19:10.777 [http-nio-8080-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"18684805496","code":"984053","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-05-28 16:19:10.805 [http-nio-8080-exec-5] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-05-28 16:19:10.913 [http-nio-8080-exec-5] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18684805496(String)
2025-05-28 16:19:10.927 [http-nio-8080-exec-5] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-05-28 16:19:10.933 [http-nio-8080-exec-5] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18684805496, userDO: {"id":8,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-05-28 16:19:11.044 [http-nio-8080-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录/注册], 耗时: 268ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"v8I6gK00oT0Qe542Bovuudo7gg9uhvLAIEwckfunEuyHiFIVU69Ld1x6IaxtpVdtdRnYZrDv9l1eyFgeflGYicMBV6MFXj68CUHOupcTEpNLT1IwSZ7ybKXdITIuQh4r"} =================================== 
2025-05-28 16:19:52.011 [http-nio-8080-exec-2] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 16:19:52.015 [http-nio-8080-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [修改密码], 入参: {"newPassword":"123456"}, 请求类: UserController, 请求方法: updatePassword =================================== 
2025-05-28 16:19:52.135 [http-nio-8080-exec-2] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - ==>  Preparing: update t_user SET `password` = ?, update_time = ? where id = ?
2025-05-28 16:19:52.140 [http-nio-8080-exec-2] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - ==> Parameters: $2a$10$FkKekG9ausgMczDbe5XI.eoBmKav9AaRLVsChV27GjiWBjoxa/Cfe(String), 2025-05-28T16:19:52.097107500(LocalDateTime), null
2025-05-28 16:19:52.146 [http-nio-8080-exec-2] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - <==    Updates: 0
2025-05-28 16:19:52.147 [http-nio-8080-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [修改密码], 耗时: 133ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-05-28 16:21:20.877 [http-nio-8080-exec-6] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 8
2025-05-28 16:21:20.877 [http-nio-8080-exec-6] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8
2025-05-28 16:21:20.878 [http-nio-8080-exec-6] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [修改密码], 入参: {"newPassword":"123456"}, 请求类: UserController, 请求方法: updatePassword =================================== 
2025-05-28 16:21:20.940 [http-nio-8080-exec-6] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - ==>  Preparing: update t_user SET `password` = ?, update_time = ? where id = ?
2025-05-28 16:21:20.941 [http-nio-8080-exec-6] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - ==> Parameters: $2a$10$kGetOw3CSPdW5.M7G7K4M.uJ58P1b3qOrXHJA2IXX4PeU54MiiYqS(String), 2025-05-28T16:21:20.939116400(LocalDateTime), 8(Long)
2025-05-28 16:21:20.953 [http-nio-8080-exec-6] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - <==    Updates: 1
2025-05-28 16:21:20.953 [http-nio-8080-exec-6] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [修改密码], 耗时: 75ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-05-28 16:21:20.954 [http-nio-8080-exec-6] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8
2025-05-28 16:23:09.363 [http-nio-8080-exec-4] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 16:23:09.369 [http-nio-8080-exec-4] INFO  c.q.x.a.service.impl.VerificationCodeServiceImpl - ==> 手机号: 18684805491, 已发送验证码：【024906】
2025-05-28 16:23:09.370 [AuthExecutor-2] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 开始短信发送, phone: 18684805491, signName: 阿里云短信测试, templateCode: SMS_154950909, templateParam: {"code":"024906"}
2025-05-28 16:23:09.676 [AuthExecutor-2] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 短信发送成功, response: {"headers":{"access-control-allow-origin":"*","date":"Wed, 28 May 2025 08:23:09 GMT","content-length":"148","keep-alive":"timeout=25","x-acs-request-id":"9BC57BAF-AF9F-5EE4-B7D1-737C4EB0D074","connection":"keep-alive","content-type":"application/json;charset=utf-8","etag":"1881AP0IclSLQKITHKUv/dA6","access-control-expose-headers":"*","x-acs-trace-id":"30c501c37803c2ea1cb1097d72e7ecbd"},"statusCode":200,"body":{"bizId":null,"code":"isv.SMS_TEST_NUMBER_LIMIT","message":"只能向已回复授权信息的手机号发送","requestId":"9BC57BAF-AF9F-5EE4-B7D1-737C4EB0D074"}}
2025-05-28 16:23:22.730 [http-nio-8080-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 16:23:22.731 [http-nio-8080-exec-8] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"18684805491","code":"024906","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-05-28 16:23:22.734 [http-nio-8080-exec-8] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-05-28 16:23:22.735 [http-nio-8080-exec-8] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18684805491(String)
2025-05-28 16:23:22.735 [http-nio-8080-exec-8] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 0
2025-05-28 16:23:22.749 [http-nio-8080-exec-8] DEBUG c.q.x.auth.domain.mapper.UserDOMapper.insert - ==>  Preparing: insert into t_user (id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-28 16:23:22.812 [http-nio-8080-exec-8] DEBUG c.q.x.auth.domain.mapper.UserDOMapper.insert - ==> Parameters: null, 10012(String), null, 小红薯10012(String), null, null, null, 18684805491(String), null, 0(Integer), null, 2025-05-28T16:23:22.747495100(LocalDateTime), 2025-05-28T16:23:22.747495100(LocalDateTime), false(Boolean)
2025-05-28 16:23:22.814 [http-nio-8080-exec-8] DEBUG c.q.x.auth.domain.mapper.UserDOMapper.insert - <==    Updates: 1
2025-05-28 16:23:22.816 [http-nio-8080-exec-8] DEBUG c.q.x.auth.domain.mapper.UserRoleDOMapper.insert - ==>  Preparing: insert into t_user_role_rel (id, user_id, role_id, create_time, update_time, is_deleted ) values (?, ?, ?, ?, ?, ? )
2025-05-28 16:23:22.817 [http-nio-8080-exec-8] DEBUG c.q.x.auth.domain.mapper.UserRoleDOMapper.insert - ==> Parameters: null, 9(Long), 1(Long), 2025-05-28T16:23:22.816601400(LocalDateTime), 2025-05-28T16:23:22.816601400(LocalDateTime), false(Boolean)
2025-05-28 16:23:22.817 [http-nio-8080-exec-8] DEBUG c.q.x.auth.domain.mapper.UserRoleDOMapper.insert - <==    Updates: 1
2025-05-28 16:23:22.818 [http-nio-8080-exec-8] DEBUG c.q.x.a.d.mapper.RoleDOMapper.selectByPrimaryKey - ==>  Preparing: select id, role_name, role_key, `status`, sort, remark, create_time, update_time, is_deleted from t_role where id = ?
2025-05-28 16:23:22.818 [http-nio-8080-exec-8] DEBUG c.q.x.a.d.mapper.RoleDOMapper.selectByPrimaryKey - ==> Parameters: 1(Long)
2025-05-28 16:23:22.821 [http-nio-8080-exec-8] DEBUG c.q.x.a.d.mapper.RoleDOMapper.selectByPrimaryKey - <==      Total: 1
2025-05-28 16:23:22.828 [http-nio-8080-exec-8] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18684805491, userDO: null
2025-05-28 16:23:22.844 [http-nio-8080-exec-8] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录/注册], 耗时: 113ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"NbO8V6VH4Yfzg0KPLeSoMIQyxZ0k7cJDzRv4twoZJahwnpjdkFxT9x1UxwIJehUX0j7115wgeVsdvbmSq4zXANBCMr43Rp6tpkngpTwX2ZpHceLdsOldCyPnVu5WtP0D"} =================================== 
2025-05-28 16:23:56.631 [http-nio-8080-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 16:23:56.632 [http-nio-8080-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [修改密码], 入参: {"newPassword":"123456"}, 请求类: UserController, 请求方法: updatePassword =================================== 
2025-05-28 16:23:56.783 [http-nio-8080-exec-3] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - ==>  Preparing: update t_user SET `password` = ?, update_time = ? where id = ?
2025-05-28 16:23:56.784 [http-nio-8080-exec-3] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - ==> Parameters: $2a$10$FXR3zmLYRBTrnoMDOcX4beJPPYnOsV9Ry9aQkjiD1vBedRTFqnKZW(String), 2025-05-28T16:23:56.782088500(LocalDateTime), null
2025-05-28 16:23:56.786 [http-nio-8080-exec-3] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - <==    Updates: 0
2025-05-28 16:23:56.786 [http-nio-8080-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [修改密码], 耗时: 154ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-05-28 16:24:31.572 [http-nio-8080-exec-10] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 9
2025-05-28 16:24:31.573 [http-nio-8080-exec-10] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 9
2025-05-28 16:24:31.576 [http-nio-8080-exec-10] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [修改密码], 入参: {"newPassword":"123456"}, 请求类: UserController, 请求方法: updatePassword =================================== 
2025-05-28 16:24:31.746 [http-nio-8080-exec-10] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - ==>  Preparing: update t_user SET `password` = ?, update_time = ? where id = ?
2025-05-28 16:24:31.752 [http-nio-8080-exec-10] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - ==> Parameters: $2a$10$Bg0qpb8tjzCW4dJPqQPkAuyAsScIHACPs/.maqQZbhQ/ZarYvF7H6(String), 2025-05-28T16:24:31.745812900(LocalDateTime), 9(Long)
2025-05-28 16:24:31.778 [http-nio-8080-exec-10] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - <==    Updates: 1
2025-05-28 16:24:31.779 [http-nio-8080-exec-10] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [修改密码], 耗时: 204ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-05-28 16:24:31.782 [http-nio-8080-exec-10] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 9
2025-05-28 16:25:55.122 [http-nio-8080-exec-5] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 16:25:55.125 [http-nio-8080-exec-5] INFO  c.q.x.a.service.impl.VerificationCodeServiceImpl - ==> 手机号: 18684805490, 已发送验证码：【970584】
2025-05-28 16:25:55.125 [AuthExecutor-3] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 开始短信发送, phone: 18684805490, signName: 阿里云短信测试, templateCode: SMS_154950909, templateParam: {"code":"970584"}
2025-05-28 16:25:55.510 [AuthExecutor-3] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 短信发送成功, response: {"headers":{"access-control-allow-origin":"*","date":"Wed, 28 May 2025 08:25:54 GMT","content-length":"148","keep-alive":"timeout=25","x-acs-request-id":"4DA5B81D-A381-51B0-B6EB-F414C1D8E4B7","connection":"keep-alive","content-type":"application/json;charset=utf-8","etag":"12RNvzJiT09vb7izuA8LAyQ6","access-control-expose-headers":"*","x-acs-trace-id":"ff5f30125c9dbb292a412e0c6d54326d"},"statusCode":200,"body":{"bizId":null,"code":"isv.SMS_TEST_NUMBER_LIMIT","message":"只能向已回复授权信息的手机号发送","requestId":"4DA5B81D-A381-51B0-B6EB-F414C1D8E4B7"}}
2025-05-28 16:26:11.600 [http-nio-8080-exec-2] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 16:26:11.601 [http-nio-8080-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"18684805491","code":"970584","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-05-28 16:26:11.607 [http-nio-8080-exec-2] WARN  c.q.x.auth.exception.GlobalExceptionHandler - /user/login request fail, errorCode: AUTH-20001, errorMessage: 验证码错误
2025-05-28 16:26:19.786 [http-nio-8080-exec-9] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 16:26:19.787 [http-nio-8080-exec-9] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"18684805490","code":"970584","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-05-28 16:26:19.789 [http-nio-8080-exec-9] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-05-28 16:26:19.790 [http-nio-8080-exec-9] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18684805490(String)
2025-05-28 16:26:19.790 [http-nio-8080-exec-9] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 0
2025-05-28 16:26:19.796 [http-nio-8080-exec-9] DEBUG c.q.x.auth.domain.mapper.UserDOMapper.insert - ==>  Preparing: insert into t_user (id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-28 16:26:19.797 [http-nio-8080-exec-9] DEBUG c.q.x.auth.domain.mapper.UserDOMapper.insert - ==> Parameters: null, 10013(String), null, 小红薯10013(String), null, null, null, 18684805490(String), null, 0(Integer), null, 2025-05-28T16:26:19.796044400(LocalDateTime), 2025-05-28T16:26:19.796044400(LocalDateTime), false(Boolean)
2025-05-28 16:26:19.798 [http-nio-8080-exec-9] DEBUG c.q.x.auth.domain.mapper.UserDOMapper.insert - <==    Updates: 1
2025-05-28 16:26:19.799 [http-nio-8080-exec-9] DEBUG c.q.x.auth.domain.mapper.UserRoleDOMapper.insert - ==>  Preparing: insert into t_user_role_rel (id, user_id, role_id, create_time, update_time, is_deleted ) values (?, ?, ?, ?, ?, ? )
2025-05-28 16:26:19.799 [http-nio-8080-exec-9] DEBUG c.q.x.auth.domain.mapper.UserRoleDOMapper.insert - ==> Parameters: null, 10(Long), 1(Long), 2025-05-28T16:26:19.798787200(LocalDateTime), 2025-05-28T16:26:19.798787200(LocalDateTime), false(Boolean)
2025-05-28 16:26:19.801 [http-nio-8080-exec-9] DEBUG c.q.x.auth.domain.mapper.UserRoleDOMapper.insert - <==    Updates: 1
2025-05-28 16:26:19.801 [http-nio-8080-exec-9] DEBUG c.q.x.a.d.mapper.RoleDOMapper.selectByPrimaryKey - ==>  Preparing: select id, role_name, role_key, `status`, sort, remark, create_time, update_time, is_deleted from t_role where id = ?
2025-05-28 16:26:19.801 [http-nio-8080-exec-9] DEBUG c.q.x.a.d.mapper.RoleDOMapper.selectByPrimaryKey - ==> Parameters: 1(Long)
2025-05-28 16:26:19.802 [http-nio-8080-exec-9] DEBUG c.q.x.a.d.mapper.RoleDOMapper.selectByPrimaryKey - <==      Total: 1
2025-05-28 16:26:19.807 [http-nio-8080-exec-9] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18684805490, userDO: null
2025-05-28 16:26:19.824 [http-nio-8080-exec-9] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录/注册], 耗时: 38ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"wz5zb9M1Ip0S4ktpr2UEYbj4tN2uQ1vRpnawmGLpTQEZhtOaiqeskpWbE2oFcEDM14sUMFB7993vPm30kz8OqJHh5ABWEARtGzNVEgNDeUuEFDXzrUerLa1Rx7Mg7CYi"} =================================== 
2025-05-28 16:26:47.941 [http-nio-8080-exec-6] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 16:26:47.942 [http-nio-8080-exec-6] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [修改密码], 入参: {"newPassword":"123456"}, 请求类: UserController, 请求方法: updatePassword =================================== 
2025-05-28 16:26:48.002 [http-nio-8080-exec-6] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - ==>  Preparing: update t_user SET `password` = ?, update_time = ? where id = ?
2025-05-28 16:26:48.002 [http-nio-8080-exec-6] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - ==> Parameters: $2a$10$OXZma9DG2fW5IZnck.Ldg.89lnB0MjRRzsnBJCXn2iIl3F2GEVwV6(String), 2025-05-28T16:26:48.001384200(LocalDateTime), null
2025-05-28 16:26:48.003 [http-nio-8080-exec-6] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - <==    Updates: 0
2025-05-28 16:26:48.003 [http-nio-8080-exec-6] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [修改密码], 耗时: 62ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-05-28 16:37:33.446 [http-nio-8080-exec-4] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 10
2025-05-28 16:37:33.447 [http-nio-8080-exec-4] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 10
2025-05-28 16:37:33.448 [http-nio-8080-exec-4] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [修改密码], 入参: {"newPassword":"123456"}, 请求类: UserController, 请求方法: updatePassword =================================== 
2025-05-28 16:37:33.511 [http-nio-8080-exec-4] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - ==>  Preparing: update t_user SET `password` = ?, update_time = ? where id = ?
2025-05-28 16:37:33.511 [http-nio-8080-exec-4] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - ==> Parameters: $2a$10$5waLoRvSOVCajBOWKPOpi.D4g3rrHL30vgepskMkSia6CxhCNsd12(String), 2025-05-28T16:37:33.510253900(LocalDateTime), 10(Long)
2025-05-28 16:37:33.518 [http-nio-8080-exec-4] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - <==    Updates: 1
2025-05-28 16:37:33.518 [http-nio-8080-exec-4] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [修改密码], 耗时: 70ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-05-28 16:37:33.519 [http-nio-8080-exec-4] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 10
2025-05-28 16:38:10.759 [http-nio-8080-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 10
2025-05-28 16:38:10.759 [http-nio-8080-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 10
2025-05-28 16:38:10.778 [http-nio-8080-exec-8] INFO  c.q.x.a.service.impl.VerificationCodeServiceImpl - ==> 手机号: 18684805499, 已发送验证码：【953621】
2025-05-28 16:38:10.778 [AuthExecutor-4] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 开始短信发送, phone: 18684805499, signName: 阿里云短信测试, templateCode: SMS_154950909, templateParam: {"code":"953621"}
2025-05-28 16:38:10.780 [http-nio-8080-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 10
2025-05-28 16:38:11.153 [AuthExecutor-4] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 短信发送成功, response: {"headers":{"access-control-allow-origin":"*","date":"Wed, 28 May 2025 08:38:10 GMT","content-length":"148","keep-alive":"timeout=25","x-acs-request-id":"64B3CEE5-84B5-5924-9698-C506BA141CBE","connection":"keep-alive","content-type":"application/json;charset=utf-8","etag":"1kVa3xuD1ZI+I0qX+lHy1PQ6","access-control-expose-headers":"*","x-acs-trace-id":"3ae8a86bf415aecc353c2136dd2c3a73"},"statusCode":200,"body":{"bizId":null,"code":"isv.SMS_TEST_NUMBER_LIMIT","message":"只能向已回复授权信息的手机号发送","requestId":"64B3CEE5-84B5-5924-9698-C506BA141CBE"}}
2025-05-28 16:38:56.054 [http-nio-8080-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 10
2025-05-28 16:38:56.054 [http-nio-8080-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 10
2025-05-28 16:38:56.055 [http-nio-8080-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"18684805499","code":"953621","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-05-28 16:38:56.059 [http-nio-8080-exec-3] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-05-28 16:38:56.060 [http-nio-8080-exec-3] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18684805499(String)
2025-05-28 16:38:56.061 [http-nio-8080-exec-3] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-05-28 16:38:56.062 [http-nio-8080-exec-3] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18684805499, userDO: {"id":1,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-05-28 16:38:56.082 [http-nio-8080-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录/注册], 耗时: 27ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"nBQ3YgRhDouZAJFeIFSxqyxhe0khMCzcqbfjMRuEHwEsenR6n4D7tkWMkT0PTyvNcrB1hNjhvjbNVVkuJtlhsc6xhGE55OeoIePul7arY3CSqoIGBqtBMOg9TVpli7dJ"} =================================== 
2025-05-28 16:38:56.082 [http-nio-8080-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 10
2025-05-28 16:40:16.293 [http-nio-8080-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 10
2025-05-28 16:40:16.293 [http-nio-8080-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 10
2025-05-28 16:40:16.294 [http-nio-8080-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [修改密码], 入参: {"newPassword":"123456"}, 请求类: UserController, 请求方法: updatePassword =================================== 
2025-05-28 16:40:16.360 [http-nio-8080-exec-1] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - ==>  Preparing: update t_user SET `password` = ?, update_time = ? where id = ?
2025-05-28 16:40:16.360 [http-nio-8080-exec-1] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - ==> Parameters: $2a$10$bz3GKo.WqCeK92dAwAUVku5y4I5N0OyJojbBJYyEu1lCAyMqQagd2(String), 2025-05-28T16:40:16.359927900(LocalDateTime), 10(Long)
2025-05-28 16:40:16.366 [http-nio-8080-exec-1] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - <==    Updates: 1
2025-05-28 16:40:16.366 [http-nio-8080-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [修改密码], 耗时: 72ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-05-28 16:40:16.367 [http-nio-8080-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 10
2025-05-28 16:41:28.113 [http-nio-8080-exec-2] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 10
2025-05-28 16:41:28.113 [http-nio-8080-exec-2] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 10
2025-05-28 16:41:28.114 [http-nio-8080-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [修改密码], 入参: {"newPassword":"123456"}, 请求类: UserController, 请求方法: updatePassword =================================== 
2025-05-28 16:41:28.185 [http-nio-8080-exec-2] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - ==>  Preparing: update t_user SET `password` = ?, update_time = ? where id = ?
2025-05-28 16:41:28.186 [http-nio-8080-exec-2] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - ==> Parameters: $2a$10$nfl.87aeD9CAkfS.XiwbsOdJpg6O6oGc6fG37oP9rz2JNC.YtibBu(String), 2025-05-28T16:41:28.185061200(LocalDateTime), 10(Long)
2025-05-28 16:41:28.194 [http-nio-8080-exec-2] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - <==    Updates: 1
2025-05-28 16:41:28.194 [http-nio-8080-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [修改密码], 耗时: 80ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-05-28 16:41:28.195 [http-nio-8080-exec-2] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 10
2025-05-28 16:41:57.303 [http-nio-8080-exec-9] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 16:41:57.306 [http-nio-8080-exec-9] INFO  c.q.x.a.service.impl.VerificationCodeServiceImpl - ==> 手机号: 18684805410, 已发送验证码：【418936】
2025-05-28 16:41:57.307 [AuthExecutor-5] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 开始短信发送, phone: 18684805410, signName: 阿里云短信测试, templateCode: SMS_154950909, templateParam: {"code":"418936"}
2025-05-28 16:41:57.633 [AuthExecutor-5] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 短信发送成功, response: {"headers":{"access-control-allow-origin":"*","date":"Wed, 28 May 2025 08:41:57 GMT","content-length":"148","keep-alive":"timeout=25","x-acs-request-id":"D07F9C34-E2A4-5FB3-B45F-B0135AF2EA51","connection":"keep-alive","content-type":"application/json;charset=utf-8","etag":"13iql5GwKF+5W0M8EyTeITQ6","access-control-expose-headers":"*","x-acs-trace-id":"6173f5b39673f7a96603bfeeadba87c2"},"statusCode":200,"body":{"bizId":null,"code":"isv.SMS_TEST_NUMBER_LIMIT","message":"只能向已回复授权信息的手机号发送","requestId":"D07F9C34-E2A4-5FB3-B45F-B0135AF2EA51"}}
2025-05-28 16:42:31.484 [http-nio-8080-exec-6] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 10
2025-05-28 16:42:31.485 [http-nio-8080-exec-6] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 10
2025-05-28 16:42:31.485 [http-nio-8080-exec-6] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"18684805410","code":"418936","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-05-28 16:42:31.488 [http-nio-8080-exec-6] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-05-28 16:42:31.488 [http-nio-8080-exec-6] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18684805410(String)
2025-05-28 16:42:31.488 [http-nio-8080-exec-6] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 0
2025-05-28 16:42:31.492 [http-nio-8080-exec-6] DEBUG c.q.x.auth.domain.mapper.UserDOMapper.insert - ==>  Preparing: insert into t_user (id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-28 16:42:31.493 [http-nio-8080-exec-6] DEBUG c.q.x.auth.domain.mapper.UserDOMapper.insert - ==> Parameters: null, 10014(String), null, 小红薯10014(String), null, null, null, 18684805410(String), null, 0(Integer), null, 2025-05-28T16:42:31.492277300(LocalDateTime), 2025-05-28T16:42:31.492277300(LocalDateTime), false(Boolean)
2025-05-28 16:42:31.494 [http-nio-8080-exec-6] DEBUG c.q.x.auth.domain.mapper.UserDOMapper.insert - <==    Updates: 1
2025-05-28 16:42:31.494 [http-nio-8080-exec-6] DEBUG c.q.x.auth.domain.mapper.UserRoleDOMapper.insert - ==>  Preparing: insert into t_user_role_rel (id, user_id, role_id, create_time, update_time, is_deleted ) values (?, ?, ?, ?, ?, ? )
2025-05-28 16:42:31.495 [http-nio-8080-exec-6] DEBUG c.q.x.auth.domain.mapper.UserRoleDOMapper.insert - ==> Parameters: null, 11(Long), 1(Long), 2025-05-28T16:42:31.494644(LocalDateTime), 2025-05-28T16:42:31.494644(LocalDateTime), false(Boolean)
2025-05-28 16:42:31.496 [http-nio-8080-exec-6] DEBUG c.q.x.auth.domain.mapper.UserRoleDOMapper.insert - <==    Updates: 1
2025-05-28 16:42:31.496 [http-nio-8080-exec-6] DEBUG c.q.x.a.d.mapper.RoleDOMapper.selectByPrimaryKey - ==>  Preparing: select id, role_name, role_key, `status`, sort, remark, create_time, update_time, is_deleted from t_role where id = ?
2025-05-28 16:42:31.496 [http-nio-8080-exec-6] DEBUG c.q.x.a.d.mapper.RoleDOMapper.selectByPrimaryKey - ==> Parameters: 1(Long)
2025-05-28 16:42:31.497 [http-nio-8080-exec-6] DEBUG c.q.x.a.d.mapper.RoleDOMapper.selectByPrimaryKey - <==      Total: 1
2025-05-28 16:42:31.505 [http-nio-8080-exec-6] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18684805410, userDO: null
2025-05-28 16:42:31.529 [http-nio-8080-exec-6] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录/注册], 耗时: 44ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"US2le1eBmx25EIpgOwCF7bRovBhmIYrtfUtnFL82GoJBfca1hdxGt4kSXgAEIsymdCxhWzRJHwbD5nj3OYniOxQMQl0nNR3L9xlUl5c2pbjKw6PCYfPYBz7epalcaFGr"} =================================== 
2025-05-28 16:42:31.529 [http-nio-8080-exec-6] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 10
2025-05-28 16:44:30.993 [http-nio-8080-exec-4] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 16:44:30.999 [http-nio-8080-exec-4] INFO  c.q.x.a.service.impl.VerificationCodeServiceImpl - ==> 手机号: 18684805400, 已发送验证码：【082290】
2025-05-28 16:44:30.999 [AuthExecutor-6] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 开始短信发送, phone: 18684805400, signName: 阿里云短信测试, templateCode: SMS_154950909, templateParam: {"code":"082290"}
2025-05-28 16:44:31.357 [AuthExecutor-6] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 短信发送成功, response: {"headers":{"access-control-allow-origin":"*","date":"Wed, 28 May 2025 08:44:30 GMT","content-length":"148","keep-alive":"timeout=25","x-acs-request-id":"8F573F1B-8AAC-55CC-BC31-9BE81AB1F5C1","connection":"keep-alive","content-type":"application/json;charset=utf-8","etag":"1ErSpflMe0+pz/ewfGq1RYA6","access-control-expose-headers":"*","x-acs-trace-id":"e08e64b3b47e0281740fc7d73dfb07ef"},"statusCode":200,"body":{"bizId":null,"code":"isv.SMS_TEST_NUMBER_LIMIT","message":"只能向已回复授权信息的手机号发送","requestId":"8F573F1B-8AAC-55CC-BC31-9BE81AB1F5C1"}}
2025-05-28 16:44:59.518 [http-nio-8080-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 16:44:59.521 [http-nio-8080-exec-8] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"18684805400","code":"082290","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-05-28 16:44:59.526 [http-nio-8080-exec-8] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-05-28 16:44:59.527 [http-nio-8080-exec-8] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18684805400(String)
2025-05-28 16:44:59.528 [http-nio-8080-exec-8] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 0
2025-05-28 16:44:59.537 [http-nio-8080-exec-8] DEBUG c.q.x.auth.domain.mapper.UserDOMapper.insert - ==>  Preparing: insert into t_user (id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-28 16:44:59.537 [http-nio-8080-exec-8] DEBUG c.q.x.auth.domain.mapper.UserDOMapper.insert - ==> Parameters: null, 10015(String), null, 小红薯10015(String), null, null, null, 18684805400(String), null, 0(Integer), null, 2025-05-28T16:44:59.537132900(LocalDateTime), 2025-05-28T16:44:59.537132900(LocalDateTime), false(Boolean)
2025-05-28 16:44:59.539 [http-nio-8080-exec-8] DEBUG c.q.x.auth.domain.mapper.UserDOMapper.insert - <==    Updates: 1
2025-05-28 16:44:59.539 [http-nio-8080-exec-8] DEBUG c.q.x.auth.domain.mapper.UserRoleDOMapper.insert - ==>  Preparing: insert into t_user_role_rel (id, user_id, role_id, create_time, update_time, is_deleted ) values (?, ?, ?, ?, ?, ? )
2025-05-28 16:44:59.540 [http-nio-8080-exec-8] DEBUG c.q.x.auth.domain.mapper.UserRoleDOMapper.insert - ==> Parameters: null, 12(Long), 1(Long), 2025-05-28T16:44:59.539648200(LocalDateTime), 2025-05-28T16:44:59.539648200(LocalDateTime), false(Boolean)
2025-05-28 16:44:59.540 [http-nio-8080-exec-8] DEBUG c.q.x.auth.domain.mapper.UserRoleDOMapper.insert - <==    Updates: 1
2025-05-28 16:44:59.540 [http-nio-8080-exec-8] DEBUG c.q.x.a.d.mapper.RoleDOMapper.selectByPrimaryKey - ==>  Preparing: select id, role_name, role_key, `status`, sort, remark, create_time, update_time, is_deleted from t_role where id = ?
2025-05-28 16:44:59.541 [http-nio-8080-exec-8] DEBUG c.q.x.a.d.mapper.RoleDOMapper.selectByPrimaryKey - ==> Parameters: 1(Long)
2025-05-28 16:44:59.542 [http-nio-8080-exec-8] DEBUG c.q.x.a.d.mapper.RoleDOMapper.selectByPrimaryKey - <==      Total: 1
2025-05-28 16:44:59.549 [http-nio-8080-exec-8] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18684805400, userDO: null
2025-05-28 16:44:59.571 [http-nio-8080-exec-8] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录/注册], 耗时: 49ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"9cVNj7X3EOCKcYLKSznbQ6jkngldwaItVYP3LncQNUFakswV8ziJlktTcyhTQXyfbrf73QTK2SaCZm4dU3N7EQIPzqajPXdGrFDlBknoa0YsYYaKk3YuUtsfp9iMA1ya"} =================================== 
2025-05-28 16:45:51.845 [http-nio-8080-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 16:45:51.847 [http-nio-8080-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [修改密码], 入参: {"newPassword":"123456"}, 请求类: UserController, 请求方法: updatePassword =================================== 
2025-05-28 16:45:51.931 [http-nio-8080-exec-3] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - ==>  Preparing: update t_user SET `password` = ?, update_time = ? where id = ?
2025-05-28 16:45:51.931 [http-nio-8080-exec-3] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - ==> Parameters: $2a$10$8pq.u3eOmUKwaQymldqtVuC3pP60HA5kSSrTGikpIpZPPGMLytcZS(String), 2025-05-28T16:45:51.930205800(LocalDateTime), null
2025-05-28 16:45:51.932 [http-nio-8080-exec-3] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - <==    Updates: 0
2025-05-28 16:45:51.932 [http-nio-8080-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [修改密码], 耗时: 86ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-05-28 16:46:49.539 [http-nio-8080-exec-10] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 16:46:49.540 [http-nio-8080-exec-10] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [修改密码], 入参: {"newPassword":"123456"}, 请求类: UserController, 请求方法: updatePassword =================================== 
2025-05-28 16:46:49.609 [http-nio-8080-exec-10] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - ==>  Preparing: update t_user SET `password` = ?, update_time = ? where id = ?
2025-05-28 16:46:49.610 [http-nio-8080-exec-10] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - ==> Parameters: $2a$10$jGAEJCjtSJ95hJvtIo0LsOfiN105zFk5fEoG7tCcoEPZgTY6Vb5SS(String), 2025-05-28T16:46:49.608216500(LocalDateTime), null
2025-05-28 16:46:49.611 [http-nio-8080-exec-10] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - <==    Updates: 0
2025-05-28 16:46:49.611 [http-nio-8080-exec-10] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [修改密码], 耗时: 71ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-05-28 16:47:42.403 [http-nio-8080-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 16:47:42.404 [http-nio-8080-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [修改密码], 入参: {"newPassword":"123456"}, 请求类: UserController, 请求方法: updatePassword =================================== 
2025-05-28 16:47:42.524 [http-nio-8080-exec-1] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - ==>  Preparing: update t_user SET `password` = ?, update_time = ? where id = ?
2025-05-28 16:47:42.525 [http-nio-8080-exec-1] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - ==> Parameters: $2a$10$q2TNcV5vqcj4assKMsFYTe/rokKEKF4Q.Iyik0fQKDFQtgjt10Wt.(String), 2025-05-28T16:47:42.524729(LocalDateTime), null
2025-05-28 16:47:42.526 [http-nio-8080-exec-1] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - <==    Updates: 0
2025-05-28 16:47:42.526 [http-nio-8080-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [修改密码], 耗时: 122ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-05-28 16:47:51.783 [http-nio-8080-exec-5] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 16:47:51.784 [http-nio-8080-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"18684805400","code":"082290","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-05-28 16:47:51.789 [http-nio-8080-exec-5] WARN  c.q.x.auth.exception.GlobalExceptionHandler - /user/login request fail, errorCode: AUTH-20001, errorMessage: 验证码错误
2025-05-28 16:48:26.428 [http-nio-8080-exec-2] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 16:48:26.432 [http-nio-8080-exec-2] INFO  c.q.x.a.service.impl.VerificationCodeServiceImpl - ==> 手机号: 18684805411, 已发送验证码：【969602】
2025-05-28 16:48:26.432 [AuthExecutor-7] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 开始短信发送, phone: 18684805411, signName: 阿里云短信测试, templateCode: SMS_154950909, templateParam: {"code":"969602"}
2025-05-28 16:48:26.808 [AuthExecutor-7] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 短信发送成功, response: {"headers":{"access-control-allow-origin":"*","date":"Wed, 28 May 2025 08:48:26 GMT","content-length":"148","keep-alive":"timeout=25","x-acs-request-id":"D05A0B3D-DE0C-50D4-BF90-A6886BE44418","connection":"keep-alive","content-type":"application/json;charset=utf-8","etag":"1A0OUDJdw/bPS8tSfTh2n0Q6","access-control-expose-headers":"*","x-acs-trace-id":"bd49d71f02f7543b8dbc07afe79422e8"},"statusCode":200,"body":{"bizId":null,"code":"isv.SMS_TEST_NUMBER_LIMIT","message":"只能向已回复授权信息的手机号发送","requestId":"D05A0B3D-DE0C-50D4-BF90-A6886BE44418"}}
2025-05-28 16:49:14.958 [http-nio-8080-exec-9] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 16:49:14.959 [http-nio-8080-exec-9] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"18684805411","code":"969602","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-05-28 16:49:14.962 [http-nio-8080-exec-9] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-05-28 16:49:14.962 [http-nio-8080-exec-9] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18684805411(String)
2025-05-28 16:49:14.962 [http-nio-8080-exec-9] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 0
2025-05-28 16:49:14.965 [http-nio-8080-exec-9] DEBUG c.q.x.auth.domain.mapper.UserDOMapper.insert - ==>  Preparing: insert into t_user (id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-28 16:49:14.966 [http-nio-8080-exec-9] DEBUG c.q.x.auth.domain.mapper.UserDOMapper.insert - ==> Parameters: null, 10016(String), null, 小红薯10016(String), null, null, null, 18684805411(String), null, 0(Integer), null, 2025-05-28T16:49:14.965881(LocalDateTime), 2025-05-28T16:49:14.965881(LocalDateTime), false(Boolean)
2025-05-28 16:49:14.969 [http-nio-8080-exec-9] DEBUG c.q.x.auth.domain.mapper.UserDOMapper.insert - <==    Updates: 1
2025-05-28 16:49:14.970 [http-nio-8080-exec-9] DEBUG c.q.x.auth.domain.mapper.UserRoleDOMapper.insert - ==>  Preparing: insert into t_user_role_rel (id, user_id, role_id, create_time, update_time, is_deleted ) values (?, ?, ?, ?, ?, ? )
2025-05-28 16:49:14.970 [http-nio-8080-exec-9] DEBUG c.q.x.auth.domain.mapper.UserRoleDOMapper.insert - ==> Parameters: null, 13(Long), 1(Long), 2025-05-28T16:49:14.970243600(LocalDateTime), 2025-05-28T16:49:14.970243600(LocalDateTime), false(Boolean)
2025-05-28 16:49:14.972 [http-nio-8080-exec-9] DEBUG c.q.x.auth.domain.mapper.UserRoleDOMapper.insert - <==    Updates: 1
2025-05-28 16:49:14.972 [http-nio-8080-exec-9] DEBUG c.q.x.a.d.mapper.RoleDOMapper.selectByPrimaryKey - ==>  Preparing: select id, role_name, role_key, `status`, sort, remark, create_time, update_time, is_deleted from t_role where id = ?
2025-05-28 16:49:14.972 [http-nio-8080-exec-9] DEBUG c.q.x.a.d.mapper.RoleDOMapper.selectByPrimaryKey - ==> Parameters: 1(Long)
2025-05-28 16:49:14.973 [http-nio-8080-exec-9] DEBUG c.q.x.a.d.mapper.RoleDOMapper.selectByPrimaryKey - <==      Total: 1
2025-05-28 16:49:14.979 [http-nio-8080-exec-9] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18684805411, userDO: null
2025-05-28 16:49:15.010 [http-nio-8080-exec-9] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录/注册], 耗时: 51ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"QJtNWQyhvasoCKF7yQromI2LFMk9t9y21SL58SiKmu6Qq7GPlmFqO4lUdOuFZF0fB20n3FSCB30sedWBcK0XSGPEXcjvbp7naPKi0pafvFRuZaBOD2lWWn38YGnQDV0P"} =================================== 
2025-05-28 16:50:30.515 [http-nio-8080-exec-7] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 16:50:30.517 [http-nio-8080-exec-7] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [修改密码], 入参: {"newPassword":"123456"}, 请求类: UserController, 请求方法: updatePassword =================================== 
2025-05-28 16:50:30.609 [http-nio-8080-exec-7] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - ==>  Preparing: update t_user SET `password` = ?, update_time = ? where id = ?
2025-05-28 16:50:30.610 [http-nio-8080-exec-7] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - ==> Parameters: $2a$10$YUM1mDjDFoOvjTqB/PPT3.MwmNi87aCxGdYgyWQDMlNQlDLmUbx3q(String), 2025-05-28T16:50:30.608917600(LocalDateTime), null
2025-05-28 16:50:30.611 [http-nio-8080-exec-7] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - <==    Updates: 0
2025-05-28 16:50:30.611 [http-nio-8080-exec-7] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [修改密码], 耗时: 94ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-05-28 16:53:02.553 [http-nio-8080-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 13
2025-05-28 16:53:02.553 [http-nio-8080-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 13
2025-05-28 16:53:02.554 [http-nio-8080-exec-8] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [修改密码], 入参: {"newPassword":"123456"}, 请求类: UserController, 请求方法: updatePassword =================================== 
2025-05-28 16:53:02.663 [http-nio-8080-exec-8] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - ==>  Preparing: update t_user SET `password` = ?, update_time = ? where id = ?
2025-05-28 16:53:02.664 [http-nio-8080-exec-8] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - ==> Parameters: $2a$10$E8KFro9qZhUJlCbNXXT5Le.6kYZZuZs4FLlMq/RpzU.vt0licNXb2(String), 2025-05-28T16:53:02.662364200(LocalDateTime), 13(Long)
2025-05-28 16:53:02.676 [http-nio-8080-exec-8] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - <==    Updates: 1
2025-05-28 16:53:02.676 [http-nio-8080-exec-8] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [修改密码], 耗时: 122ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-05-28 16:53:02.677 [http-nio-8080-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 13
2025-05-28 16:55:15.124 [http-nio-8080-exec-10] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 16:55:15.131 [http-nio-8080-exec-10] INFO  c.q.x.a.service.impl.VerificationCodeServiceImpl - ==> 手机号: 18684805412, 已发送验证码：【155831】
2025-05-28 16:55:15.131 [AuthExecutor-8] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 开始短信发送, phone: 18684805412, signName: 阿里云短信测试, templateCode: SMS_154950909, templateParam: {"code":"155831"}
2025-05-28 16:55:15.548 [AuthExecutor-8] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 短信发送成功, response: {"headers":{"access-control-allow-origin":"*","date":"Wed, 28 May 2025 08:55:14 GMT","content-length":"148","keep-alive":"timeout=25","x-acs-request-id":"3200D7EA-A6CA-597A-8430-B64A06354364","connection":"keep-alive","content-type":"application/json;charset=utf-8","etag":"1EXSstkj0xBGxUmqLAk5Erg6","access-control-expose-headers":"*","x-acs-trace-id":"f9d5176a2c0a0b5caba445909754a630"},"statusCode":200,"body":{"bizId":null,"code":"isv.SMS_TEST_NUMBER_LIMIT","message":"只能向已回复授权信息的手机号发送","requestId":"3200D7EA-A6CA-597A-8430-B64A06354364"}}
2025-05-28 16:55:44.625 [http-nio-8080-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 16:55:44.627 [http-nio-8080-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"18684805412","code":"155831","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-05-28 16:55:44.631 [http-nio-8080-exec-1] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-05-28 16:55:44.632 [http-nio-8080-exec-1] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18684805412(String)
2025-05-28 16:55:44.633 [http-nio-8080-exec-1] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 0
2025-05-28 16:55:44.638 [http-nio-8080-exec-1] DEBUG c.q.x.auth.domain.mapper.UserDOMapper.insert - ==>  Preparing: insert into t_user (id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-28 16:55:44.638 [http-nio-8080-exec-1] DEBUG c.q.x.auth.domain.mapper.UserDOMapper.insert - ==> Parameters: null, 10017(String), null, 小红薯10017(String), null, null, null, 18684805412(String), null, 0(Integer), null, 2025-05-28T16:55:44.638194600(LocalDateTime), 2025-05-28T16:55:44.638194600(LocalDateTime), false(Boolean)
2025-05-28 16:55:44.639 [http-nio-8080-exec-1] DEBUG c.q.x.auth.domain.mapper.UserDOMapper.insert - <==    Updates: 1
2025-05-28 16:55:44.640 [http-nio-8080-exec-1] DEBUG c.q.x.auth.domain.mapper.UserRoleDOMapper.insert - ==>  Preparing: insert into t_user_role_rel (id, user_id, role_id, create_time, update_time, is_deleted ) values (?, ?, ?, ?, ?, ? )
2025-05-28 16:55:44.640 [http-nio-8080-exec-1] DEBUG c.q.x.auth.domain.mapper.UserRoleDOMapper.insert - ==> Parameters: null, 14(Long), 1(Long), 2025-05-28T16:55:44.640477300(LocalDateTime), 2025-05-28T16:55:44.640477300(LocalDateTime), false(Boolean)
2025-05-28 16:55:44.642 [http-nio-8080-exec-1] DEBUG c.q.x.auth.domain.mapper.UserRoleDOMapper.insert - <==    Updates: 1
2025-05-28 16:55:44.642 [http-nio-8080-exec-1] DEBUG c.q.x.a.d.mapper.RoleDOMapper.selectByPrimaryKey - ==>  Preparing: select id, role_name, role_key, `status`, sort, remark, create_time, update_time, is_deleted from t_role where id = ?
2025-05-28 16:55:44.642 [http-nio-8080-exec-1] DEBUG c.q.x.a.d.mapper.RoleDOMapper.selectByPrimaryKey - ==> Parameters: 1(Long)
2025-05-28 16:55:44.643 [http-nio-8080-exec-1] DEBUG c.q.x.a.d.mapper.RoleDOMapper.selectByPrimaryKey - <==      Total: 1
2025-05-28 16:55:44.649 [http-nio-8080-exec-1] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18684805412, userDO: null
2025-05-28 16:55:44.669 [http-nio-8080-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录/注册], 耗时: 42ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"OKIo0fsY3jQP34vF1JGwYQTeyp0z7cFzWQuuv9Vo0Mpa46mHDwOjFQ3HZoGPlDmo04KGChmmV8qbxP7n4bzj5HndpSJ5r6JTubKdRN3B7Qkjc3rHLhv5cMJJ0zDnyued"} =================================== 
2025-05-28 16:56:24.807 [http-nio-8080-exec-5] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 16:56:24.808 [http-nio-8080-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [修改密码], 入参: {"newPassword":"123456"}, 请求类: UserController, 请求方法: updatePassword =================================== 
2025-05-28 16:56:24.882 [http-nio-8080-exec-5] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - ==>  Preparing: update t_user SET `password` = ?, update_time = ? where id = ?
2025-05-28 16:56:24.882 [http-nio-8080-exec-5] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - ==> Parameters: $2a$10$xz/RcZPUsmhdr28t2Ss6N.o3oeDNTmzNXKmc1lGZRDWq/JwxoX.Dy(String), 2025-05-28T16:56:24.882987300(LocalDateTime), null
2025-05-28 16:56:24.884 [http-nio-8080-exec-5] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - <==    Updates: 0
2025-05-28 16:56:24.884 [http-nio-8080-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [修改密码], 耗时: 77ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-05-28 16:59:09.816 [http-nio-8080-exec-9] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 16:59:09.820 [http-nio-8080-exec-9] INFO  c.q.x.a.service.impl.VerificationCodeServiceImpl - ==> 手机号: 18684805300, 已发送验证码：【132008】
2025-05-28 16:59:09.820 [AuthExecutor-9] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 开始短信发送, phone: 18684805300, signName: 阿里云短信测试, templateCode: SMS_154950909, templateParam: {"code":"132008"}
2025-05-28 16:59:10.178 [AuthExecutor-9] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 短信发送成功, response: {"headers":{"access-control-allow-origin":"*","date":"Wed, 28 May 2025 08:59:09 GMT","content-length":"148","keep-alive":"timeout=25","x-acs-request-id":"27673F7D-B426-58A6-B8EA-6A460BDD59CC","connection":"keep-alive","content-type":"application/json;charset=utf-8","etag":"1LUOY9WTHA5pVOQxvNZq9sA6","access-control-expose-headers":"*","x-acs-trace-id":"c2622eaa9c5ffd96ac31ad19ed853bc7"},"statusCode":200,"body":{"bizId":null,"code":"isv.SMS_TEST_NUMBER_LIMIT","message":"只能向已回复授权信息的手机号发送","requestId":"27673F7D-B426-58A6-B8EA-6A460BDD59CC"}}
2025-05-28 16:59:43.833 [http-nio-8080-exec-6] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 16:59:43.835 [http-nio-8080-exec-6] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"18684805300","code":"132008","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-05-28 16:59:43.838 [http-nio-8080-exec-6] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-05-28 16:59:43.838 [http-nio-8080-exec-6] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18684805300(String)
2025-05-28 16:59:43.839 [http-nio-8080-exec-6] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 0
2025-05-28 16:59:43.841 [http-nio-8080-exec-6] DEBUG c.q.x.auth.domain.mapper.UserDOMapper.insert - ==>  Preparing: insert into t_user (id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-28 16:59:43.842 [http-nio-8080-exec-6] DEBUG c.q.x.auth.domain.mapper.UserDOMapper.insert - ==> Parameters: null, 10018(String), null, 小红薯10018(String), null, null, null, 18684805300(String), null, 0(Integer), null, 2025-05-28T16:59:43.841950200(LocalDateTime), 2025-05-28T16:59:43.841950200(LocalDateTime), false(Boolean)
2025-05-28 16:59:43.843 [http-nio-8080-exec-6] DEBUG c.q.x.auth.domain.mapper.UserDOMapper.insert - <==    Updates: 1
2025-05-28 16:59:43.843 [http-nio-8080-exec-6] DEBUG c.q.x.auth.domain.mapper.UserRoleDOMapper.insert - ==>  Preparing: insert into t_user_role_rel (id, user_id, role_id, create_time, update_time, is_deleted ) values (?, ?, ?, ?, ?, ? )
2025-05-28 16:59:43.844 [http-nio-8080-exec-6] DEBUG c.q.x.auth.domain.mapper.UserRoleDOMapper.insert - ==> Parameters: null, 15(Long), 1(Long), 2025-05-28T16:59:43.843770900(LocalDateTime), 2025-05-28T16:59:43.843770900(LocalDateTime), false(Boolean)
2025-05-28 16:59:43.844 [http-nio-8080-exec-6] DEBUG c.q.x.auth.domain.mapper.UserRoleDOMapper.insert - <==    Updates: 1
2025-05-28 16:59:43.844 [http-nio-8080-exec-6] DEBUG c.q.x.a.d.mapper.RoleDOMapper.selectByPrimaryKey - ==>  Preparing: select id, role_name, role_key, `status`, sort, remark, create_time, update_time, is_deleted from t_role where id = ?
2025-05-28 16:59:43.845 [http-nio-8080-exec-6] DEBUG c.q.x.a.d.mapper.RoleDOMapper.selectByPrimaryKey - ==> Parameters: 1(Long)
2025-05-28 16:59:43.847 [http-nio-8080-exec-6] DEBUG c.q.x.a.d.mapper.RoleDOMapper.selectByPrimaryKey - <==      Total: 1
2025-05-28 16:59:43.855 [http-nio-8080-exec-6] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18684805300, userDO: null
2025-05-28 16:59:43.871 [http-nio-8080-exec-6] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录/注册], 耗时: 36ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"IGrnnhmPnAOrx329yiIkHlZjJMilMxGdbDGPWqVdQNE6qjLhlV7WUygyeLaYE6RwGtdZZBsl0NtJ6mlSWiZkfUEatW9I6p20bSH9mMOpZMX76xfF1scgnspHnTf9OtJ7"} =================================== 
2025-05-28 17:01:19.918 [http-nio-8080-exec-4] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 17:01:19.919 [http-nio-8080-exec-4] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"18684805300","code":"132008","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-05-28 17:01:19.923 [http-nio-8080-exec-4] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-05-28 17:01:19.923 [http-nio-8080-exec-4] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18684805300(String)
2025-05-28 17:01:19.924 [http-nio-8080-exec-4] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-05-28 17:01:19.924 [http-nio-8080-exec-4] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18684805300, userDO: {"id":15,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-05-28 17:01:19.947 [http-nio-8080-exec-4] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录/注册], 耗时: 28ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"IGrnnhmPnAOrx329yiIkHlZjJMilMxGdbDGPWqVdQNE6qjLhlV7WUygyeLaYE6RwGtdZZBsl0NtJ6mlSWiZkfUEatW9I6p20bSH9mMOpZMX76xfF1scgnspHnTf9OtJ7"} =================================== 
2025-05-28 17:02:51.422 [http-nio-8080-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 17:02:51.425 [http-nio-8080-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"18684805300","code":"132008","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-05-28 17:02:51.431 [http-nio-8080-exec-3] WARN  c.q.x.auth.exception.GlobalExceptionHandler - /user/login request fail, errorCode: AUTH-20001, errorMessage: 验证码错误
2025-05-28 17:03:04.032 [http-nio-8080-exec-10] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 17:03:04.037 [http-nio-8080-exec-10] INFO  c.q.x.a.service.impl.VerificationCodeServiceImpl - ==> 手机号: 18684805301, 已发送验证码：【012284】
2025-05-28 17:03:04.037 [AuthExecutor-10] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 开始短信发送, phone: 18684805301, signName: 阿里云短信测试, templateCode: SMS_154950909, templateParam: {"code":"012284"}
2025-05-28 17:03:04.394 [AuthExecutor-10] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 短信发送成功, response: {"headers":{"access-control-allow-origin":"*","date":"Wed, 28 May 2025 09:03:03 GMT","content-length":"148","keep-alive":"timeout=25","x-acs-request-id":"75C8C2C7-FCB5-5262-B4B0-9CF810B9DEDE","connection":"keep-alive","content-type":"application/json;charset=utf-8","etag":"1lhFGK3ORkBMtzo3SKw5YrQ6","access-control-expose-headers":"*","x-acs-trace-id":"58ca1bccd7f117c00be71a8552b4dd45"},"statusCode":200,"body":{"bizId":null,"code":"isv.SMS_TEST_NUMBER_LIMIT","message":"只能向已回复授权信息的手机号发送","requestId":"75C8C2C7-FCB5-5262-B4B0-9CF810B9DEDE"}}
2025-05-28 17:03:54.654 [http-nio-8080-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 17:03:54.655 [http-nio-8080-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"18684805300","code":"012284","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-05-28 17:03:54.659 [http-nio-8080-exec-1] WARN  c.q.x.auth.exception.GlobalExceptionHandler - /user/login request fail, errorCode: AUTH-20001, errorMessage: 验证码错误
2025-05-28 17:04:19.541 [http-nio-8080-exec-5] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 17:04:19.542 [http-nio-8080-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"18684805301","code":"012284","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-05-28 17:04:19.547 [http-nio-8080-exec-5] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-05-28 17:04:19.548 [http-nio-8080-exec-5] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18684805301(String)
2025-05-28 17:04:19.548 [http-nio-8080-exec-5] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 0
2025-05-28 17:04:19.552 [http-nio-8080-exec-5] DEBUG c.q.x.auth.domain.mapper.UserDOMapper.insert - ==>  Preparing: insert into t_user (id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-28 17:04:19.553 [http-nio-8080-exec-5] DEBUG c.q.x.auth.domain.mapper.UserDOMapper.insert - ==> Parameters: null, 10019(String), null, 小红薯10019(String), null, null, null, 18684805301(String), null, 0(Integer), null, 2025-05-28T17:04:19.552701500(LocalDateTime), 2025-05-28T17:04:19.552701500(LocalDateTime), false(Boolean)
2025-05-28 17:04:19.555 [http-nio-8080-exec-5] DEBUG c.q.x.auth.domain.mapper.UserDOMapper.insert - <==    Updates: 1
2025-05-28 17:04:19.555 [http-nio-8080-exec-5] DEBUG c.q.x.auth.domain.mapper.UserRoleDOMapper.insert - ==>  Preparing: insert into t_user_role_rel (id, user_id, role_id, create_time, update_time, is_deleted ) values (?, ?, ?, ?, ?, ? )
2025-05-28 17:04:19.556 [http-nio-8080-exec-5] DEBUG c.q.x.auth.domain.mapper.UserRoleDOMapper.insert - ==> Parameters: null, 16(Long), 1(Long), 2025-05-28T17:04:19.555110600(LocalDateTime), 2025-05-28T17:04:19.555110600(LocalDateTime), false(Boolean)
2025-05-28 17:04:19.557 [http-nio-8080-exec-5] DEBUG c.q.x.auth.domain.mapper.UserRoleDOMapper.insert - <==    Updates: 1
2025-05-28 17:04:19.557 [http-nio-8080-exec-5] DEBUG c.q.x.a.d.mapper.RoleDOMapper.selectByPrimaryKey - ==>  Preparing: select id, role_name, role_key, `status`, sort, remark, create_time, update_time, is_deleted from t_role where id = ?
2025-05-28 17:04:19.557 [http-nio-8080-exec-5] DEBUG c.q.x.a.d.mapper.RoleDOMapper.selectByPrimaryKey - ==> Parameters: 1(Long)
2025-05-28 17:04:19.559 [http-nio-8080-exec-5] DEBUG c.q.x.a.d.mapper.RoleDOMapper.selectByPrimaryKey - <==      Total: 1
2025-05-28 17:04:19.566 [http-nio-8080-exec-5] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18684805301, userDO: null
2025-05-28 17:04:19.583 [http-nio-8080-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录/注册], 耗时: 41ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"q2veV9G7O3mdFAJWMAGIpaTTjlPvqdAqebIB8rCoLiOK6E3GBYVBDDbQaPFAGZU3lCeaHFjl4S5yX22mCyDTobbR1a9YrXgpPtlppyzxyZwnDbV4naLjd4Ym3Hrmc8X2"} =================================== 
2025-05-28 17:04:30.063 [http-nio-8080-exec-2] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 17:04:30.066 [http-nio-8080-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"18684805301","code":"012284","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-05-28 17:04:30.070 [http-nio-8080-exec-2] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-05-28 17:04:30.070 [http-nio-8080-exec-2] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18684805301(String)
2025-05-28 17:04:30.071 [http-nio-8080-exec-2] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-05-28 17:04:30.072 [http-nio-8080-exec-2] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18684805301, userDO: {"id":16,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-05-28 17:04:30.208 [http-nio-8080-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录/注册], 耗时: 143ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"q2veV9G7O3mdFAJWMAGIpaTTjlPvqdAqebIB8rCoLiOK6E3GBYVBDDbQaPFAGZU3lCeaHFjl4S5yX22mCyDTobbR1a9YrXgpPtlppyzxyZwnDbV4naLjd4Ym3Hrmc8X2"} =================================== 
2025-05-28 17:04:59.757 [http-nio-8080-exec-9] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 17:04:59.759 [http-nio-8080-exec-9] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"18684805301","code":"012284","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-05-28 17:04:59.762 [http-nio-8080-exec-9] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-05-28 17:04:59.762 [http-nio-8080-exec-9] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18684805301(String)
2025-05-28 17:04:59.763 [http-nio-8080-exec-9] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-05-28 17:04:59.763 [http-nio-8080-exec-9] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18684805301, userDO: {"id":16,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-05-28 17:04:59.783 [http-nio-8080-exec-9] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录/注册], 耗时: 25ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"q2veV9G7O3mdFAJWMAGIpaTTjlPvqdAqebIB8rCoLiOK6E3GBYVBDDbQaPFAGZU3lCeaHFjl4S5yX22mCyDTobbR1a9YrXgpPtlppyzxyZwnDbV4naLjd4Ym3Hrmc8X2"} =================================== 
2025-05-28 17:05:05.351 [http-nio-8080-exec-6] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 17:05:05.352 [http-nio-8080-exec-6] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"18684805301","code":"012284","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-05-28 17:05:05.354 [http-nio-8080-exec-6] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-05-28 17:05:05.355 [http-nio-8080-exec-6] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18684805301(String)
2025-05-28 17:05:05.356 [http-nio-8080-exec-6] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-05-28 17:05:05.356 [http-nio-8080-exec-6] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18684805301, userDO: {"id":16,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-05-28 17:05:05.380 [http-nio-8080-exec-6] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录/注册], 耗时: 28ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"q2veV9G7O3mdFAJWMAGIpaTTjlPvqdAqebIB8rCoLiOK6E3GBYVBDDbQaPFAGZU3lCeaHFjl4S5yX22mCyDTobbR1a9YrXgpPtlppyzxyZwnDbV4naLjd4Ym3Hrmc8X2"} =================================== 
2025-05-28 17:06:42.285 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-05-28 17:06:42.285 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-05-28 17:06:42.285 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-05-28 17:06:42.286 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-05-28 17:06:42.322 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-05-28 17:06:42.322 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-auth with instance: Instance{instanceId='null', ip='192.168.10.1', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-05-28 17:06:42.325 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-05-28 17:06:42.325 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-05-28 17:06:42.325 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-05-28 17:06:42.325 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-05-28 17:06:42.325 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-05-28 17:06:42.325 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-05-28 17:06:42.325 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-05-28 17:06:42.325 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-05-28 17:06:42.325 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-05-28 17:06:42.325 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-28 17:06:42.325 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-28 17:06:42.325 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-05-28 17:06:42.325 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-05-28 17:06:42.325 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-28 17:06:42.325 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-28 17:06:42.325 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-05-28 17:06:42.325 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-05-28 17:06:42.325 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@6b36136d[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-05-28 17:06:42.325 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1748420193208_127.0.0.1_55344
2025-05-28 17:06:42.327 [nacos-grpc-client-executor-127.0.0.1-620] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1748420193208_127.0.0.1_55344]Ignore complete event,isRunning:false,isAbandon=false
2025-05-28 17:06:42.328 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@14d90094[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 621]
2025-05-28 17:06:42.328 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@4390c8c9[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 1000]
2025-05-28 17:06:42.328 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-05-28 17:06:42.328 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-05-28 17:06:42.328 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-05-28 17:06:42.329 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-05-28 17:06:42.332 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-05-28 17:06:46.002 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 17:06:46.039 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 17:06:46.186 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 17:06:46.187 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-05-28 17:06:46.187 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-05-28 17:06:46.188 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-05-28 17:06:46.206 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-28 17:06:46.206 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-28 17:06:46.207 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-05-28 17:06:46.456 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 17:06:46.469 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\29567\nacos\config
2025-05-28 17:06:46.471 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 2b505c9a-c39b-48d9-8712-b4cdbb9fd68f_config-0
2025-05-28 17:06:46.481 [main] INFO  com.alibaba.nacos.common.remote.client - [2b505c9a-c39b-48d9-8712-b4cdbb9fd68f_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$589/0x0000023e01392150
2025-05-28 17:06:46.481 [main] INFO  com.alibaba.nacos.common.remote.client - [2b505c9a-c39b-48d9-8712-b4cdbb9fd68f_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$590/0x0000023e01392570
2025-05-28 17:06:46.481 [main] INFO  com.alibaba.nacos.common.remote.client - [2b505c9a-c39b-48d9-8712-b4cdbb9fd68f_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2025-05-28 17:06:46.482 [main] INFO  com.alibaba.nacos.common.remote.client - [2b505c9a-c39b-48d9-8712-b4cdbb9fd68f_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2025-05-28 17:06:46.490 [main] INFO  com.alibaba.nacos.common.remote.client - [2b505c9a-c39b-48d9-8712-b4cdbb9fd68f_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-28 17:06:46.513 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-28 17:06:47.165 [main] INFO  com.alibaba.nacos.common.remote.client - [2b505c9a-c39b-48d9-8712-b4cdbb9fd68f_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1748423207004_127.0.0.1_55956
2025-05-28 17:06:47.169 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [2b505c9a-c39b-48d9-8712-b4cdbb9fd68f_config-0] Notify connected event to listeners.
2025-05-28 17:06:47.169 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [2b505c9a-c39b-48d9-8712-b4cdbb9fd68f_config-0] Connected,notify listen context...
2025-05-28 17:06:47.170 [main] INFO  com.alibaba.nacos.common.remote.client - [2b505c9a-c39b-48d9-8712-b4cdbb9fd68f_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-28 17:06:47.172 [main] INFO  com.alibaba.nacos.common.remote.client - [2b505c9a-c39b-48d9-8712-b4cdbb9fd68f_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$610/0x0000023e014d8890
2025-05-28 17:06:47.223 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2025-05-28 17:06:47.231 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2025-05-28 17:06:47.239 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-auth.yaml] & group[DEFAULT_GROUP]
2025-05-28 17:06:47.242 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth,DEFAULT_GROUP'}]
2025-05-28 17:06:47.258 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 17:06:47.258 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - The following 1 profile is active: "dev"
2025-05-28 17:06:47.734 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-28 17:06:47.735 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-28 17:06:47.753 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-05-28 17:06:47.854 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=49ee6574-566c-344b-9f1b-815738182ca5
2025-05-28 17:06:48.212 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-05-28 17:06:48.219 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-05-28 17:06:48.219 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-05-28 17:06:48.272 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-28 17:06:48.272 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1004 ms
2025-05-28 17:06:48.566 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-05-28 17:06:48.809 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-05-28 17:06:49.881 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-05-28 17:06:49.883 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-05-28 17:06:49.884 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-05-28 17:06:49.884 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-05-28 17:06:49.889 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-28 17:06:49.889 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-28 17:06:49.892 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of fdf43054-3396-4b7f-a85a-1fa209ad984f
2025-05-28 17:06:49.893 [main] INFO  com.alibaba.nacos.common.remote.client - [fdf43054-3396-4b7f-a85a-1fa209ad984f] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-05-28 17:06:49.893 [main] INFO  com.alibaba.nacos.common.remote.client - [fdf43054-3396-4b7f-a85a-1fa209ad984f] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-05-28 17:06:49.893 [main] INFO  com.alibaba.nacos.common.remote.client - [fdf43054-3396-4b7f-a85a-1fa209ad984f] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-05-28 17:06:49.893 [main] INFO  com.alibaba.nacos.common.remote.client - [fdf43054-3396-4b7f-a85a-1fa209ad984f] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-28 17:06:49.893 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-28 17:06:50.012 [main] INFO  com.alibaba.nacos.common.remote.client - [fdf43054-3396-4b7f-a85a-1fa209ad984f] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1748423209898_127.0.0.1_55971
2025-05-28 17:06:50.012 [main] INFO  com.alibaba.nacos.common.remote.client - [fdf43054-3396-4b7f-a85a-1fa209ad984f] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-28 17:06:50.013 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [fdf43054-3396-4b7f-a85a-1fa209ad984f] Notify connected event to listeners.
2025-05-28 17:06:50.013 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-05-28 17:06:50.013 [main] INFO  com.alibaba.nacos.common.remote.client - [fdf43054-3396-4b7f-a85a-1fa209ad984f] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$610/0x0000023e014d8890
2025-05-28 17:06:50.016 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-auth with instance Instance{instanceId='null', ip='192.168.10.1', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-05-28 17:06:50.038 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-auth 192.168.10.1:8080 register finished
2025-05-28 17:06:50.205 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - Started XiaohashuAuthApplication in 4.699 seconds (process running for 5.054)
2025-05-28 17:06:50.206 [main] INFO  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2025-05-28 17:06:50.502 [main] WARN  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 角色权限数据已经同步至 Redis 中，不再同步...
2025-05-28 17:06:50.504 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-05-28 17:06:50.505 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth.yaml+DEFAULT_GROUP+xiaohashu
2025-05-28 17:06:50.509 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP, cnt=1
2025-05-28 17:06:50.509 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP
2025-05-28 17:06:50.510 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth-dev.yaml+DEFAULT_GROUP+xiaohashu
2025-05-28 17:06:50.510 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP, cnt=1
2025-05-28 17:06:50.510 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP
2025-05-28 17:06:50.511 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth+DEFAULT_GROUP+xiaohashu
2025-05-28 17:06:50.511 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth, group=DEFAULT_GROUP, cnt=1
2025-05-28 17:06:50.511 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth, group=DEFAULT_GROUP
2025-05-28 17:06:56.434 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-28 17:06:56.434 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-28 17:06:56.436 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-05-28 17:06:56.446 [http-nio-8080-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 17:06:56.601 [http-nio-8080-exec-1] INFO  c.q.x.a.service.impl.VerificationCodeServiceImpl - ==> 手机号: 18684805301, 已发送验证码：【269725】
2025-05-28 17:06:56.602 [AuthExecutor-1] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 开始短信发送, phone: 18684805301, signName: 阿里云短信测试, templateCode: SMS_154950909, templateParam: {"code":"269725"}
2025-05-28 17:06:57.351 [AuthExecutor-1] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 短信发送成功, response: {"headers":{"access-control-allow-origin":"*","date":"Wed, 28 May 2025 09:06:56 GMT","content-length":"148","keep-alive":"timeout=25","x-acs-request-id":"94901882-7A59-59C7-87FD-1CF2F2247827","connection":"keep-alive","content-type":"application/json;charset=utf-8","etag":"1LbPOb92v1gKuADdEVkeZiw6","access-control-expose-headers":"*","x-acs-trace-id":"cc1c3ce059b18d601d1aad1cf2fec10f"},"statusCode":200,"body":{"bizId":null,"code":"isv.SMS_TEST_NUMBER_LIMIT","message":"只能向已回复授权信息的手机号发送","requestId":"94901882-7A59-59C7-87FD-1CF2F2247827"}}
2025-05-28 17:07:22.958 [http-nio-8080-exec-2] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 17:07:22.984 [http-nio-8080-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"18684805301","code":"269725","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-05-28 17:07:23.014 [http-nio-8080-exec-2] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-05-28 17:07:23.133 [http-nio-8080-exec-2] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18684805301(String)
2025-05-28 17:07:23.145 [http-nio-8080-exec-2] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-05-28 17:07:23.149 [http-nio-8080-exec-2] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18684805301, userDO: {"id":16,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-05-28 17:07:23.149 [http-nio-8080-exec-2] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - userId为16
2025-05-28 17:07:23.210 [http-nio-8080-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录/注册], 耗时: 229ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"q2veV9G7O3mdFAJWMAGIpaTTjlPvqdAqebIB8rCoLiOK6E3GBYVBDDbQaPFAGZU3lCeaHFjl4S5yX22mCyDTobbR1a9YrXgpPtlppyzxyZwnDbV4naLjd4Ym3Hrmc8X2"} =================================== 
2025-05-28 17:12:41.742 [http-nio-8080-exec-6] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 17:12:41.748 [http-nio-8080-exec-6] INFO  c.q.x.a.service.impl.VerificationCodeServiceImpl - ==> 手机号: 18684805301, 已发送验证码：【701565】
2025-05-28 17:12:41.749 [AuthExecutor-2] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 开始短信发送, phone: 18684805301, signName: 阿里云短信测试, templateCode: SMS_154950909, templateParam: {"code":"701565"}
2025-05-28 17:12:42.151 [AuthExecutor-2] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 短信发送成功, response: {"headers":{"access-control-allow-origin":"*","date":"Wed, 28 May 2025 09:12:41 GMT","content-length":"148","keep-alive":"timeout=25","x-acs-request-id":"747C3891-00C3-571B-B25B-3E34AA0E82AB","connection":"keep-alive","content-type":"application/json;charset=utf-8","etag":"1wACMhNf+FoYXIdJavbI17w6","access-control-expose-headers":"*","x-acs-trace-id":"8b84499f2b60ca204dec93f0862b2ac0"},"statusCode":200,"body":{"bizId":null,"code":"isv.SMS_TEST_NUMBER_LIMIT","message":"只能向已回复授权信息的手机号发送","requestId":"747C3891-00C3-571B-B25B-3E34AA0E82AB"}}
2025-05-28 17:12:56.292 [http-nio-8080-exec-7] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 17:12:56.294 [http-nio-8080-exec-7] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"18684805301","code":"701565","password":null,"type":1}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-05-28 17:12:56.299 [http-nio-8080-exec-7] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-05-28 17:12:56.299 [http-nio-8080-exec-7] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18684805301(String)
2025-05-28 17:12:56.300 [http-nio-8080-exec-7] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-05-28 17:12:56.301 [http-nio-8080-exec-7] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18684805301, userDO: {"id":16,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-05-28 17:12:56.301 [http-nio-8080-exec-7] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - userId为16
2025-05-28 17:12:56.324 [http-nio-8080-exec-7] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录/注册], 耗时: 30ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"q2veV9G7O3mdFAJWMAGIpaTTjlPvqdAqebIB8rCoLiOK6E3GBYVBDDbQaPFAGZU3lCeaHFjl4S5yX22mCyDTobbR1a9YrXgpPtlppyzxyZwnDbV4naLjd4Ym3Hrmc8X2"} =================================== 
2025-05-28 17:13:17.511 [http-nio-8080-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 17:13:17.515 [http-nio-8080-exec-8] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [修改密码], 入参: {"newPassword":"123456"}, 请求类: UserController, 请求方法: updatePassword =================================== 
2025-05-28 17:13:17.630 [http-nio-8080-exec-8] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - ==>  Preparing: update t_user SET `password` = ?, update_time = ? where id = ?
2025-05-28 17:13:17.635 [http-nio-8080-exec-8] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - ==> Parameters: $2a$10$x2krKVzJZtaz56TMi6V3EO0EiuVmgtmPdRJBWSn8z5uEN3tmBGUG.(String), 2025-05-28T17:13:17.610460900(LocalDateTime), null
2025-05-28 17:13:17.638 [http-nio-8080-exec-8] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - <==    Updates: 0
2025-05-28 17:13:17.638 [http-nio-8080-exec-8] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [修改密码], 耗时: 123ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-05-28 17:13:46.823 [http-nio-8080-exec-4] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 16
2025-05-28 17:13:46.823 [http-nio-8080-exec-4] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 16
2025-05-28 17:13:46.824 [http-nio-8080-exec-4] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [修改密码], 入参: {"newPassword":"123456"}, 请求类: UserController, 请求方法: updatePassword =================================== 
2025-05-28 17:13:46.896 [http-nio-8080-exec-4] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - ==>  Preparing: update t_user SET `password` = ?, update_time = ? where id = ?
2025-05-28 17:13:46.897 [http-nio-8080-exec-4] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - ==> Parameters: $2a$10$DUJT3.4rsA3gZX8GKhtAE.UTkS24J6A3LZRnlCIHnkNln.dIQsL06(String), 2025-05-28T17:13:46.895568100(LocalDateTime), 16(Long)
2025-05-28 17:13:46.903 [http-nio-8080-exec-4] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - <==    Updates: 1
2025-05-28 17:13:46.903 [http-nio-8080-exec-4] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [修改密码], 耗时: 79ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-05-28 17:13:46.904 [http-nio-8080-exec-4] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 16
2025-05-28 17:15:33.941 [http-nio-8080-exec-5] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 16
2025-05-28 17:15:33.941 [http-nio-8080-exec-5] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 16
2025-05-28 17:15:33.942 [http-nio-8080-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [修改密码], 入参: {"newPassword":"123457"}, 请求类: UserController, 请求方法: updatePassword =================================== 
2025-05-28 17:15:34.019 [http-nio-8080-exec-5] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - ==>  Preparing: update t_user SET `password` = ?, update_time = ? where id = ?
2025-05-28 17:15:34.019 [http-nio-8080-exec-5] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - ==> Parameters: $2a$10$cDpHMIVsPmnluMit.9usz.KX/6cNiGEFw4C.gSP8VgASS8YmYGTom(String), 2025-05-28T17:15:34.018542900(LocalDateTime), 16(Long)
2025-05-28 17:15:34.028 [http-nio-8080-exec-5] DEBUG c.q.x.a.d.m.U.updateByPrimaryKeySelective - <==    Updates: 1
2025-05-28 17:15:34.029 [http-nio-8080-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [修改密码], 耗时: 86ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-05-28 17:15:34.030 [http-nio-8080-exec-5] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 16
2025-05-28 17:16:45.127 [http-nio-8080-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: 16
2025-05-28 17:16:45.128 [http-nio-8080-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 16
2025-05-28 17:16:45.128 [http-nio-8080-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [账号登出], 入参: , 请求类: UserController, 请求方法: logout =================================== 
2025-05-28 17:16:45.145 [http-nio-8080-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [账号登出], 耗时: 17ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-05-28 17:16:45.146 [http-nio-8080-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 16
2025-05-28 17:23:09.686 [http-nio-8080-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 17:23:09.689 [http-nio-8080-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"18684805496","code":"123456","password":null,"type":2}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-05-28 17:23:09.690 [http-nio-8080-exec-3] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - userId为0
2025-05-28 17:23:09.731 [http-nio-8080-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录/注册], 耗时: 41ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"EYHccQpNZDhOf9P24gW9oXUbx3AI8XGToFOyiKtPm8yhMqzS5MFRXmXultf2cRkdX3jXFhiDP3qtKgvauudlgLMZBUo6dUImwrFIV6kmGSxwfT6Tgc8Usnjzal3JpLVt"} =================================== 
2025-05-28 17:23:18.058 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-05-28 17:23:18.058 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-05-28 17:23:18.062 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-05-28 17:23:18.063 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-05-28 17:23:18.116 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-05-28 17:23:18.116 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-auth with instance: Instance{instanceId='null', ip='192.168.10.1', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-05-28 17:23:18.124 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-05-28 17:23:18.125 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-05-28 17:23:18.125 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-05-28 17:23:18.126 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-05-28 17:23:18.126 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-05-28 17:23:18.126 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-05-28 17:23:18.126 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-05-28 17:23:18.127 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-05-28 17:23:18.127 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-05-28 17:23:18.127 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-28 17:23:18.127 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-28 17:23:18.127 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-05-28 17:23:18.127 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-05-28 17:23:18.127 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-28 17:23:18.127 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-28 17:23:18.127 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-05-28 17:23:18.127 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-05-28 17:23:18.127 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@5f14ed5c[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-05-28 17:23:18.128 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1748423209898_127.0.0.1_55971
2025-05-28 17:23:18.131 [nacos-grpc-client-executor-127.0.0.1-212] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1748423209898_127.0.0.1_55971]Ignore complete event,isRunning:false,isAbandon=false
2025-05-28 17:23:18.131 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@3b475fcd[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 213]
2025-05-28 17:23:18.131 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@252dbaba[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 328]
2025-05-28 17:23:18.131 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-05-28 17:23:18.131 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-05-28 17:23:18.131 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-05-28 17:23:18.131 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-05-28 17:23:18.142 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-05-28 17:23:21.999 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 17:23:22.038 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 17:23:22.178 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 17:23:22.179 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-05-28 17:23:22.179 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-05-28 17:23:22.180 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-05-28 17:23:22.195 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-28 17:23:22.195 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-28 17:23:22.197 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-05-28 17:23:22.460 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 17:23:22.468 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\29567\nacos\config
2025-05-28 17:23:22.471 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 52d32b71-9924-4f01-aca7-274418222f18_config-0
2025-05-28 17:23:22.483 [main] INFO  com.alibaba.nacos.common.remote.client - [52d32b71-9924-4f01-aca7-274418222f18_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$589/0x000002a443391ee8
2025-05-28 17:23:22.484 [main] INFO  com.alibaba.nacos.common.remote.client - [52d32b71-9924-4f01-aca7-274418222f18_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$590/0x000002a443392308
2025-05-28 17:23:22.484 [main] INFO  com.alibaba.nacos.common.remote.client - [52d32b71-9924-4f01-aca7-274418222f18_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2025-05-28 17:23:22.484 [main] INFO  com.alibaba.nacos.common.remote.client - [52d32b71-9924-4f01-aca7-274418222f18_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2025-05-28 17:23:22.488 [main] INFO  com.alibaba.nacos.common.remote.client - [52d32b71-9924-4f01-aca7-274418222f18_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-28 17:23:22.518 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-28 17:23:23.133 [main] INFO  com.alibaba.nacos.common.remote.client - [52d32b71-9924-4f01-aca7-274418222f18_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1748424202971_127.0.0.1_56231
2025-05-28 17:23:23.133 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [52d32b71-9924-4f01-aca7-274418222f18_config-0] Notify connected event to listeners.
2025-05-28 17:23:23.133 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [52d32b71-9924-4f01-aca7-274418222f18_config-0] Connected,notify listen context...
2025-05-28 17:23:23.133 [main] INFO  com.alibaba.nacos.common.remote.client - [52d32b71-9924-4f01-aca7-274418222f18_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-28 17:23:23.134 [main] INFO  com.alibaba.nacos.common.remote.client - [52d32b71-9924-4f01-aca7-274418222f18_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$610/0x000002a4434da2d8
2025-05-28 17:23:23.158 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2025-05-28 17:23:23.168 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2025-05-28 17:23:23.177 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-auth.yaml] & group[DEFAULT_GROUP]
2025-05-28 17:23:23.184 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth,DEFAULT_GROUP'}]
2025-05-28 17:23:23.200 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 17:23:23.201 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - The following 1 profile is active: "dev"
2025-05-28 17:23:23.698 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-28 17:23:23.700 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-28 17:23:23.718 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2025-05-28 17:23:23.840 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=49ee6574-566c-344b-9f1b-815738182ca5
2025-05-28 17:23:24.242 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-05-28 17:23:24.249 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-05-28 17:23:24.249 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-05-28 17:23:24.298 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-28 17:23:24.298 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1087 ms
2025-05-28 17:23:24.528 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-05-28 17:23:24.734 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-05-28 17:23:25.812 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-05-28 17:23:25.815 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-05-28 17:23:25.815 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-05-28 17:23:25.815 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-05-28 17:23:25.820 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-28 17:23:25.820 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-28 17:23:25.822 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 46649672-3aac-4a7b-bbdc-922098c2b720
2025-05-28 17:23:25.823 [main] INFO  com.alibaba.nacos.common.remote.client - [46649672-3aac-4a7b-bbdc-922098c2b720] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-05-28 17:23:25.823 [main] INFO  com.alibaba.nacos.common.remote.client - [46649672-3aac-4a7b-bbdc-922098c2b720] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-05-28 17:23:25.824 [main] INFO  com.alibaba.nacos.common.remote.client - [46649672-3aac-4a7b-bbdc-922098c2b720] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-05-28 17:23:25.824 [main] INFO  com.alibaba.nacos.common.remote.client - [46649672-3aac-4a7b-bbdc-922098c2b720] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-28 17:23:25.824 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-28 17:23:25.933 [main] INFO  com.alibaba.nacos.common.remote.client - [46649672-3aac-4a7b-bbdc-922098c2b720] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1748424205828_127.0.0.1_56246
2025-05-28 17:23:25.933 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [46649672-3aac-4a7b-bbdc-922098c2b720] Notify connected event to listeners.
2025-05-28 17:23:25.933 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-05-28 17:23:25.933 [main] INFO  com.alibaba.nacos.common.remote.client - [46649672-3aac-4a7b-bbdc-922098c2b720] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-28 17:23:25.933 [main] INFO  com.alibaba.nacos.common.remote.client - [46649672-3aac-4a7b-bbdc-922098c2b720] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$610/0x000002a4434da2d8
2025-05-28 17:23:25.934 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-auth with instance Instance{instanceId='null', ip='192.168.10.1', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-05-28 17:23:25.945 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-auth 192.168.10.1:8080 register finished
2025-05-28 17:23:26.128 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - Started XiaohashuAuthApplication in 4.601 seconds (process running for 4.96)
2025-05-28 17:23:26.129 [main] INFO  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2025-05-28 17:23:26.418 [main] WARN  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 角色权限数据已经同步至 Redis 中，不再同步...
2025-05-28 17:23:26.420 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-05-28 17:23:26.420 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth.yaml+DEFAULT_GROUP+xiaohashu
2025-05-28 17:23:26.424 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP, cnt=1
2025-05-28 17:23:26.424 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP
2025-05-28 17:23:26.425 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth-dev.yaml+DEFAULT_GROUP+xiaohashu
2025-05-28 17:23:26.425 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP, cnt=1
2025-05-28 17:23:26.425 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP
2025-05-28 17:23:26.426 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth+DEFAULT_GROUP+xiaohashu
2025-05-28 17:23:26.426 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth, group=DEFAULT_GROUP, cnt=1
2025-05-28 17:23:26.426 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth, group=DEFAULT_GROUP
2025-05-28 17:23:41.432 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-28 17:23:41.432 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-28 17:23:41.433 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-05-28 17:23:41.436 [http-nio-8080-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 17:23:41.492 [http-nio-8080-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"18684805496","code":"123456","password":null,"type":2}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-05-28 17:23:41.509 [http-nio-8080-exec-1] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-05-28 17:23:41.619 [http-nio-8080-exec-1] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18684805496(String)
2025-05-28 17:23:41.633 [http-nio-8080-exec-1] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-05-28 17:23:41.637 [http-nio-8080-exec-1] WARN  c.q.x.auth.exception.GlobalExceptionHandler - /user/login request error, errorCode: AUTH-10001, errorMessage: rawPassword cannot be null
2025-05-28 17:25:33.690 [http-nio-8080-exec-2] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 17:25:33.707 [http-nio-8080-exec-2] WARN  c.q.x.auth.exception.GlobalExceptionHandler - /user/login request error, errorCode: AUTH-10001, errorMessage: code 验证码不能为空, 当前值: 'null'; 
2025-05-28 17:28:06.499 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-05-28 17:28:06.499 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-05-28 17:28:06.499 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-05-28 17:28:06.500 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-05-28 17:28:06.520 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-05-28 17:28:06.520 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-auth with instance: Instance{instanceId='null', ip='192.168.10.1', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-05-28 17:28:06.523 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-05-28 17:28:06.524 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-05-28 17:28:06.524 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-05-28 17:28:06.524 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-05-28 17:28:06.524 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-05-28 17:28:06.524 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-05-28 17:28:06.524 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-05-28 17:28:06.524 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-05-28 17:28:06.524 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-05-28 17:28:06.524 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-28 17:28:06.524 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-28 17:28:06.524 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-05-28 17:28:06.524 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-05-28 17:28:06.524 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-28 17:28:06.524 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-28 17:28:06.524 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-05-28 17:28:06.524 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-05-28 17:28:06.524 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@fcbfbdf[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-05-28 17:28:06.525 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1748424205828_127.0.0.1_56246
2025-05-28 17:28:06.526 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@4bcf2986[Running, pool size = 3, active threads = 0, queued tasks = 0, completed tasks = 74]
2025-05-28 17:28:06.526 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@25db5a55[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 93]
2025-05-28 17:28:06.526 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-05-28 17:28:06.526 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-05-28 17:28:06.526 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-05-28 17:28:06.527 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-05-28 17:28:06.537 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-05-28 17:28:09.769 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 17:28:09.809 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 17:28:09.966 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 17:28:09.967 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-05-28 17:28:09.967 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-05-28 17:28:09.968 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-05-28 17:28:09.986 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-28 17:28:09.986 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-28 17:28:09.988 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-05-28 17:28:10.250 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 17:28:10.259 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\29567\nacos\config
2025-05-28 17:28:10.265 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 35d48dbc-bdda-4c83-9fa1-9728fc54e82b_config-0
2025-05-28 17:28:10.275 [main] INFO  com.alibaba.nacos.common.remote.client - [35d48dbc-bdda-4c83-9fa1-9728fc54e82b_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$589/0x0000014c013923b8
2025-05-28 17:28:10.275 [main] INFO  com.alibaba.nacos.common.remote.client - [35d48dbc-bdda-4c83-9fa1-9728fc54e82b_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$590/0x0000014c013927d8
2025-05-28 17:28:10.275 [main] INFO  com.alibaba.nacos.common.remote.client - [35d48dbc-bdda-4c83-9fa1-9728fc54e82b_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2025-05-28 17:28:10.275 [main] INFO  com.alibaba.nacos.common.remote.client - [35d48dbc-bdda-4c83-9fa1-9728fc54e82b_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2025-05-28 17:28:10.280 [main] INFO  com.alibaba.nacos.common.remote.client - [35d48dbc-bdda-4c83-9fa1-9728fc54e82b_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-28 17:28:10.307 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-28 17:28:10.979 [main] INFO  com.alibaba.nacos.common.remote.client - [35d48dbc-bdda-4c83-9fa1-9728fc54e82b_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1748424490813_127.0.0.1_56332
2025-05-28 17:28:10.979 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [35d48dbc-bdda-4c83-9fa1-9728fc54e82b_config-0] Notify connected event to listeners.
2025-05-28 17:28:10.979 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [35d48dbc-bdda-4c83-9fa1-9728fc54e82b_config-0] Connected,notify listen context...
2025-05-28 17:28:10.979 [main] INFO  com.alibaba.nacos.common.remote.client - [35d48dbc-bdda-4c83-9fa1-9728fc54e82b_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-28 17:28:10.979 [main] INFO  com.alibaba.nacos.common.remote.client - [35d48dbc-bdda-4c83-9fa1-9728fc54e82b_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$610/0x0000014c014dac38
2025-05-28 17:28:11.004 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2025-05-28 17:28:11.014 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2025-05-28 17:28:11.021 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-auth.yaml] & group[DEFAULT_GROUP]
2025-05-28 17:28:11.025 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth,DEFAULT_GROUP'}]
2025-05-28 17:28:11.041 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 17:28:11.041 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - The following 1 profile is active: "dev"
2025-05-28 17:28:11.469 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-28 17:28:11.471 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-28 17:28:11.489 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-05-28 17:28:11.583 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=49ee6574-566c-344b-9f1b-815738182ca5
2025-05-28 17:28:11.924 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-05-28 17:28:11.931 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-05-28 17:28:11.931 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-05-28 17:28:11.983 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-28 17:28:11.984 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 932 ms
2025-05-28 17:28:12.222 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-05-28 17:28:12.419 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-05-28 17:28:13.488 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-05-28 17:28:13.491 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-05-28 17:28:13.491 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-05-28 17:28:13.492 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-05-28 17:28:13.496 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-28 17:28:13.496 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-28 17:28:13.499 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 5e5089df-d6c4-4c74-bdfe-a725bc427823
2025-05-28 17:28:13.499 [main] INFO  com.alibaba.nacos.common.remote.client - [5e5089df-d6c4-4c74-bdfe-a725bc427823] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-05-28 17:28:13.500 [main] INFO  com.alibaba.nacos.common.remote.client - [5e5089df-d6c4-4c74-bdfe-a725bc427823] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-05-28 17:28:13.500 [main] INFO  com.alibaba.nacos.common.remote.client - [5e5089df-d6c4-4c74-bdfe-a725bc427823] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-05-28 17:28:13.500 [main] INFO  com.alibaba.nacos.common.remote.client - [5e5089df-d6c4-4c74-bdfe-a725bc427823] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-28 17:28:13.500 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-28 17:28:13.618 [main] INFO  com.alibaba.nacos.common.remote.client - [5e5089df-d6c4-4c74-bdfe-a725bc427823] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1748424493504_127.0.0.1_56338
2025-05-28 17:28:13.618 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [5e5089df-d6c4-4c74-bdfe-a725bc427823] Notify connected event to listeners.
2025-05-28 17:28:13.618 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-05-28 17:28:13.618 [main] INFO  com.alibaba.nacos.common.remote.client - [5e5089df-d6c4-4c74-bdfe-a725bc427823] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-28 17:28:13.618 [main] INFO  com.alibaba.nacos.common.remote.client - [5e5089df-d6c4-4c74-bdfe-a725bc427823] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$610/0x0000014c014dac38
2025-05-28 17:28:13.619 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-auth with instance Instance{instanceId='null', ip='192.168.10.1', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-05-28 17:28:13.630 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-auth 192.168.10.1:8080 register finished
2025-05-28 17:28:13.794 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - Started XiaohashuAuthApplication in 4.514 seconds (process running for 4.867)
2025-05-28 17:28:13.795 [main] INFO  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2025-05-28 17:28:14.083 [main] WARN  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 角色权限数据已经同步至 Redis 中，不再同步...
2025-05-28 17:28:14.085 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-05-28 17:28:14.085 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth.yaml+DEFAULT_GROUP+xiaohashu
2025-05-28 17:28:14.090 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP, cnt=1
2025-05-28 17:28:14.091 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP
2025-05-28 17:28:14.091 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth-dev.yaml+DEFAULT_GROUP+xiaohashu
2025-05-28 17:28:14.091 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP, cnt=1
2025-05-28 17:28:14.091 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP
2025-05-28 17:28:14.092 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth+DEFAULT_GROUP+xiaohashu
2025-05-28 17:28:14.092 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth, group=DEFAULT_GROUP, cnt=1
2025-05-28 17:28:14.092 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth, group=DEFAULT_GROUP
2025-05-28 17:28:23.500 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-28 17:28:23.501 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-28 17:28:23.501 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-05-28 17:28:23.502 [http-nio-8080-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 17:28:23.708 [http-nio-8080-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录/注册], 入参: {"phone":"18684805496","code":null,"password":"123456","type":2}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2025-05-28 17:28:23.771 [http-nio-8080-exec-1] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-05-28 17:28:24.088 [http-nio-8080-exec-1] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18684805496(String)
2025-05-28 17:28:24.139 [http-nio-8080-exec-1] DEBUG c.q.x.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-05-28 17:28:24.325 [http-nio-8080-exec-1] INFO  c.q.xiaohashu.auth.service.impl.UserServiceImpl - userId为8
2025-05-28 17:28:24.494 [http-nio-8080-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录/注册], 耗时: 784ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"v8I6gK00oT0Qe542Bovuudo7gg9uhvLAIEwckfunEuyHiFIVU69Ld1x6IaxtpVdtdRnYZrDv9l1eyFgeflGYicMBV6MFXj68CUHOupcTEpNLT1IwSZ7ybKXdITIuQh4r"} =================================== 
2025-05-28 17:29:19.262 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-05-28 17:29:19.262 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-05-28 17:29:19.262 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-05-28 17:29:19.262 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-05-28 17:29:19.291 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-05-28 17:29:19.291 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-auth with instance: Instance{instanceId='null', ip='192.168.10.1', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-05-28 17:29:19.294 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-05-28 17:29:19.294 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-05-28 17:29:19.294 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-05-28 17:29:19.294 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-05-28 17:29:19.295 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-05-28 17:29:19.295 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-05-28 17:29:19.295 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-05-28 17:29:19.295 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-05-28 17:29:19.295 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-05-28 17:29:19.295 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-28 17:29:19.295 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-28 17:29:19.295 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-05-28 17:29:19.295 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-05-28 17:29:19.295 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-28 17:29:19.295 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-28 17:29:19.295 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-05-28 17:29:19.295 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-05-28 17:29:19.295 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@20214159[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-05-28 17:29:19.295 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1748424493504_127.0.0.1_56338
2025-05-28 17:29:19.296 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@2c1ea336[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 25]
2025-05-28 17:29:19.296 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@7205e1ed[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 21]
2025-05-28 17:29:19.296 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-05-28 17:29:19.296 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-05-28 17:29:19.296 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-05-28 17:29:19.298 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-05-28 17:29:19.302 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-05-28 20:50:32.820 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 20:50:32.869 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 20:50:33.039 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 20:50:33.040 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-05-28 20:50:33.041 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-05-28 20:50:33.041 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-05-28 20:50:33.068 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-28 20:50:33.068 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-28 20:50:33.070 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-05-28 20:50:34.423 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 20:50:34.437 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\29567\nacos\config
2025-05-28 20:50:34.441 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of b9fadcdb-ea2f-4cff-8b1e-81e42a4498fd_config-0
2025-05-28 20:50:34.457 [main] INFO  com.alibaba.nacos.common.remote.client - [b9fadcdb-ea2f-4cff-8b1e-81e42a4498fd_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$588/0x0000024f33392e60
2025-05-28 20:50:34.458 [main] INFO  com.alibaba.nacos.common.remote.client - [b9fadcdb-ea2f-4cff-8b1e-81e42a4498fd_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$589/0x0000024f33393280
2025-05-28 20:50:34.458 [main] INFO  com.alibaba.nacos.common.remote.client - [b9fadcdb-ea2f-4cff-8b1e-81e42a4498fd_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2025-05-28 20:50:34.458 [main] INFO  com.alibaba.nacos.common.remote.client - [b9fadcdb-ea2f-4cff-8b1e-81e42a4498fd_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2025-05-28 20:50:34.464 [main] INFO  com.alibaba.nacos.common.remote.client - [b9fadcdb-ea2f-4cff-8b1e-81e42a4498fd_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-28 20:50:34.503 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-28 20:50:35.268 [main] INFO  com.alibaba.nacos.common.remote.client - [b9fadcdb-ea2f-4cff-8b1e-81e42a4498fd_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1748436635097_127.0.0.1_62494
2025-05-28 20:50:35.269 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [b9fadcdb-ea2f-4cff-8b1e-81e42a4498fd_config-0] Notify connected event to listeners.
2025-05-28 20:50:35.270 [main] INFO  com.alibaba.nacos.common.remote.client - [b9fadcdb-ea2f-4cff-8b1e-81e42a4498fd_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-28 20:50:35.270 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [b9fadcdb-ea2f-4cff-8b1e-81e42a4498fd_config-0] Connected,notify listen context...
2025-05-28 20:50:35.271 [main] INFO  com.alibaba.nacos.common.remote.client - [b9fadcdb-ea2f-4cff-8b1e-81e42a4498fd_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$609/0x0000024f334db598
2025-05-28 20:50:35.343 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2025-05-28 20:50:35.370 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2025-05-28 20:50:35.386 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-auth.yaml] & group[DEFAULT_GROUP]
2025-05-28 20:50:35.392 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth,DEFAULT_GROUP'}]
2025-05-28 20:50:35.408 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 20:50:35.408 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - The following 1 profile is active: "dev"
2025-05-28 20:50:35.954 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-28 20:50:35.957 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-28 20:50:35.981 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-05-28 20:50:36.084 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=49ee6574-566c-344b-9f1b-815738182ca5
2025-05-28 20:50:36.501 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-05-28 20:50:36.508 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-05-28 20:50:36.508 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-05-28 20:50:36.563 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-28 20:50:36.564 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1146 ms
2025-05-28 20:50:36.876 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-05-28 20:50:37.103 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-05-28 20:50:38.727 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-28 20:50:40.160 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-28 20:50:40.253 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-05-28 20:50:40.255 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-05-28 20:50:40.255 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-05-28 20:50:40.255 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-05-28 20:50:40.260 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-28 20:50:40.260 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-28 20:50:40.263 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 32dac1b5-7ffa-4c8e-a82e-8301699e4671
2025-05-28 20:50:40.264 [main] INFO  com.alibaba.nacos.common.remote.client - [32dac1b5-7ffa-4c8e-a82e-8301699e4671] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-05-28 20:50:40.264 [main] INFO  com.alibaba.nacos.common.remote.client - [32dac1b5-7ffa-4c8e-a82e-8301699e4671] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-05-28 20:50:40.265 [main] INFO  com.alibaba.nacos.common.remote.client - [32dac1b5-7ffa-4c8e-a82e-8301699e4671] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-05-28 20:50:40.265 [main] INFO  com.alibaba.nacos.common.remote.client - [32dac1b5-7ffa-4c8e-a82e-8301699e4671] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-28 20:50:40.265 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-28 20:50:40.377 [main] INFO  com.alibaba.nacos.common.remote.client - [32dac1b5-7ffa-4c8e-a82e-8301699e4671] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1748436640269_127.0.0.1_62513
2025-05-28 20:50:40.377 [main] INFO  com.alibaba.nacos.common.remote.client - [32dac1b5-7ffa-4c8e-a82e-8301699e4671] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-28 20:50:40.377 [main] INFO  com.alibaba.nacos.common.remote.client - [32dac1b5-7ffa-4c8e-a82e-8301699e4671] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$609/0x0000024f334db598
2025-05-28 20:50:40.377 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [32dac1b5-7ffa-4c8e-a82e-8301699e4671] Notify connected event to listeners.
2025-05-28 20:50:40.377 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-05-28 20:50:40.378 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-auth with instance Instance{instanceId='null', ip='192.168.10.1', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-05-28 20:50:40.386 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-auth 192.168.10.1:8080 register finished
2025-05-28 20:50:41.532 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-28 20:50:41.564 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - Started XiaohashuAuthApplication in 10.315 seconds (process running for 11.137)
2025-05-28 20:50:41.566 [main] INFO  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2025-05-28 20:50:41.905 [main] WARN  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 角色权限数据已经同步至 Redis 中，不再同步...
2025-05-28 20:50:41.907 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-05-28 20:50:41.908 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth.yaml+DEFAULT_GROUP+xiaohashu
2025-05-28 20:50:41.912 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP, cnt=1
2025-05-28 20:50:41.912 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP
2025-05-28 20:50:41.913 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth-dev.yaml+DEFAULT_GROUP+xiaohashu
2025-05-28 20:50:41.913 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP, cnt=1
2025-05-28 20:50:41.913 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP
2025-05-28 20:50:41.914 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth+DEFAULT_GROUP+xiaohashu
2025-05-28 20:50:41.914 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth, group=DEFAULT_GROUP, cnt=1
2025-05-28 20:50:41.914 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth, group=DEFAULT_GROUP
2025-05-28 20:55:52.300 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-28 20:55:52.300 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-28 20:55:52.300 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-05-28 20:55:52.308 [http-nio-8080-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 20:55:52.432 [http-nio-8080-exec-1] INFO  c.q.x.a.service.impl.VerificationCodeServiceImpl - ==> 手机号: 18684805496, 已发送验证码：【891576】
2025-05-28 20:55:52.432 [AuthExecutor-1] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 开始短信发送, phone: 18684805496, signName: 阿里云短信测试, templateCode: SMS_154950909, templateParam: {"code":"891576"}
2025-05-28 20:55:53.484 [AuthExecutor-1] ERROR com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 短信发送错误: 
com.aliyun.tea.TeaException: code: 400, AccessKeyId is mandatory for this action. request id: B2E093EE-0BAC-5DA0-9A92-117E8FD35E81
	at com.aliyun.teaopenapi.Client.doRequest(Client.java:799)
	at com.aliyun.teaopenapi.Client.callApi(Client.java:1022)
	at com.aliyun.dysmsapi20170525.Client.sendSmsWithOptions(Client.java:1596)
	at com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper.sendMessage(AliyunSmsHelper.java:45)
	at com.quanxiaoha.xiaohashu.auth.service.impl.VerificationCodeServiceImpl.lambda$send$0(VerificationCodeServiceImpl.java:52)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-05-28 20:58:59.767 [http-nio-8080-exec-5] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 20:58:59.774 [http-nio-8080-exec-5] INFO  c.q.x.a.service.impl.VerificationCodeServiceImpl - ==> 手机号: 18684805496, 已发送验证码：【102824】
2025-05-28 20:58:59.775 [AuthExecutor-2] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 开始短信发送, phone: 18684805496, signName: 阿里云短信测试, templateCode: SMS_154950909, templateParam: {"code":"102824"}
2025-05-28 20:59:00.079 [AuthExecutor-2] ERROR com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 短信发送错误: 
com.aliyun.tea.TeaException: code: 400, AccessKeyId is mandatory for this action. request id: 12375572-0E16-5820-8DD8-03CF20F1B8B7
	at com.aliyun.teaopenapi.Client.doRequest(Client.java:799)
	at com.aliyun.teaopenapi.Client.callApi(Client.java:1022)
	at com.aliyun.dysmsapi20170525.Client.sendSmsWithOptions(Client.java:1596)
	at com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper.sendMessage(AliyunSmsHelper.java:45)
	at com.quanxiaoha.xiaohashu.auth.service.impl.VerificationCodeServiceImpl.lambda$send$0(VerificationCodeServiceImpl.java:52)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-05-28 20:59:54.312 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-05-28 20:59:54.313 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-05-28 20:59:54.313 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-05-28 20:59:54.313 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-05-28 20:59:54.346 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-05-28 20:59:54.346 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-auth with instance: Instance{instanceId='null', ip='192.168.10.1', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-05-28 20:59:54.349 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-05-28 20:59:54.350 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-05-28 20:59:54.350 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-05-28 20:59:54.350 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-05-28 20:59:54.350 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-05-28 20:59:54.350 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-05-28 20:59:54.350 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-05-28 20:59:54.350 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-05-28 20:59:54.350 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-05-28 20:59:54.350 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-28 20:59:54.350 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-28 20:59:54.350 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-05-28 20:59:54.350 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-05-28 20:59:54.350 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-28 20:59:54.350 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-28 20:59:54.350 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-05-28 20:59:54.350 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-05-28 20:59:54.350 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@6d5eed13[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-05-28 20:59:54.350 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1748436640269_127.0.0.1_62513
2025-05-28 20:59:54.351 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@14848697[Running, pool size = 3, active threads = 0, queued tasks = 0, completed tasks = 134]
2025-05-28 20:59:54.352 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@6faf6eef[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 184]
2025-05-28 20:59:54.352 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-05-28 20:59:54.352 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-05-28 20:59:54.352 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-05-28 20:59:54.353 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-05-28 20:59:54.358 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-05-28 20:59:57.471 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 20:59:57.506 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 20:59:57.650 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 20:59:57.652 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-05-28 20:59:57.652 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-05-28 20:59:57.653 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-05-28 20:59:57.669 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-28 20:59:57.669 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-28 20:59:57.670 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-05-28 20:59:58.956 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 20:59:58.975 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\29567\nacos\config
2025-05-28 20:59:58.980 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 77d38e3b-c84a-415e-a73b-c90a20795806_config-0
2025-05-28 20:59:59.001 [main] INFO  com.alibaba.nacos.common.remote.client - [77d38e3b-c84a-415e-a73b-c90a20795806_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$589/0x0000022d01393488
2025-05-28 20:59:59.002 [main] INFO  com.alibaba.nacos.common.remote.client - [77d38e3b-c84a-415e-a73b-c90a20795806_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$590/0x0000022d013938a8
2025-05-28 20:59:59.002 [main] INFO  com.alibaba.nacos.common.remote.client - [77d38e3b-c84a-415e-a73b-c90a20795806_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2025-05-28 20:59:59.002 [main] INFO  com.alibaba.nacos.common.remote.client - [77d38e3b-c84a-415e-a73b-c90a20795806_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2025-05-28 20:59:59.008 [main] INFO  com.alibaba.nacos.common.remote.client - [77d38e3b-c84a-415e-a73b-c90a20795806_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-28 20:59:59.061 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-28 20:59:59.743 [main] INFO  com.alibaba.nacos.common.remote.client - [77d38e3b-c84a-415e-a73b-c90a20795806_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1748437199579_127.0.0.1_63217
2025-05-28 20:59:59.744 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [77d38e3b-c84a-415e-a73b-c90a20795806_config-0] Notify connected event to listeners.
2025-05-28 20:59:59.744 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [77d38e3b-c84a-415e-a73b-c90a20795806_config-0] Connected,notify listen context...
2025-05-28 20:59:59.744 [main] INFO  com.alibaba.nacos.common.remote.client - [77d38e3b-c84a-415e-a73b-c90a20795806_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-28 20:59:59.745 [main] INFO  com.alibaba.nacos.common.remote.client - [77d38e3b-c84a-415e-a73b-c90a20795806_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$610/0x0000022d014db598
2025-05-28 20:59:59.801 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2025-05-28 20:59:59.817 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2025-05-28 20:59:59.826 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-auth.yaml] & group[DEFAULT_GROUP]
2025-05-28 20:59:59.832 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-auth,DEFAULT_GROUP'}]
2025-05-28 20:59:59.856 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-05-28 20:59:59.856 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - The following 1 profile is active: "dev"
2025-05-28 21:00:00.333 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-28 21:00:00.338 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-28 21:00:00.372 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2025-05-28 21:00:00.531 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=49ee6574-566c-344b-9f1b-815738182ca5
2025-05-28 21:00:00.971 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-05-28 21:00:00.978 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-05-28 21:00:00.980 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-05-28 21:00:01.056 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-28 21:00:01.059 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1190 ms
2025-05-28 21:00:01.356 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-05-28 21:00:01.572 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-05-28 21:00:03.149 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-28 21:00:04.676 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-28 21:00:04.723 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-05-28 21:00:04.727 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-05-28 21:00:04.727 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-05-28 21:00:04.727 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-05-28 21:00:04.732 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-05-28 21:00:04.732 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-05-28 21:00:04.735 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of ec54c8ff-3f2f-4765-b4f3-541ff0a29f2a
2025-05-28 21:00:04.736 [main] INFO  com.alibaba.nacos.common.remote.client - [ec54c8ff-3f2f-4765-b4f3-541ff0a29f2a] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-05-28 21:00:04.736 [main] INFO  com.alibaba.nacos.common.remote.client - [ec54c8ff-3f2f-4765-b4f3-541ff0a29f2a] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-05-28 21:00:04.736 [main] INFO  com.alibaba.nacos.common.remote.client - [ec54c8ff-3f2f-4765-b4f3-541ff0a29f2a] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-05-28 21:00:04.737 [main] INFO  com.alibaba.nacos.common.remote.client - [ec54c8ff-3f2f-4765-b4f3-541ff0a29f2a] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-05-28 21:00:04.737 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-05-28 21:00:04.862 [main] INFO  com.alibaba.nacos.common.remote.client - [ec54c8ff-3f2f-4765-b4f3-541ff0a29f2a] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1748437204752_127.0.0.1_63227
2025-05-28 21:00:04.862 [main] INFO  com.alibaba.nacos.common.remote.client - [ec54c8ff-3f2f-4765-b4f3-541ff0a29f2a] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-05-28 21:00:04.862 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [ec54c8ff-3f2f-4765-b4f3-541ff0a29f2a] Notify connected event to listeners.
2025-05-28 21:00:04.862 [main] INFO  com.alibaba.nacos.common.remote.client - [ec54c8ff-3f2f-4765-b4f3-541ff0a29f2a] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$610/0x0000022d014db598
2025-05-28 21:00:04.862 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-05-28 21:00:04.864 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-auth with instance Instance{instanceId='null', ip='192.168.10.1', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-05-28 21:00:04.883 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-auth 192.168.10.1:8080 register finished
2025-05-28 21:00:06.077 [main] INFO  org.springframework.cloud.commons.util.InetUtils - Cannot determine local hostname
2025-05-28 21:00:06.101 [main] INFO  c.q.xiaohashu.auth.XiaohashuAuthApplication - Started XiaohashuAuthApplication in 10.155 seconds (process running for 10.562)
2025-05-28 21:00:06.102 [main] INFO  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2025-05-28 21:00:06.371 [main] WARN  c.q.x.auth.runner.PushRolePermissions2RedisRunner - ==> 角色权限数据已经同步至 Redis 中，不再同步...
2025-05-28 21:00:06.373 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-05-28 21:00:06.374 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth.yaml+DEFAULT_GROUP+xiaohashu
2025-05-28 21:00:06.377 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP, cnt=1
2025-05-28 21:00:06.377 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth.yaml, group=DEFAULT_GROUP
2025-05-28 21:00:06.378 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth-dev.yaml+DEFAULT_GROUP+xiaohashu
2025-05-28 21:00:06.378 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP, cnt=1
2025-05-28 21:00:06.378 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth-dev.yaml, group=DEFAULT_GROUP
2025-05-28 21:00:06.379 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-auth+DEFAULT_GROUP+xiaohashu
2025-05-28 21:00:06.379 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-auth, group=DEFAULT_GROUP, cnt=1
2025-05-28 21:00:06.379 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-auth, group=DEFAULT_GROUP
2025-05-28 21:02:11.195 [http-nio-8080-exec-3] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-28 21:02:11.199 [http-nio-8080-exec-3] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-28 21:02:11.200 [http-nio-8080-exec-3] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-05-28 21:02:11.206 [http-nio-8080-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ## HeaderUserId2ContextFilter, 用户 ID: null
2025-05-28 21:02:11.355 [http-nio-8080-exec-3] INFO  c.q.x.a.service.impl.VerificationCodeServiceImpl - ==> 手机号: 18684805496, 已发送验证码：【783637】
2025-05-28 21:02:11.355 [AuthExecutor-1] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 开始短信发送, phone: 18684805496, signName: 阿里云短信测试, templateCode: SMS_154950909, templateParam: {"code":"783637"}
2025-05-28 21:02:12.513 [AuthExecutor-1] INFO  com.quanxiaoha.xiaohashu.auth.sms.AliyunSmsHelper - ==> 短信发送成功, response: {"headers":{"access-control-allow-origin":"*","date":"Wed, 28 May 2025 13:02:12 GMT","content-length":"110","keep-alive":"timeout=25","x-acs-request-id":"7D6BC04B-110D-5F8F-B5A9-59D5CEF2AF27","connection":"keep-alive","content-type":"application/json;charset=utf-8","etag":"1P4Xpm28/V+vffrDxbvtkSw0","access-control-expose-headers":"*","x-acs-trace-id":"4b1b5bc0c04d1a14024c519f8283fdb2"},"statusCode":200,"body":{"bizId":"582819848437331818^0","code":"OK","message":"OK","requestId":"7D6BC04B-110D-5F8F-B5A9-59D5CEF2AF27"}}
2025-05-28 21:39:16.950 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-05-28 21:39:16.951 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-05-28 21:39:16.951 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-05-28 21:39:16.952 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-05-28 21:39:16.991 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-05-28 21:39:16.991 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-auth with instance: Instance{instanceId='null', ip='192.168.10.1', port=8080, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-05-28 21:39:16.993 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-05-28 21:39:16.994 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-05-28 21:39:16.994 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-05-28 21:39:16.994 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-05-28 21:39:16.994 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-05-28 21:39:16.994 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-05-28 21:39:16.994 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-05-28 21:39:16.994 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-05-28 21:39:16.994 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-05-28 21:39:16.994 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-28 21:39:16.994 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-28 21:39:16.994 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-05-28 21:39:16.994 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-05-28 21:39:16.994 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-05-28 21:39:16.994 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-05-28 21:39:16.994 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-05-28 21:39:16.994 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-05-28 21:39:16.994 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@11cb8875[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-05-28 21:39:16.994 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1748437204752_127.0.0.1_63227
2025-05-28 21:39:16.997 [nacos-grpc-client-executor-127.0.0.1-503] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1748437204752_127.0.0.1_63227]Ignore complete event,isRunning:false,isAbandon=false
2025-05-28 21:39:16.997 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@3cc05800[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 504]
2025-05-28 21:39:16.998 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@2c9097ba[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 781]
2025-05-28 21:39:16.998 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-05-28 21:39:16.998 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-05-28 21:39:16.998 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-05-28 21:39:16.999 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-05-28 21:39:16.999 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
